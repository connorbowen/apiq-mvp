{"numFailedTestSuites":13,"numFailedTests":71,"numPassedTestSuites":7,"numPassedTests":155,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":2,"numTodoTests":0,"numTotalTestSuites":20,"numTotalTests":226,"openHandles":[],"snapshot":{"added":0,"didUpdate":false,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0},"startTime":1751471234774,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["OAuth2 Security Integration Tests","CSRF Protection"],"duration":37,"failureDetails":[],"failureMessages":[],"fullName":"OAuth2 Security Integration Tests CSRF Protection should validate state parameter in OAuth2 callback","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should validate state parameter in OAuth2 callback"},{"ancestorTitles":["OAuth2 Security Integration Tests","CSRF Protection"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"OAuth2 Security Integration Tests CSRF Protection should reject malicious state parameter","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should reject malicious state parameter"},{"ancestorTitles":["OAuth2 Security Integration Tests","CSRF Protection"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"OAuth2 Security Integration Tests CSRF Protection should reject expired state parameter","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should reject expired state parameter"},{"ancestorTitles":["OAuth2 Security Integration Tests","CSRF Protection"],"duration":13,"failureDetails":[],"failureMessages":[],"fullName":"OAuth2 Security Integration Tests CSRF Protection should reject tampered state parameter","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should reject tampered state parameter"},{"ancestorTitles":["OAuth2 Security Integration Tests","Authentication Requirements"],"duration":10,"failureDetails":[],"failureMessages":[],"fullName":"OAuth2 Security Integration Tests Authentication Requirements should require authentication for OAuth2 authorization","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should require authentication for OAuth2 authorization"},{"ancestorTitles":["OAuth2 Security Integration Tests","Authentication Requirements"],"duration":10,"failureDetails":[],"failureMessages":[],"fullName":"OAuth2 Security Integration Tests Authentication Requirements should require authentication for token refresh","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should require authentication for token refresh"},{"ancestorTitles":["OAuth2 Security Integration Tests","Authentication Requirements"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"OAuth2 Security Integration Tests Authentication Requirements should require authentication for token retrieval","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should require authentication for token retrieval"},{"ancestorTitles":["OAuth2 Security Integration Tests","Authorization Validation"],"duration":240,"failureDetails":[{"name":"PrismaClientKnownRequestError","code":"P2025","clientVersion":"6.10.1","meta":{"modelName":"User","cause":"No record was found for a delete."}}],"failureMessages":["PrismaClientKnownRequestError: \nInvalid `prisma.user.delete()` invocation in\n/Users/connorbowen/apiq-mvp/tests/integration/api/oauth2-security.test.ts:195:31\n\n  192 expect(data.error).toBe('API connection not found');\n  193 \n  194 // Cleanup\n→ 195 await prisma.user.delete(\nAn operation failed because it depends on one or more records that were required but not found. No record was found for a delete.\n    at Zn.handleRequestError (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:7459)\n    at Zn.handleRequestError [as handleAndLogRequestError] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6784)\n    at Zn.handleAndLogRequestError [as request] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6491)\n    at l (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:133:9778)\n    at Object.<anonymous> (/Users/connorbowen/apiq-mvp/tests/integration/api/oauth2-security.test.ts:195:7)"],"fullName":"OAuth2 Security Integration Tests Authorization Validation should validate API connection ownership","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"failed","title":"should validate API connection ownership"},{"ancestorTitles":["OAuth2 Security Integration Tests","Authorization Validation"],"duration":10,"failureDetails":[],"failureMessages":[],"fullName":"OAuth2 Security Integration Tests Authorization Validation should reject invalid API connection ID","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should reject invalid API connection ID"},{"ancestorTitles":["OAuth2 Security Integration Tests","Input Validation"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"OAuth2 Security Integration Tests Input Validation should validate required OAuth2 parameters","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should validate required OAuth2 parameters"},{"ancestorTitles":["OAuth2 Security Integration Tests","Input Validation"],"duration":17,"failureDetails":[],"failureMessages":[],"fullName":"OAuth2 Security Integration Tests Input Validation should validate OAuth2 provider support","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should validate OAuth2 provider support"},{"ancestorTitles":["OAuth2 Security Integration Tests","Input Validation"],"duration":15,"failureDetails":[],"failureMessages":[],"fullName":"OAuth2 Security Integration Tests Input Validation should validate redirect URI format","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should validate redirect URI format"},{"ancestorTitles":["OAuth2 Security Integration Tests","Token Security"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"OAuth2 Security Integration Tests Token Security should encrypt OAuth2 tokens before storage","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should encrypt OAuth2 tokens before storage"},{"ancestorTitles":["OAuth2 Security Integration Tests","Token Security"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"OAuth2 Security Integration Tests Token Security should handle token encryption failures gracefully","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle token encryption failures gracefully"},{"ancestorTitles":["OAuth2 Security Integration Tests","Scope Validation"],"duration":16,"failureDetails":[],"failureMessages":[],"fullName":"OAuth2 Security Integration Tests Scope Validation should validate OAuth2 scopes","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should validate OAuth2 scopes"},{"ancestorTitles":["OAuth2 Security Integration Tests","Scope Validation"],"duration":13,"failureDetails":[],"failureMessages":[],"fullName":"OAuth2 Security Integration Tests Scope Validation should handle empty scope gracefully","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle empty scope gracefully"},{"ancestorTitles":["OAuth2 Security Integration Tests","Rate Limiting"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"OAuth2 Security Integration Tests Rate Limiting should handle OAuth2 rate limiting","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle OAuth2 rate limiting"},{"ancestorTitles":["OAuth2 Security Integration Tests","Audit Logging"],"duration":11,"failureDetails":[],"failureMessages":[],"fullName":"OAuth2 Security Integration Tests Audit Logging should log OAuth2 authorization attempts","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should log OAuth2 authorization attempts"},{"ancestorTitles":["OAuth2 Security Integration Tests","Audit Logging"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"OAuth2 Security Integration Tests Audit Logging should log OAuth2 callback processing","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should log OAuth2 callback processing"},{"ancestorTitles":["OAuth2 Security Integration Tests","Error Handling"],"duration":14,"failureDetails":[],"failureMessages":[],"fullName":"OAuth2 Security Integration Tests Error Handling should not expose sensitive information in error messages","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should not expose sensitive information in error messages"},{"ancestorTitles":["OAuth2 Security Integration Tests","Error Handling"],"duration":14,"failureDetails":[],"failureMessages":[],"fullName":"OAuth2 Security Integration Tests Error Handling should handle malformed OAuth2 responses","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle malformed OAuth2 responses"}],"endTime":1751471237141,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mOAuth2 Security Integration Tests › Authorization Validation › should validate API connection ownership\u001b[39m\u001b[22m\n\n    PrismaClientKnownRequestError: \n    Invalid `prisma.user.delete()` invocation in\n    /Users/connorbowen/apiq-mvp/tests/integration/api/oauth2-security.test.ts:195:31\n\n      192 expect(data.error).toBe('API connection not found');\n      193 \n      194 // Cleanup\n    → 195 await prisma.user.delete(\n    An operation failed because it depends on one or more records that were required but not found. No record was found for a delete.\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 122 |\u001b[39m \u001b[32m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 123 |\u001b[39m \u001b[32mMore Information: https://pris.ly/d/execute-raw\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 124 |\u001b[39m \u001b[32m`\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mCo\u001b[39m\u001b[33m=\u001b[39m({clientMethod\u001b[33m:\u001b[39me\u001b[33m,\u001b[39mactiveProvider\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39mt\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[32m\"\"\u001b[39m\u001b[33m,\u001b[39mi\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mFn\u001b[39m(t))n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(t)){\u001b[36mlet\u001b[39m[o\u001b[33m,\u001b[39m\u001b[33m...\u001b[39ms]\u001b[33m=\u001b[39mt\u001b[33m;\u001b[39mn\u001b[33m=\u001b[39mo\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(s\u001b[33m||\u001b[39m[])\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}}\u001b[36melse\u001b[39m \u001b[36mswitch\u001b[39m(r){\u001b[36mcase\u001b[39m\u001b[32m\"sqlite\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"mysql\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"cockroachdb\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgresql\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgres\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mtext\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"sqlserver\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mjl(t)\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`The ${r} provider does not support ${e}`\u001b[39m)}\u001b[36mreturn\u001b[39m i\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mvalues\u001b[33m?\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n}, ${i.values})`\u001b[39m)\u001b[33m:\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n})`\u001b[39m)\u001b[33m,\u001b[39m{query\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mparameters\u001b[33m:\u001b[39mi}}\u001b[33m,\u001b[39m\u001b[33mWl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e\u001b[33m.\u001b[39mstrings\u001b[33m,\u001b[39m\u001b[33m...\u001b[39me\u001b[33m.\u001b[39mvalues]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mlet\u001b[39m[r\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mt]\u001b[33m=\u001b[39me\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m oe(r\u001b[33m,\u001b[39mt)}}\u001b[33m,\u001b[39m\u001b[33mJl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mreturn\u001b[39m e[\u001b[35m0\u001b[39m]}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mAo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mfunction\u001b[39m(t\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m(s\u001b[33m=\u001b[39me)\u001b[33m=>\u001b[39m{\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m s\u001b[33m===\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m||\u001b[39ms\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33m=\u001b[39m\u001b[33mHl\u001b[39m(t(s))\u001b[33m:\u001b[39m\u001b[33mHl\u001b[39m(t(s))}\u001b[36mcatch\u001b[39m(a){\u001b[36mreturn\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mreject(a)}}\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[36mget\u001b[39m spec(){\u001b[36mreturn\u001b[39m n}\u001b[33m,\u001b[39mthen(s\u001b[33m,\u001b[39ma){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39mthen(s\u001b[33m,\u001b[39ma)}\u001b[33m,\u001b[39m\u001b[36mcatch\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(s)}\u001b[33m,\u001b[39m\u001b[36mfinally\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mfinally\u001b[39m(s)}\u001b[33m,\u001b[39mrequestTransaction(s){\u001b[36mlet\u001b[39m a\u001b[33m=\u001b[39mo(s)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m a\u001b[33m.\u001b[39mrequestTransaction\u001b[33m?\u001b[39ma\u001b[33m.\u001b[39mrequestTransaction(s)\u001b[33m:\u001b[39ma}\u001b[33m,\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag]\u001b[33m:\u001b[39m\u001b[32m\"PrismaPromise\"\u001b[39m}}}\u001b[36mfunction\u001b[39m \u001b[33mHl\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mthen\u001b[33m==\u001b[39m\u001b[32m\"function\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39m\u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mresolve(e)}\u001b[36mvar\u001b[39m \u001b[33mTf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mEi\u001b[39m\u001b[33m.\u001b[39msplit(\u001b[32m\".\"\u001b[39m)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mSf\u001b[39m\u001b[33m=\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m}\u001b[33m,\u001b[39mgetTraceParent(){\u001b[36mreturn\u001b[39m\u001b[32m\"00-10-10-00\"\u001b[39m}\u001b[33m,\u001b[39mdispatchEngineSpans(){}\u001b[33m,\u001b[39mgetActiveContext(){}\u001b[33m,\u001b[39mrunInChildSpan(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m r()}}\u001b[33m,\u001b[39m\u001b[33mIo\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39misEnabled()}getTraceParent(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetTraceParent(r)}dispatchEngineSpans(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mdispatchEngineSpans(r)}getActiveContext(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetActiveContext()}runInChildSpan(r\u001b[33m,\u001b[39mt){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mrunInChildSpan(r\u001b[33m,\u001b[39mt)}getGlobalTracingHelper(){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39mglobalThis[\u001b[32m`V${Tf}_PRISMA_INSTRUMENTATION`\u001b[39m]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39mglobalThis\u001b[33m.\u001b[39m\u001b[33mPRISMA_INSTRUMENTATION\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33mSf\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKl\u001b[39m(){\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mIo\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mYl\u001b[39m(e\u001b[33m,\u001b[39mr\u001b[33m=\u001b[39m()\u001b[33m=>\u001b[39m{}){\u001b[36mlet\u001b[39m t\u001b[33m,\u001b[39mn\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m(i\u001b[33m=>\u001b[39mt\u001b[33m=\u001b[39mi)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{then(i){\u001b[36mreturn\u001b[39m\u001b[33m--\u001b[39me\u001b[33m===\u001b[39m\u001b[35m0\u001b[39m\u001b[33m&&\u001b[39mt(r())\u001b[33m,\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m.\u001b[39m(n)}}}\u001b[36mfunction\u001b[39m zl(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mreduce((r\u001b[33m,\u001b[39mt)\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[36mtypeof\u001b[39m t\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mlevel\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m===\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m?\u001b[39mr\u001b[33m:\u001b[39mr\u001b[33m&&\u001b[39m(t\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m||\u001b[39mr\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m)\u001b[33m?\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m:\u001b[39mn}\u001b[33m,\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mHn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{_middlewares\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39muse(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mpush(r)}\u001b[36mget\u001b[39m(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}has(r){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[33m!\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}length(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mlength}}\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mXl\u001b[39m\u001b[33m=\u001b[39mk(\u001b[33mOi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKn\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m==\u001b[39m\u001b[32m\"number\"\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mZl\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUnique\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUniqueOrThrow\"\u001b[39m)\u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mmodelName\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(e\u001b[33m.\u001b[39mmodelName)\u001b[33m,\u001b[39me\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39mselection))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mjoin(\u001b[32m\"\"\u001b[39m)}\u001b[36mfunction\u001b[39m ko(e){\u001b[36mreturn\u001b[39m\u001b[32m`(${Object.keys(e).sort().map(t=>{let n=e[t];return typeof n==\"object\"&&n!==null?`(${t} ${ko(n)})`:t}).join(\" \")})`\u001b[39m}\u001b[36mvar\u001b[39m \u001b[33mRf\u001b[39m\u001b[33m=\u001b[39m{aggregate\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39maggregateRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mcreateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mexecuteRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mfindFirst\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindFirstOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUnique\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUniqueOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mgroupBy\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mqueryRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mrunCommandRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupsertOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mOo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[33mRf\u001b[39m[e]}\u001b[36mvar\u001b[39m \u001b[33mYn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{constructor(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches\u001b[33m=\u001b[39m{}}batches\u001b[33m;\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m;\u001b[39mrequest(r){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchBy(r)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m t\u001b[33m?\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mprocess\u001b[33m.\u001b[39mnextTick(()\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdispatchBatches()\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m})))\u001b[33m,\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m.\u001b[39mpush({request\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mresolve\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mreject\u001b[33m:\u001b[39mi})}))\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(r)}dispatchBatches(){\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m r \u001b[36min\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m;\u001b[39m\u001b[36mdelete\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m,\u001b[39mt\u001b[33m.\u001b[39mlength\u001b[33m===\u001b[39m\u001b[35m1\u001b[39m\u001b[33m?\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mrequest)\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)\u001b[33m:\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mresolve(n)})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)})\u001b[33m:\u001b[39m(t\u001b[33m.\u001b[39msort((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchOrder(n\u001b[33m.\u001b[39mrequest\u001b[33m,\u001b[39mi\u001b[33m.\u001b[39mrequest))\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchLoader(t\u001b[33m.\u001b[39mmap(n\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mrequest))\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m o\u001b[33m=\u001b[39mn[i]\u001b[33m;\u001b[39mo \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[i]\u001b[33m.\u001b[39mreject(o)\u001b[33m:\u001b[39mt[i]\u001b[33m.\u001b[39mresolve(o)}})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)}))}}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"DataLoader\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m mr(e\u001b[33m,\u001b[39mr){\u001b[36mif\u001b[39m(r\u001b[33m===\u001b[39m\u001b[36mnull\u001b[39m)\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mswitch\u001b[39m(e){\u001b[36mcase\u001b[39m\u001b[32m\"bigint\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[33mBigInt\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes\"\u001b[39m\u001b[33m:\u001b[39m{\u001b[36mlet\u001b[39m{buffer\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mbyteOffset\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mbyteLength\u001b[33m:\u001b[39mi}\u001b[33m=\u001b[39m\u001b[33mBuffer\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m(r\u001b[33m,\u001b[39m\u001b[32m\"base64\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mUint8Array\u001b[39m(t\u001b[33m,\u001b[39mn\u001b[33m,\u001b[39mi)}\u001b[36mcase\u001b[39m\u001b[32m\"decimal\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mPe\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(\u001b[32m`1970-01-01T${r}Z`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bigint-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bigint\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bytes\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"decimal-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"decimal\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"datetime\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"date\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"time\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r}}\u001b[36mfunction\u001b[39m zn(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39m\u001b[33mCf\u001b[39m(e)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mn\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mrows\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mn\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mrows[n]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m{\u001b[33m...\u001b[39mt}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m s\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39ms\u001b[33m<\u001b[39m\u001b[33mi\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39ms\u001b[33m++\u001b[39m)o[e\u001b[33m.\u001b[39mcolumns[s]]\u001b[33m=\u001b[39mmr(e\u001b[33m.\u001b[39mtypes[s]\u001b[33m,\u001b[39mi[s])\u001b[33m;\u001b[39mr\u001b[33m.\u001b[39mpush(o)}\u001b[36mreturn\u001b[39m r}\u001b[36mfunction\u001b[39m \u001b[33mCf\u001b[39m(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m{}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mt\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mcolumns\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mt\u001b[33m++\u001b[39m)r[e\u001b[33m.\u001b[39mcolumns[t]]\u001b[33m=\u001b[39m\u001b[36mnull\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r}\u001b[36mvar\u001b[39m \u001b[33mAf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mN\u001b[39m(\u001b[32m\"prisma:client:request_handler\"\u001b[39m)\u001b[33m,\u001b[39m\u001b[33mZn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{client\u001b[33m;\u001b[39mdataloader\u001b[33m;\u001b[39mlogEmitter\u001b[33m;\u001b[39mconstructor(r\u001b[33m,\u001b[39mt){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m=\u001b[39mt\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m=\u001b[39mr\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mYn\u001b[39m({batchLoader\u001b[33m:\u001b[39mol(\u001b[36masync\u001b[39m({requests\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi})\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m{transaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39motelParentCtx\u001b[33m:\u001b[39ms}\u001b[33m=\u001b[39mn[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mmap(p\u001b[33m=>\u001b[39mp\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent(s)\u001b[33m,\u001b[39mu\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39msome(p\u001b[33m=>\u001b[39m\u001b[33mOo\u001b[39m(p\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction))\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m(\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequestBatch(a\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39ml\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39m\u001b[33mIf\u001b[39m(o)\u001b[33m,\u001b[39mcontainsWrite\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi}))\u001b[33m.\u001b[39mmap((p\u001b[33m,\u001b[39md)\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(p \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mreturn\u001b[39m p\u001b[33m;\u001b[39m\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n[d]\u001b[33m,\u001b[39mp)}\u001b[36mcatch\u001b[39m(f){\u001b[36mreturn\u001b[39m f}})})\u001b[33m,\u001b[39msingleLoader\u001b[33m:\u001b[39m\u001b[36masync\u001b[39m n\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39meu(n\u001b[33m.\u001b[39mtransaction)\u001b[33m:\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequest(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent()\u001b[33m,\u001b[39minteractiveTransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39misWrite\u001b[33m:\u001b[39m\u001b[33mOo\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction)\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mn\u001b[33m.\u001b[39mcustomDataProxyFetch})\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n\u001b[33m,\u001b[39mo)}\u001b[33m,\u001b[39mbatchBy\u001b[33m:\u001b[39mn\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mid\u001b[33m?\u001b[39m\u001b[32m`transaction-${n.transaction.id}`\u001b[39m\u001b[33m:\u001b[39m\u001b[33mZl\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39mbatchOrder(n\u001b[33m,\u001b[39mi){\u001b[36mreturn\u001b[39m n\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m?\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m-\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m:\u001b[39m\u001b[35m0\u001b[39m}})}\u001b[36masync\u001b[39m request(r){\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m.\u001b[39mrequest(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mlet\u001b[39m{clientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma}\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleAndLogRequestError({error\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mglobalOmit})}}mapQueryEngineResult({dataPath\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39munpacker\u001b[33m:\u001b[39mt}\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mdata\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39munpack(i\u001b[33m,\u001b[39mr\u001b[33m,\u001b[39mt)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mPRISMA_CLIENT_GET_TIME\u001b[39m\u001b[33m?\u001b[39m{data\u001b[33m:\u001b[39mo}\u001b[33m:\u001b[39mo}handleAndLogRequestError(r){\u001b[36mtry\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleRequestError(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mthrow\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m.\u001b[39memit(\u001b[32m\"error\"\u001b[39m\u001b[33m,\u001b[39m{message\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mmessage\u001b[33m,\u001b[39mtarget\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mclientMethod\u001b[33m,\u001b[39mtimestamp\u001b[33m:\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m})\u001b[33m,\u001b[39mt}}handleRequestError({error\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma}){\u001b[36mif\u001b[39m(\u001b[33mAf\u001b[39m(r)\u001b[33m,\u001b[39mkf(r\u001b[33m,\u001b[39mi))\u001b[36mthrow\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m z\u001b[33m&&\u001b[39m\u001b[33mOf\u001b[39m(r)){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39mru(r\u001b[33m.\u001b[39mmeta)\u001b[33m;\u001b[39mkn({args\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39m[u]\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39merrorFormat\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma})}\u001b[36mlet\u001b[39m l\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mmessage\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m(l\u001b[33m=\u001b[39mwn({callsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39misPanic\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39misPanic\u001b[33m,\u001b[39mshowColors\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m===\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39mmessage\u001b[33m:\u001b[39ml}))\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39msanitizeMessage(l)\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mcode){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39ms\u001b[33m?\u001b[39m{modelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr\u001b[33m.\u001b[39mmeta}\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mmeta\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m z(l\u001b[33m,\u001b[39m{code\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mcode\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mmeta\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})}\u001b[36melse\u001b[39m{\u001b[36mif\u001b[39m(r\u001b[33m.\u001b[39misPanic)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m j)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m j(l\u001b[33m,\u001b[39m{clientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m \u001b[33mT\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mT\u001b[39m(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m le)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)}\u001b[36mthrow\u001b[39m r\u001b[33m.\u001b[39mclientVersion\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mr}sanitizeMessage(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m!==\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m?\u001b[39m(\u001b[35m0\u001b[39m\u001b[33m,\u001b[39m\u001b[33mXl\u001b[39m\u001b[33m.\u001b[39m\u001b[36mdefault\u001b[39m)(r)\u001b[33m:\u001b[39mr}unpack(r\u001b[33m,\u001b[39mt\u001b[33m,\u001b[39mn){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m||\u001b[39m(r\u001b[33m.\u001b[39mdata\u001b[33m&&\u001b[39m(r\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mdata)\u001b[33m,\u001b[39m\u001b[33m!\u001b[39mr))\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mvalues(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ms\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mfilter(u\u001b[33m=>\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"select\"\u001b[39m\u001b[33m&&\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"include\"\u001b[39m)\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mio(o\u001b[33m,\u001b[39ms)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39mi\u001b[33m===\u001b[39m\u001b[32m\"queryRaw\"\u001b[39m\u001b[33m?\u001b[39mzn(a)\u001b[33m:\u001b[39m\u001b[33mTr\u001b[39m(a)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m?\u001b[39mn(l)\u001b[33m:\u001b[39ml}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"RequestHandler\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mIf\u001b[39m(e){\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39m{isolationLevel\u001b[33m:\u001b[39me\u001b[33m.\u001b[39misolationLevel}}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39meu(e)}\u001b[33m;\u001b[39m_e(e\u001b[33m,\u001b[39m\u001b[32m\"Unknown transaction kind\"\u001b[39m)}}\u001b[36mfunction\u001b[39m eu(e){\u001b[36mreturn\u001b[39m{id\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39mpayload\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mpayload}}\u001b[36mfunction\u001b[39m kf(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m \u001b[33mKn\u001b[39m(e)\u001b[33m&&\u001b[39mr\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m!==\u001b[39mr\u001b[33m.\u001b[39mindex}\u001b[36mfunction\u001b[39m \u001b[33mOf\u001b[39m(e){\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2009\"\u001b[39m\u001b[33m||\u001b[39me\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2012\"\u001b[39m}\u001b[36mfunction\u001b[39m ru(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"Union\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"Union\"\u001b[39m\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39me\u001b[33m.\u001b[39merrors\u001b[33m.\u001b[39mmap(ru)}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e\u001b[33m.\u001b[39mselectionPath)){\u001b[36mlet\u001b[39m[\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr]\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mselectionPath\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[33m...\u001b[39me\u001b[33m,\u001b[39mselectionPath\u001b[33m:\u001b[39mr}}\u001b[36mreturn\u001b[39m e}\u001b[36mvar\u001b[39m tu\u001b[33m=\u001b[39m\u001b[33mSl\u001b[39m\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m au\u001b[33m=\u001b[39mk(\u001b[33mQi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mD\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mError\u001b[39m{constructor(r){\u001b[36msuper\u001b[39m(r\u001b[33m+\u001b[39m\u001b[32m`\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 125 |\u001b[39m \u001b[32mRead more at https://pris.ly/d/client-constructor`\u001b[39m)\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mname\u001b[33m=\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}}\u001b[33m;\u001b[39mx(\u001b[33mD\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m nu\u001b[33m=\u001b[39m[\u001b[32m\"datasources\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"datasourceUrl\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"errorFormat\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"adapter\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"log\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"transactionOptions\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"omit\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"__internal\"\u001b[39m]\u001b[33m,\u001b[39miu\u001b[33m=\u001b[39m[\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"colorless\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"minimal\"\u001b[39m]\u001b[33m,\u001b[39mou\u001b[33m=\u001b[39m[\u001b[32m\"info\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"warn\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"error\"\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mDf\u001b[39m\u001b[33m=\u001b[39m{datasources\u001b[33m:\u001b[39m(e\u001b[33m,\u001b[39m{datasourceNames\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m e\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for \"datasources\" provided to PrismaClient constructor`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[t\u001b[33m,\u001b[39mn]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(e)){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m.\u001b[39mincludes(t)){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mWr\u001b[39m(t\u001b[33m,\u001b[39mr)\u001b[33m||\u001b[39m\u001b[32m` Available datasources: ${r.join(\", \")}`\u001b[39m\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Unknown datasource ${t} provided to PrismaClient constructor.${i}`\u001b[39m)}\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m n\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(n))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 126 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m\u001b[36mtypeof\u001b[39m n\u001b[33m==\u001b[39m\u001b[32m\"object\"\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[i\u001b[33m,\u001b[39mo]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(n)){\u001b[36mif\u001b[39m(i\u001b[33m!==\u001b[39m\u001b[32m\"url\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 127 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m o\u001b[33m!=\u001b[39m\u001b[32m\"string\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(o)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:7459)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError [as handleAndLogRequestError] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6784)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleAndLogRequestError [as request] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6491)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat l (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:133:9778)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/oauth2-security.test.ts\u001b[39m\u001b[0m\u001b[2m:195:7)\u001b[22m\u001b[2m\u001b[22m\n","name":"/Users/connorbowen/apiq-mvp/tests/integration/api/oauth2-security.test.ts","startTime":1751471235016,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Google OAuth2 Flow Integration Tests","Google OAuth2 Authorization"],"duration":22,"failureDetails":[],"failureMessages":[],"fullName":"Google OAuth2 Flow Integration Tests Google OAuth2 Authorization should generate valid Google authorization URL","invocations":1,"location":null,"numPassingAsserts":11,"retryReasons":[],"status":"passed","title":"should generate valid Google authorization URL"},{"ancestorTitles":["Google OAuth2 Flow Integration Tests","Google OAuth2 Authorization"],"duration":9,"failureDetails":[],"failureMessages":[],"fullName":"Google OAuth2 Flow Integration Tests Google OAuth2 Authorization should validate Google OAuth2 configuration","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should validate Google OAuth2 configuration"},{"ancestorTitles":["Google OAuth2 Flow Integration Tests","Google OAuth2 Authorization"],"duration":16,"failureDetails":[],"failureMessages":[],"fullName":"Google OAuth2 Flow Integration Tests Google OAuth2 Authorization should handle Google Calendar scope","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle Google Calendar scope"},{"ancestorTitles":["Google OAuth2 Flow Integration Tests","Google OAuth2 Authorization"],"duration":12,"failureDetails":[],"failureMessages":[],"fullName":"Google OAuth2 Flow Integration Tests Google OAuth2 Authorization should handle Gmail scope","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle Gmail scope"},{"ancestorTitles":["Google OAuth2 Flow Integration Tests","Google OAuth2 Callback"],"duration":11,"failureDetails":[{"matcherResult":{"actual":400,"expected":200,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m400\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m400\u001b[39m\n    at Object.toBe (/Users/connorbowen/apiq-mvp/tests/integration/api/oauth2-google.test.ts:140:36)"],"fullName":"Google OAuth2 Flow Integration Tests Google OAuth2 Callback should handle successful Google OAuth2 callback","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle successful Google OAuth2 callback"},{"ancestorTitles":["Google OAuth2 Flow Integration Tests","Google OAuth2 Callback"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Google OAuth2 Flow Integration Tests Google OAuth2 Callback should handle Google OAuth2 access denied error","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should handle Google OAuth2 access denied error"},{"ancestorTitles":["Google OAuth2 Flow Integration Tests","Google OAuth2 Callback"],"duration":17,"failureDetails":[{"matcherResult":{"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoContain\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // indexOf\u001b[22m\n\nExpected substring: \u001b[32m\"Token exchange failed\"\u001b[39m\nReceived string:    \u001b[31m\"Invalid OAuth state - connection not found\"\u001b[39m","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoContain\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // indexOf\u001b[22m\n\nExpected substring: \u001b[32m\"Token exchange failed\"\u001b[39m\nReceived string:    \u001b[31m\"Invalid OAuth state - connection not found\"\u001b[39m\n    at Object.toContain (/Users/connorbowen/apiq-mvp/tests/integration/api/oauth2-google.test.ts:173:26)"],"fullName":"Google OAuth2 Flow Integration Tests Google OAuth2 Callback should handle Google OAuth2 invalid grant error","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"failed","title":"should handle Google OAuth2 invalid grant error"},{"ancestorTitles":["Google OAuth2 Flow Integration Tests","Google OAuth2 Token Refresh"],"duration":48,"failureDetails":[{"matcherResult":{"actual":400,"expected":200,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m400\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m400\u001b[39m\n    at Object.toBe (/Users/connorbowen/apiq-mvp/tests/integration/api/oauth2-google.test.ts:187:36)"],"fullName":"Google OAuth2 Flow Integration Tests Google OAuth2 Token Refresh should refresh expired Google OAuth2 tokens","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should refresh expired Google OAuth2 tokens"},{"ancestorTitles":["Google OAuth2 Flow Integration Tests","Google OAuth2 Token Refresh"],"duration":30,"failureDetails":[],"failureMessages":[],"fullName":"Google OAuth2 Flow Integration Tests Google OAuth2 Token Refresh should handle Google OAuth2 token refresh failure","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle Google OAuth2 token refresh failure"},{"ancestorTitles":["Google OAuth2 Flow Integration Tests","Google OAuth2 Security"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"Google OAuth2 Flow Integration Tests Google OAuth2 Security should validate CSRF state parameter","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should validate CSRF state parameter"},{"ancestorTitles":["Google OAuth2 Flow Integration Tests","Google OAuth2 Security"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"Google OAuth2 Flow Integration Tests Google OAuth2 Security should require authentication for token refresh","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should require authentication for token refresh"},{"ancestorTitles":["Google OAuth2 Flow Integration Tests","Google OAuth2 Security"],"duration":24,"failureDetails":[],"failureMessages":[],"fullName":"Google OAuth2 Flow Integration Tests Google OAuth2 Security should validate Google OAuth2 scopes","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should validate Google OAuth2 scopes"},{"ancestorTitles":["Google OAuth2 Flow Integration Tests","Google OAuth2 Error Scenarios"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"Google OAuth2 Flow Integration Tests Google OAuth2 Error Scenarios should handle network errors during token exchange","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle network errors during token exchange"},{"ancestorTitles":["Google OAuth2 Flow Integration Tests","Google OAuth2 Error Scenarios"],"duration":10,"failureDetails":[],"failureMessages":[],"fullName":"Google OAuth2 Flow Integration Tests Google OAuth2 Error Scenarios should handle Google API rate limiting","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle Google API rate limiting"},{"ancestorTitles":["Google OAuth2 Flow Integration Tests","Google OAuth2 Error Scenarios"],"duration":9,"failureDetails":[],"failureMessages":[],"fullName":"Google OAuth2 Flow Integration Tests Google OAuth2 Error Scenarios should handle Google API server errors","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle Google API server errors"},{"ancestorTitles":["Google OAuth2 Flow Integration Tests","Google OAuth2 Integration"],"duration":24,"failureDetails":[{"matcherResult":{"actual":400,"expected":200,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m400\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m400\u001b[39m\n    at Object.toBe (/Users/connorbowen/apiq-mvp/tests/integration/api/oauth2-google.test.ts:319:48)"],"fullName":"Google OAuth2 Flow Integration Tests Google OAuth2 Integration should complete full Google OAuth2 flow with Calendar scope","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"failed","title":"should complete full Google OAuth2 flow with Calendar scope"},{"ancestorTitles":["Google OAuth2 Flow Integration Tests","Google OAuth2 Integration"],"duration":19,"failureDetails":[{"matcherResult":{"actual":400,"expected":200,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m400\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m400\u001b[39m\n    at Object.toBe (/Users/connorbowen/apiq-mvp/tests/integration/api/oauth2-google.test.ts:352:48)"],"fullName":"Google OAuth2 Flow Integration Tests Google OAuth2 Integration should complete full Google OAuth2 flow with Gmail scope","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"failed","title":"should complete full Google OAuth2 flow with Gmail scope"}],"endTime":1751471237789,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mGoogle OAuth2 Flow Integration Tests › Google OAuth2 Callback › should handle successful Google OAuth2 callback\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32m200\u001b[39m\n    Received: \u001b[31m400\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 138 |\u001b[39m       })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 139 |\u001b[39m       \u001b[36mawait\u001b[39m callbackHandler(req \u001b[36mas\u001b[39m any\u001b[33m,\u001b[39m res \u001b[36mas\u001b[39m any)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 140 |\u001b[39m       expect(res\u001b[33m.\u001b[39m_getStatusCode())\u001b[33m.\u001b[39mtoBe(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 141 |\u001b[39m       \u001b[36mconst\u001b[39m data \u001b[33m=\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(res\u001b[33m.\u001b[39m_getData())\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 142 |\u001b[39m       expect(data\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 143 |\u001b[39m       expect(data\u001b[33m.\u001b[39mdata\u001b[33m.\u001b[39mmessage)\u001b[33m.\u001b[39mtoContain(\u001b[32m'OAuth2 authorization completed successfully'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/oauth2-google.test.ts\u001b[39m\u001b[0m\u001b[2m:140:36)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mGoogle OAuth2 Flow Integration Tests › Google OAuth2 Callback › should handle Google OAuth2 invalid grant error\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoContain\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // indexOf\u001b[22m\n\n    Expected substring: \u001b[32m\"Token exchange failed\"\u001b[39m\n    Received string:    \u001b[31m\"Invalid OAuth state - connection not found\"\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 171 |\u001b[39m       \u001b[36mconst\u001b[39m data \u001b[33m=\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(res\u001b[33m.\u001b[39m_getData())\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 172 |\u001b[39m       expect(data\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 173 |\u001b[39m       expect(data\u001b[33m.\u001b[39merror)\u001b[33m.\u001b[39mtoContain(\u001b[32m'Token exchange failed'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 174 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 175 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 176 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toContain (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/oauth2-google.test.ts\u001b[39m\u001b[0m\u001b[2m:173:26)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mGoogle OAuth2 Flow Integration Tests › Google OAuth2 Token Refresh › should refresh expired Google OAuth2 tokens\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32m200\u001b[39m\n    Received: \u001b[31m400\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 185 |\u001b[39m       })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 186 |\u001b[39m       \u001b[36mawait\u001b[39m refreshHandler(req \u001b[36mas\u001b[39m any\u001b[33m,\u001b[39m res \u001b[36mas\u001b[39m any)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 187 |\u001b[39m       expect(res\u001b[33m.\u001b[39m_getStatusCode())\u001b[33m.\u001b[39mtoBe(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 188 |\u001b[39m       \u001b[36mconst\u001b[39m data \u001b[33m=\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(res\u001b[33m.\u001b[39m_getData())\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 189 |\u001b[39m       expect(data\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 190 |\u001b[39m       expect(data\u001b[33m.\u001b[39mdata\u001b[33m.\u001b[39mmessage)\u001b[33m.\u001b[39mtoContain(\u001b[32m'OAuth2 token refreshed successfully'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/oauth2-google.test.ts\u001b[39m\u001b[0m\u001b[2m:187:36)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mGoogle OAuth2 Flow Integration Tests › Google OAuth2 Integration › should complete full Google OAuth2 flow with Calendar scope\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32m200\u001b[39m\n    Received: \u001b[31m400\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 317 |\u001b[39m       })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 318 |\u001b[39m       \u001b[36mawait\u001b[39m callbackHandler(callbackReq\u001b[33m.\u001b[39mreq \u001b[36mas\u001b[39m any\u001b[33m,\u001b[39m callbackReq\u001b[33m.\u001b[39mres \u001b[36mas\u001b[39m any)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 319 |\u001b[39m       expect(callbackReq\u001b[33m.\u001b[39mres\u001b[33m.\u001b[39m_getStatusCode())\u001b[33m.\u001b[39mtoBe(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 320 |\u001b[39m       \u001b[36mconst\u001b[39m callbackData \u001b[33m=\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(callbackReq\u001b[33m.\u001b[39mres\u001b[33m.\u001b[39m_getData())\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 321 |\u001b[39m       expect(callbackData\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 322 |\u001b[39m       expect(callbackData\u001b[33m.\u001b[39mdata\u001b[33m.\u001b[39misTest)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/oauth2-google.test.ts\u001b[39m\u001b[0m\u001b[2m:319:48)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mGoogle OAuth2 Flow Integration Tests › Google OAuth2 Integration › should complete full Google OAuth2 flow with Gmail scope\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32m200\u001b[39m\n    Received: \u001b[31m400\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 350 |\u001b[39m       })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 351 |\u001b[39m       \u001b[36mawait\u001b[39m callbackHandler(callbackReq\u001b[33m.\u001b[39mreq \u001b[36mas\u001b[39m any\u001b[33m,\u001b[39m callbackReq\u001b[33m.\u001b[39mres \u001b[36mas\u001b[39m any)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 352 |\u001b[39m       expect(callbackReq\u001b[33m.\u001b[39mres\u001b[33m.\u001b[39m_getStatusCode())\u001b[33m.\u001b[39mtoBe(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 353 |\u001b[39m       \u001b[36mconst\u001b[39m callbackData \u001b[33m=\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(callbackReq\u001b[33m.\u001b[39mres\u001b[33m.\u001b[39m_getData())\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 354 |\u001b[39m       expect(callbackData\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 355 |\u001b[39m       expect(callbackData\u001b[33m.\u001b[39mdata\u001b[33m.\u001b[39misTest)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/oauth2-google.test.ts\u001b[39m\u001b[0m\u001b[2m:352:48)\u001b[22m\u001b[2m\u001b[22m\n","name":"/Users/connorbowen/apiq-mvp/tests/integration/api/oauth2-google.test.ts","startTime":1751471237154,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["ConnectionService (integration)"],"duration":80,"failureDetails":[{"name":"PrismaClientKnownRequestError","code":"P2003","clientVersion":"6.10.1","meta":{"modelName":"ApiConnection","constraint":"api_connections_userId_fkey"}},{"name":"PrismaClientUnknownRequestError","clientVersion":"6.10.1"}],"failureMessages":["PrismaClientKnownRequestError: \nInvalid `prisma.apiConnection.create()` invocation in\n/Users/connorbowen/apiq-mvp/tests/integration/lib/services/connectionService.integration.test.ts:22:49\n\n  19 \n  20 beforeEach(async () => {\n  21   // Create a fresh test connection for each test\n→ 22   testConnection = await prisma.apiConnection.create(\nForeign key constraint violated on the constraint: `api_connections_userId_fkey`\n    at Zn.handleRequestError (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:7459)\n    at Zn.handleRequestError [as handleAndLogRequestError] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6784)\n    at Zn.handleAndLogRequestError [as request] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6491)\n    at l (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:133:9778)\n    at Object.<anonymous> (/Users/connorbowen/apiq-mvp/tests/integration/lib/services/connectionService.integration.test.ts:22:22)","PrismaClientUnknownRequestError: \nInvalid `prisma.apiConnection.deleteMany()` invocation in\n/Users/connorbowen/apiq-mvp/tests/integration/lib/services/connectionService.integration.test.ts:40:32\n\n  37 \n  38 afterEach(async () => {\n  39   // Clean up after each test\n→ 40   await prisma.apiConnection.deleteMany(\nError occurred during query execution:\nConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"25P02\", message: \"current transaction is aborted, commands ignored until end of transaction block\", severity: \"ERROR\", detail: None, column: None, hint: None }), transient: false })\n    at Zn.handleRequestError (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:7649)\n    at Zn.handleRequestError [as handleAndLogRequestError] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6784)\n    at Zn.handleAndLogRequestError [as request] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6491)\n    at l (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:133:9778)\n    at Object.<anonymous> (/Users/connorbowen/apiq-mvp/tests/integration/lib/services/connectionService.integration.test.ts:40:5)"],"fullName":"ConnectionService (integration) should mark connection as connecting","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should mark connection as connecting"},{"ancestorTitles":["ConnectionService (integration)"],"duration":4,"failureDetails":[{"name":"PrismaClientKnownRequestError","code":"P2003","clientVersion":"6.10.1","meta":{"modelName":"ApiConnection","constraint":"api_connections_userId_fkey"}},{"name":"PrismaClientUnknownRequestError","clientVersion":"6.10.1"}],"failureMessages":["PrismaClientKnownRequestError: \nInvalid `prisma.apiConnection.create()` invocation in\n/Users/connorbowen/apiq-mvp/tests/integration/lib/services/connectionService.integration.test.ts:22:49\n\n  19 \n  20 beforeEach(async () => {\n  21   // Create a fresh test connection for each test\n→ 22   testConnection = await prisma.apiConnection.create(\nForeign key constraint violated on the constraint: `api_connections_userId_fkey`\n    at Zn.handleRequestError (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:7459)\n    at Zn.handleRequestError [as handleAndLogRequestError] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6784)\n    at Zn.handleAndLogRequestError [as request] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6491)\n    at l (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:133:9778)\n    at Object.<anonymous> (/Users/connorbowen/apiq-mvp/tests/integration/lib/services/connectionService.integration.test.ts:22:22)","PrismaClientUnknownRequestError: \nInvalid `prisma.apiConnection.deleteMany()` invocation in\n/Users/connorbowen/apiq-mvp/tests/integration/lib/services/connectionService.integration.test.ts:40:32\n\n  37 \n  38 afterEach(async () => {\n  39   // Clean up after each test\n→ 40   await prisma.apiConnection.deleteMany(\nError occurred during query execution:\nConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"25P02\", message: \"current transaction is aborted, commands ignored until end of transaction block\", severity: \"ERROR\", detail: None, column: None, hint: None }), transient: false })\n    at Zn.handleRequestError (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:7649)\n    at Zn.handleRequestError [as handleAndLogRequestError] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6784)\n    at Zn.handleAndLogRequestError [as request] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6491)\n    at l (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:133:9778)\n    at Object.<anonymous> (/Users/connorbowen/apiq-mvp/tests/integration/lib/services/connectionService.integration.test.ts:40:5)"],"fullName":"ConnectionService (integration) should mark connection as connected","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should mark connection as connected"},{"ancestorTitles":["ConnectionService (integration)"],"duration":8,"failureDetails":[{"name":"PrismaClientKnownRequestError","code":"P2003","clientVersion":"6.10.1","meta":{"modelName":"ApiConnection","constraint":"api_connections_userId_fkey"}},{"name":"PrismaClientUnknownRequestError","clientVersion":"6.10.1"}],"failureMessages":["PrismaClientKnownRequestError: \nInvalid `prisma.apiConnection.create()` invocation in\n/Users/connorbowen/apiq-mvp/tests/integration/lib/services/connectionService.integration.test.ts:22:49\n\n  19 \n  20 beforeEach(async () => {\n  21   // Create a fresh test connection for each test\n→ 22   testConnection = await prisma.apiConnection.create(\nForeign key constraint violated on the constraint: `api_connections_userId_fkey`\n    at Zn.handleRequestError (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:7459)\n    at Zn.handleRequestError [as handleAndLogRequestError] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6784)\n    at Zn.handleAndLogRequestError [as request] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6491)\n    at l (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:133:9778)\n    at Object.<anonymous> (/Users/connorbowen/apiq-mvp/tests/integration/lib/services/connectionService.integration.test.ts:22:22)","PrismaClientUnknownRequestError: \nInvalid `prisma.apiConnection.deleteMany()` invocation in\n/Users/connorbowen/apiq-mvp/tests/integration/lib/services/connectionService.integration.test.ts:40:32\n\n  37 \n  38 afterEach(async () => {\n  39   // Clean up after each test\n→ 40   await prisma.apiConnection.deleteMany(\nError occurred during query execution:\nConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"25P02\", message: \"current transaction is aborted, commands ignored until end of transaction block\", severity: \"ERROR\", detail: None, column: None, hint: None }), transient: false })\n    at Zn.handleRequestError (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:7649)\n    at Zn.handleRequestError [as handleAndLogRequestError] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6784)\n    at Zn.handleAndLogRequestError [as request] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6491)\n    at l (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:133:9778)\n    at Object.<anonymous> (/Users/connorbowen/apiq-mvp/tests/integration/lib/services/connectionService.integration.test.ts:40:5)"],"fullName":"ConnectionService (integration) should mark connection as error","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should mark connection as error"},{"ancestorTitles":["ConnectionService (integration)"],"duration":5,"failureDetails":[{"name":"PrismaClientKnownRequestError","code":"P2003","clientVersion":"6.10.1","meta":{"modelName":"ApiConnection","constraint":"api_connections_userId_fkey"}},{"name":"PrismaClientUnknownRequestError","clientVersion":"6.10.1"}],"failureMessages":["PrismaClientKnownRequestError: \nInvalid `prisma.apiConnection.create()` invocation in\n/Users/connorbowen/apiq-mvp/tests/integration/lib/services/connectionService.integration.test.ts:22:49\n\n  19 \n  20 beforeEach(async () => {\n  21   // Create a fresh test connection for each test\n→ 22   testConnection = await prisma.apiConnection.create(\nForeign key constraint violated on the constraint: `api_connections_userId_fkey`\n    at Zn.handleRequestError (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:7459)\n    at Zn.handleRequestError [as handleAndLogRequestError] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6784)\n    at Zn.handleAndLogRequestError [as request] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6491)\n    at l (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:133:9778)\n    at Object.<anonymous> (/Users/connorbowen/apiq-mvp/tests/integration/lib/services/connectionService.integration.test.ts:22:22)","PrismaClientUnknownRequestError: \nInvalid `prisma.apiConnection.deleteMany()` invocation in\n/Users/connorbowen/apiq-mvp/tests/integration/lib/services/connectionService.integration.test.ts:40:32\n\n  37 \n  38 afterEach(async () => {\n  39   // Clean up after each test\n→ 40   await prisma.apiConnection.deleteMany(\nError occurred during query execution:\nConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"25P02\", message: \"current transaction is aborted, commands ignored until end of transaction block\", severity: \"ERROR\", detail: None, column: None, hint: None }), transient: false })\n    at Zn.handleRequestError (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:7649)\n    at Zn.handleRequestError [as handleAndLogRequestError] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6784)\n    at Zn.handleAndLogRequestError [as request] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6491)\n    at l (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:133:9778)\n    at Object.<anonymous> (/Users/connorbowen/apiq-mvp/tests/integration/lib/services/connectionService.integration.test.ts:40:5)"],"fullName":"ConnectionService (integration) should mark connection as disconnected","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should mark connection as disconnected"},{"ancestorTitles":["ConnectionService (integration)"],"duration":7,"failureDetails":[{"name":"PrismaClientKnownRequestError","code":"P2003","clientVersion":"6.10.1","meta":{"modelName":"ApiConnection","constraint":"api_connections_userId_fkey"}},{"name":"PrismaClientUnknownRequestError","clientVersion":"6.10.1"}],"failureMessages":["PrismaClientKnownRequestError: \nInvalid `prisma.apiConnection.create()` invocation in\n/Users/connorbowen/apiq-mvp/tests/integration/lib/services/connectionService.integration.test.ts:22:49\n\n  19 \n  20 beforeEach(async () => {\n  21   // Create a fresh test connection for each test\n→ 22   testConnection = await prisma.apiConnection.create(\nForeign key constraint violated on the constraint: `api_connections_userId_fkey`\n    at Zn.handleRequestError (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:7459)\n    at Zn.handleRequestError [as handleAndLogRequestError] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6784)\n    at Zn.handleAndLogRequestError [as request] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6491)\n    at l (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:133:9778)\n    at Object.<anonymous> (/Users/connorbowen/apiq-mvp/tests/integration/lib/services/connectionService.integration.test.ts:22:22)","PrismaClientUnknownRequestError: \nInvalid `prisma.apiConnection.deleteMany()` invocation in\n/Users/connorbowen/apiq-mvp/tests/integration/lib/services/connectionService.integration.test.ts:40:32\n\n  37 \n  38 afterEach(async () => {\n  39   // Clean up after each test\n→ 40   await prisma.apiConnection.deleteMany(\nError occurred during query execution:\nConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"25P02\", message: \"current transaction is aborted, commands ignored until end of transaction block\", severity: \"ERROR\", detail: None, column: None, hint: None }), transient: false })\n    at Zn.handleRequestError (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:7649)\n    at Zn.handleRequestError [as handleAndLogRequestError] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6784)\n    at Zn.handleAndLogRequestError [as request] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6491)\n    at l (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:133:9778)\n    at Object.<anonymous> (/Users/connorbowen/apiq-mvp/tests/integration/lib/services/connectionService.integration.test.ts:40:5)"],"fullName":"ConnectionService (integration) should mark connection as revoked","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should mark connection as revoked"},{"ancestorTitles":["ConnectionService (integration)"],"duration":8,"failureDetails":[{"name":"PrismaClientKnownRequestError","code":"P2003","clientVersion":"6.10.1","meta":{"modelName":"ApiConnection","constraint":"api_connections_userId_fkey"}},{"name":"PrismaClientUnknownRequestError","clientVersion":"6.10.1"}],"failureMessages":["PrismaClientKnownRequestError: \nInvalid `prisma.apiConnection.create()` invocation in\n/Users/connorbowen/apiq-mvp/tests/integration/lib/services/connectionService.integration.test.ts:22:49\n\n  19 \n  20 beforeEach(async () => {\n  21   // Create a fresh test connection for each test\n→ 22   testConnection = await prisma.apiConnection.create(\nForeign key constraint violated on the constraint: `api_connections_userId_fkey`\n    at Zn.handleRequestError (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:7459)\n    at Zn.handleRequestError [as handleAndLogRequestError] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6784)\n    at Zn.handleAndLogRequestError [as request] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6491)\n    at l (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:133:9778)\n    at Object.<anonymous> (/Users/connorbowen/apiq-mvp/tests/integration/lib/services/connectionService.integration.test.ts:22:22)","PrismaClientUnknownRequestError: \nInvalid `prisma.apiConnection.deleteMany()` invocation in\n/Users/connorbowen/apiq-mvp/tests/integration/lib/services/connectionService.integration.test.ts:40:32\n\n  37 \n  38 afterEach(async () => {\n  39   // Clean up after each test\n→ 40   await prisma.apiConnection.deleteMany(\nError occurred during query execution:\nConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"25P02\", message: \"current transaction is aborted, commands ignored until end of transaction block\", severity: \"ERROR\", detail: None, column: None, hint: None }), transient: false })\n    at Zn.handleRequestError (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:7649)\n    at Zn.handleRequestError [as handleAndLogRequestError] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6784)\n    at Zn.handleAndLogRequestError [as request] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6491)\n    at l (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:133:9778)\n    at Object.<anonymous> (/Users/connorbowen/apiq-mvp/tests/integration/lib/services/connectionService.integration.test.ts:40:5)"],"fullName":"ConnectionService (integration) should find connection by oauth state","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should find connection by oauth state"}],"endTime":1751471238328,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mConnectionService (integration) › should mark connection as connecting\u001b[39m\u001b[22m\n\n    PrismaClientKnownRequestError: \n    Invalid `prisma.apiConnection.create()` invocation in\n    /Users/connorbowen/apiq-mvp/tests/integration/lib/services/connectionService.integration.test.ts:22:49\n\n      19 \n      20 beforeEach(async () => {\n      21   // Create a fresh test connection for each test\n    → 22   testConnection = await prisma.apiConnection.create(\n    Foreign key constraint violated on the constraint: `api_connections_userId_fkey`\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 122 |\u001b[39m \u001b[32m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 123 |\u001b[39m \u001b[32mMore Information: https://pris.ly/d/execute-raw\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 124 |\u001b[39m \u001b[32m`\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mCo\u001b[39m\u001b[33m=\u001b[39m({clientMethod\u001b[33m:\u001b[39me\u001b[33m,\u001b[39mactiveProvider\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39mt\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[32m\"\"\u001b[39m\u001b[33m,\u001b[39mi\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mFn\u001b[39m(t))n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(t)){\u001b[36mlet\u001b[39m[o\u001b[33m,\u001b[39m\u001b[33m...\u001b[39ms]\u001b[33m=\u001b[39mt\u001b[33m;\u001b[39mn\u001b[33m=\u001b[39mo\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(s\u001b[33m||\u001b[39m[])\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}}\u001b[36melse\u001b[39m \u001b[36mswitch\u001b[39m(r){\u001b[36mcase\u001b[39m\u001b[32m\"sqlite\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"mysql\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"cockroachdb\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgresql\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgres\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mtext\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"sqlserver\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mjl(t)\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`The ${r} provider does not support ${e}`\u001b[39m)}\u001b[36mreturn\u001b[39m i\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mvalues\u001b[33m?\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n}, ${i.values})`\u001b[39m)\u001b[33m:\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n})`\u001b[39m)\u001b[33m,\u001b[39m{query\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mparameters\u001b[33m:\u001b[39mi}}\u001b[33m,\u001b[39m\u001b[33mWl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e\u001b[33m.\u001b[39mstrings\u001b[33m,\u001b[39m\u001b[33m...\u001b[39me\u001b[33m.\u001b[39mvalues]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mlet\u001b[39m[r\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mt]\u001b[33m=\u001b[39me\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m oe(r\u001b[33m,\u001b[39mt)}}\u001b[33m,\u001b[39m\u001b[33mJl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mreturn\u001b[39m e[\u001b[35m0\u001b[39m]}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mAo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mfunction\u001b[39m(t\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m(s\u001b[33m=\u001b[39me)\u001b[33m=>\u001b[39m{\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m s\u001b[33m===\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m||\u001b[39ms\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33m=\u001b[39m\u001b[33mHl\u001b[39m(t(s))\u001b[33m:\u001b[39m\u001b[33mHl\u001b[39m(t(s))}\u001b[36mcatch\u001b[39m(a){\u001b[36mreturn\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mreject(a)}}\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[36mget\u001b[39m spec(){\u001b[36mreturn\u001b[39m n}\u001b[33m,\u001b[39mthen(s\u001b[33m,\u001b[39ma){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39mthen(s\u001b[33m,\u001b[39ma)}\u001b[33m,\u001b[39m\u001b[36mcatch\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(s)}\u001b[33m,\u001b[39m\u001b[36mfinally\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mfinally\u001b[39m(s)}\u001b[33m,\u001b[39mrequestTransaction(s){\u001b[36mlet\u001b[39m a\u001b[33m=\u001b[39mo(s)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m a\u001b[33m.\u001b[39mrequestTransaction\u001b[33m?\u001b[39ma\u001b[33m.\u001b[39mrequestTransaction(s)\u001b[33m:\u001b[39ma}\u001b[33m,\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag]\u001b[33m:\u001b[39m\u001b[32m\"PrismaPromise\"\u001b[39m}}}\u001b[36mfunction\u001b[39m \u001b[33mHl\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mthen\u001b[33m==\u001b[39m\u001b[32m\"function\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39m\u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mresolve(e)}\u001b[36mvar\u001b[39m \u001b[33mTf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mEi\u001b[39m\u001b[33m.\u001b[39msplit(\u001b[32m\".\"\u001b[39m)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mSf\u001b[39m\u001b[33m=\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m}\u001b[33m,\u001b[39mgetTraceParent(){\u001b[36mreturn\u001b[39m\u001b[32m\"00-10-10-00\"\u001b[39m}\u001b[33m,\u001b[39mdispatchEngineSpans(){}\u001b[33m,\u001b[39mgetActiveContext(){}\u001b[33m,\u001b[39mrunInChildSpan(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m r()}}\u001b[33m,\u001b[39m\u001b[33mIo\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39misEnabled()}getTraceParent(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetTraceParent(r)}dispatchEngineSpans(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mdispatchEngineSpans(r)}getActiveContext(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetActiveContext()}runInChildSpan(r\u001b[33m,\u001b[39mt){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mrunInChildSpan(r\u001b[33m,\u001b[39mt)}getGlobalTracingHelper(){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39mglobalThis[\u001b[32m`V${Tf}_PRISMA_INSTRUMENTATION`\u001b[39m]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39mglobalThis\u001b[33m.\u001b[39m\u001b[33mPRISMA_INSTRUMENTATION\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33mSf\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKl\u001b[39m(){\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mIo\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mYl\u001b[39m(e\u001b[33m,\u001b[39mr\u001b[33m=\u001b[39m()\u001b[33m=>\u001b[39m{}){\u001b[36mlet\u001b[39m t\u001b[33m,\u001b[39mn\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m(i\u001b[33m=>\u001b[39mt\u001b[33m=\u001b[39mi)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{then(i){\u001b[36mreturn\u001b[39m\u001b[33m--\u001b[39me\u001b[33m===\u001b[39m\u001b[35m0\u001b[39m\u001b[33m&&\u001b[39mt(r())\u001b[33m,\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m.\u001b[39m(n)}}}\u001b[36mfunction\u001b[39m zl(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mreduce((r\u001b[33m,\u001b[39mt)\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[36mtypeof\u001b[39m t\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mlevel\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m===\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m?\u001b[39mr\u001b[33m:\u001b[39mr\u001b[33m&&\u001b[39m(t\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m||\u001b[39mr\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m)\u001b[33m?\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m:\u001b[39mn}\u001b[33m,\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mHn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{_middlewares\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39muse(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mpush(r)}\u001b[36mget\u001b[39m(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}has(r){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[33m!\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}length(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mlength}}\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mXl\u001b[39m\u001b[33m=\u001b[39mk(\u001b[33mOi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKn\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m==\u001b[39m\u001b[32m\"number\"\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mZl\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUnique\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUniqueOrThrow\"\u001b[39m)\u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mmodelName\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(e\u001b[33m.\u001b[39mmodelName)\u001b[33m,\u001b[39me\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39mselection))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mjoin(\u001b[32m\"\"\u001b[39m)}\u001b[36mfunction\u001b[39m ko(e){\u001b[36mreturn\u001b[39m\u001b[32m`(${Object.keys(e).sort().map(t=>{let n=e[t];return typeof n==\"object\"&&n!==null?`(${t} ${ko(n)})`:t}).join(\" \")})`\u001b[39m}\u001b[36mvar\u001b[39m \u001b[33mRf\u001b[39m\u001b[33m=\u001b[39m{aggregate\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39maggregateRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mcreateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mexecuteRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mfindFirst\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindFirstOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUnique\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUniqueOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mgroupBy\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mqueryRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mrunCommandRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupsertOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mOo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[33mRf\u001b[39m[e]}\u001b[36mvar\u001b[39m \u001b[33mYn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{constructor(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches\u001b[33m=\u001b[39m{}}batches\u001b[33m;\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m;\u001b[39mrequest(r){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchBy(r)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m t\u001b[33m?\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mprocess\u001b[33m.\u001b[39mnextTick(()\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdispatchBatches()\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m})))\u001b[33m,\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m.\u001b[39mpush({request\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mresolve\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mreject\u001b[33m:\u001b[39mi})}))\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(r)}dispatchBatches(){\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m r \u001b[36min\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m;\u001b[39m\u001b[36mdelete\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m,\u001b[39mt\u001b[33m.\u001b[39mlength\u001b[33m===\u001b[39m\u001b[35m1\u001b[39m\u001b[33m?\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mrequest)\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)\u001b[33m:\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mresolve(n)})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)})\u001b[33m:\u001b[39m(t\u001b[33m.\u001b[39msort((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchOrder(n\u001b[33m.\u001b[39mrequest\u001b[33m,\u001b[39mi\u001b[33m.\u001b[39mrequest))\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchLoader(t\u001b[33m.\u001b[39mmap(n\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mrequest))\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m o\u001b[33m=\u001b[39mn[i]\u001b[33m;\u001b[39mo \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[i]\u001b[33m.\u001b[39mreject(o)\u001b[33m:\u001b[39mt[i]\u001b[33m.\u001b[39mresolve(o)}})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)}))}}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"DataLoader\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m mr(e\u001b[33m,\u001b[39mr){\u001b[36mif\u001b[39m(r\u001b[33m===\u001b[39m\u001b[36mnull\u001b[39m)\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mswitch\u001b[39m(e){\u001b[36mcase\u001b[39m\u001b[32m\"bigint\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[33mBigInt\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes\"\u001b[39m\u001b[33m:\u001b[39m{\u001b[36mlet\u001b[39m{buffer\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mbyteOffset\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mbyteLength\u001b[33m:\u001b[39mi}\u001b[33m=\u001b[39m\u001b[33mBuffer\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m(r\u001b[33m,\u001b[39m\u001b[32m\"base64\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mUint8Array\u001b[39m(t\u001b[33m,\u001b[39mn\u001b[33m,\u001b[39mi)}\u001b[36mcase\u001b[39m\u001b[32m\"decimal\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mPe\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(\u001b[32m`1970-01-01T${r}Z`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bigint-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bigint\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bytes\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"decimal-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"decimal\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"datetime\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"date\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"time\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r}}\u001b[36mfunction\u001b[39m zn(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39m\u001b[33mCf\u001b[39m(e)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mn\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mrows\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mn\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mrows[n]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m{\u001b[33m...\u001b[39mt}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m s\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39ms\u001b[33m<\u001b[39m\u001b[33mi\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39ms\u001b[33m++\u001b[39m)o[e\u001b[33m.\u001b[39mcolumns[s]]\u001b[33m=\u001b[39mmr(e\u001b[33m.\u001b[39mtypes[s]\u001b[33m,\u001b[39mi[s])\u001b[33m;\u001b[39mr\u001b[33m.\u001b[39mpush(o)}\u001b[36mreturn\u001b[39m r}\u001b[36mfunction\u001b[39m \u001b[33mCf\u001b[39m(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m{}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mt\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mcolumns\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mt\u001b[33m++\u001b[39m)r[e\u001b[33m.\u001b[39mcolumns[t]]\u001b[33m=\u001b[39m\u001b[36mnull\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r}\u001b[36mvar\u001b[39m \u001b[33mAf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mN\u001b[39m(\u001b[32m\"prisma:client:request_handler\"\u001b[39m)\u001b[33m,\u001b[39m\u001b[33mZn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{client\u001b[33m;\u001b[39mdataloader\u001b[33m;\u001b[39mlogEmitter\u001b[33m;\u001b[39mconstructor(r\u001b[33m,\u001b[39mt){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m=\u001b[39mt\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m=\u001b[39mr\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mYn\u001b[39m({batchLoader\u001b[33m:\u001b[39mol(\u001b[36masync\u001b[39m({requests\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi})\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m{transaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39motelParentCtx\u001b[33m:\u001b[39ms}\u001b[33m=\u001b[39mn[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mmap(p\u001b[33m=>\u001b[39mp\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent(s)\u001b[33m,\u001b[39mu\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39msome(p\u001b[33m=>\u001b[39m\u001b[33mOo\u001b[39m(p\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction))\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m(\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequestBatch(a\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39ml\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39m\u001b[33mIf\u001b[39m(o)\u001b[33m,\u001b[39mcontainsWrite\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi}))\u001b[33m.\u001b[39mmap((p\u001b[33m,\u001b[39md)\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(p \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mreturn\u001b[39m p\u001b[33m;\u001b[39m\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n[d]\u001b[33m,\u001b[39mp)}\u001b[36mcatch\u001b[39m(f){\u001b[36mreturn\u001b[39m f}})})\u001b[33m,\u001b[39msingleLoader\u001b[33m:\u001b[39m\u001b[36masync\u001b[39m n\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39meu(n\u001b[33m.\u001b[39mtransaction)\u001b[33m:\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequest(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent()\u001b[33m,\u001b[39minteractiveTransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39misWrite\u001b[33m:\u001b[39m\u001b[33mOo\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction)\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mn\u001b[33m.\u001b[39mcustomDataProxyFetch})\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n\u001b[33m,\u001b[39mo)}\u001b[33m,\u001b[39mbatchBy\u001b[33m:\u001b[39mn\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mid\u001b[33m?\u001b[39m\u001b[32m`transaction-${n.transaction.id}`\u001b[39m\u001b[33m:\u001b[39m\u001b[33mZl\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39mbatchOrder(n\u001b[33m,\u001b[39mi){\u001b[36mreturn\u001b[39m n\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m?\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m-\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m:\u001b[39m\u001b[35m0\u001b[39m}})}\u001b[36masync\u001b[39m request(r){\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m.\u001b[39mrequest(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mlet\u001b[39m{clientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma}\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleAndLogRequestError({error\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mglobalOmit})}}mapQueryEngineResult({dataPath\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39munpacker\u001b[33m:\u001b[39mt}\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mdata\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39munpack(i\u001b[33m,\u001b[39mr\u001b[33m,\u001b[39mt)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mPRISMA_CLIENT_GET_TIME\u001b[39m\u001b[33m?\u001b[39m{data\u001b[33m:\u001b[39mo}\u001b[33m:\u001b[39mo}handleAndLogRequestError(r){\u001b[36mtry\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleRequestError(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mthrow\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m.\u001b[39memit(\u001b[32m\"error\"\u001b[39m\u001b[33m,\u001b[39m{message\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mmessage\u001b[33m,\u001b[39mtarget\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mclientMethod\u001b[33m,\u001b[39mtimestamp\u001b[33m:\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m})\u001b[33m,\u001b[39mt}}handleRequestError({error\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma}){\u001b[36mif\u001b[39m(\u001b[33mAf\u001b[39m(r)\u001b[33m,\u001b[39mkf(r\u001b[33m,\u001b[39mi))\u001b[36mthrow\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m z\u001b[33m&&\u001b[39m\u001b[33mOf\u001b[39m(r)){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39mru(r\u001b[33m.\u001b[39mmeta)\u001b[33m;\u001b[39mkn({args\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39m[u]\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39merrorFormat\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma})}\u001b[36mlet\u001b[39m l\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mmessage\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m(l\u001b[33m=\u001b[39mwn({callsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39misPanic\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39misPanic\u001b[33m,\u001b[39mshowColors\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m===\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39mmessage\u001b[33m:\u001b[39ml}))\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39msanitizeMessage(l)\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mcode){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39ms\u001b[33m?\u001b[39m{modelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr\u001b[33m.\u001b[39mmeta}\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mmeta\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m z(l\u001b[33m,\u001b[39m{code\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mcode\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mmeta\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})}\u001b[36melse\u001b[39m{\u001b[36mif\u001b[39m(r\u001b[33m.\u001b[39misPanic)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m j)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m j(l\u001b[33m,\u001b[39m{clientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m \u001b[33mT\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mT\u001b[39m(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m le)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)}\u001b[36mthrow\u001b[39m r\u001b[33m.\u001b[39mclientVersion\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mr}sanitizeMessage(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m!==\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m?\u001b[39m(\u001b[35m0\u001b[39m\u001b[33m,\u001b[39m\u001b[33mXl\u001b[39m\u001b[33m.\u001b[39m\u001b[36mdefault\u001b[39m)(r)\u001b[33m:\u001b[39mr}unpack(r\u001b[33m,\u001b[39mt\u001b[33m,\u001b[39mn){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m||\u001b[39m(r\u001b[33m.\u001b[39mdata\u001b[33m&&\u001b[39m(r\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mdata)\u001b[33m,\u001b[39m\u001b[33m!\u001b[39mr))\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mvalues(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ms\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mfilter(u\u001b[33m=>\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"select\"\u001b[39m\u001b[33m&&\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"include\"\u001b[39m)\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mio(o\u001b[33m,\u001b[39ms)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39mi\u001b[33m===\u001b[39m\u001b[32m\"queryRaw\"\u001b[39m\u001b[33m?\u001b[39mzn(a)\u001b[33m:\u001b[39m\u001b[33mTr\u001b[39m(a)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m?\u001b[39mn(l)\u001b[33m:\u001b[39ml}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"RequestHandler\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mIf\u001b[39m(e){\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39m{isolationLevel\u001b[33m:\u001b[39me\u001b[33m.\u001b[39misolationLevel}}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39meu(e)}\u001b[33m;\u001b[39m_e(e\u001b[33m,\u001b[39m\u001b[32m\"Unknown transaction kind\"\u001b[39m)}}\u001b[36mfunction\u001b[39m eu(e){\u001b[36mreturn\u001b[39m{id\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39mpayload\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mpayload}}\u001b[36mfunction\u001b[39m kf(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m \u001b[33mKn\u001b[39m(e)\u001b[33m&&\u001b[39mr\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m!==\u001b[39mr\u001b[33m.\u001b[39mindex}\u001b[36mfunction\u001b[39m \u001b[33mOf\u001b[39m(e){\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2009\"\u001b[39m\u001b[33m||\u001b[39me\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2012\"\u001b[39m}\u001b[36mfunction\u001b[39m ru(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"Union\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"Union\"\u001b[39m\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39me\u001b[33m.\u001b[39merrors\u001b[33m.\u001b[39mmap(ru)}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e\u001b[33m.\u001b[39mselectionPath)){\u001b[36mlet\u001b[39m[\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr]\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mselectionPath\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[33m...\u001b[39me\u001b[33m,\u001b[39mselectionPath\u001b[33m:\u001b[39mr}}\u001b[36mreturn\u001b[39m e}\u001b[36mvar\u001b[39m tu\u001b[33m=\u001b[39m\u001b[33mSl\u001b[39m\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m au\u001b[33m=\u001b[39mk(\u001b[33mQi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mD\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mError\u001b[39m{constructor(r){\u001b[36msuper\u001b[39m(r\u001b[33m+\u001b[39m\u001b[32m`\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 125 |\u001b[39m \u001b[32mRead more at https://pris.ly/d/client-constructor`\u001b[39m)\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mname\u001b[33m=\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}}\u001b[33m;\u001b[39mx(\u001b[33mD\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m nu\u001b[33m=\u001b[39m[\u001b[32m\"datasources\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"datasourceUrl\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"errorFormat\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"adapter\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"log\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"transactionOptions\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"omit\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"__internal\"\u001b[39m]\u001b[33m,\u001b[39miu\u001b[33m=\u001b[39m[\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"colorless\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"minimal\"\u001b[39m]\u001b[33m,\u001b[39mou\u001b[33m=\u001b[39m[\u001b[32m\"info\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"warn\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"error\"\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mDf\u001b[39m\u001b[33m=\u001b[39m{datasources\u001b[33m:\u001b[39m(e\u001b[33m,\u001b[39m{datasourceNames\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m e\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for \"datasources\" provided to PrismaClient constructor`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[t\u001b[33m,\u001b[39mn]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(e)){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m.\u001b[39mincludes(t)){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mWr\u001b[39m(t\u001b[33m,\u001b[39mr)\u001b[33m||\u001b[39m\u001b[32m` Available datasources: ${r.join(\", \")}`\u001b[39m\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Unknown datasource ${t} provided to PrismaClient constructor.${i}`\u001b[39m)}\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m n\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(n))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 126 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m\u001b[36mtypeof\u001b[39m n\u001b[33m==\u001b[39m\u001b[32m\"object\"\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[i\u001b[33m,\u001b[39mo]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(n)){\u001b[36mif\u001b[39m(i\u001b[33m!==\u001b[39m\u001b[32m\"url\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 127 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m o\u001b[33m!=\u001b[39m\u001b[32m\"string\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(o)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:7459)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError [as handleAndLogRequestError] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6784)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleAndLogRequestError [as request] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6491)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat l (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:133:9778)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/lib/services/connectionService.integration.test.ts\u001b[39m\u001b[0m\u001b[2m:22:22)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mConnectionService (integration) › should mark connection as connecting\u001b[39m\u001b[22m\n\n    PrismaClientUnknownRequestError: \n    Invalid `prisma.apiConnection.deleteMany()` invocation in\n    /Users/connorbowen/apiq-mvp/tests/integration/lib/services/connectionService.integration.test.ts:40:32\n\n      37 \n      38 afterEach(async () => {\n      39   // Clean up after each test\n    → 40   await prisma.apiConnection.deleteMany(\n    Error occurred during query execution:\n    ConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"25P02\", message: \"current transaction is aborted, commands ignored until end of transaction block\", severity: \"ERROR\", detail: None, column: None, hint: None }), transient: false })\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 122 |\u001b[39m \u001b[32m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 123 |\u001b[39m \u001b[32mMore Information: https://pris.ly/d/execute-raw\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 124 |\u001b[39m \u001b[32m`\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mCo\u001b[39m\u001b[33m=\u001b[39m({clientMethod\u001b[33m:\u001b[39me\u001b[33m,\u001b[39mactiveProvider\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39mt\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[32m\"\"\u001b[39m\u001b[33m,\u001b[39mi\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mFn\u001b[39m(t))n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(t)){\u001b[36mlet\u001b[39m[o\u001b[33m,\u001b[39m\u001b[33m...\u001b[39ms]\u001b[33m=\u001b[39mt\u001b[33m;\u001b[39mn\u001b[33m=\u001b[39mo\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(s\u001b[33m||\u001b[39m[])\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}}\u001b[36melse\u001b[39m \u001b[36mswitch\u001b[39m(r){\u001b[36mcase\u001b[39m\u001b[32m\"sqlite\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"mysql\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"cockroachdb\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgresql\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgres\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mtext\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"sqlserver\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mjl(t)\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`The ${r} provider does not support ${e}`\u001b[39m)}\u001b[36mreturn\u001b[39m i\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mvalues\u001b[33m?\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n}, ${i.values})`\u001b[39m)\u001b[33m:\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n})`\u001b[39m)\u001b[33m,\u001b[39m{query\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mparameters\u001b[33m:\u001b[39mi}}\u001b[33m,\u001b[39m\u001b[33mWl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e\u001b[33m.\u001b[39mstrings\u001b[33m,\u001b[39m\u001b[33m...\u001b[39me\u001b[33m.\u001b[39mvalues]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mlet\u001b[39m[r\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mt]\u001b[33m=\u001b[39me\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m oe(r\u001b[33m,\u001b[39mt)}}\u001b[33m,\u001b[39m\u001b[33mJl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mreturn\u001b[39m e[\u001b[35m0\u001b[39m]}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mAo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mfunction\u001b[39m(t\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m(s\u001b[33m=\u001b[39me)\u001b[33m=>\u001b[39m{\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m s\u001b[33m===\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m||\u001b[39ms\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33m=\u001b[39m\u001b[33mHl\u001b[39m(t(s))\u001b[33m:\u001b[39m\u001b[33mHl\u001b[39m(t(s))}\u001b[36mcatch\u001b[39m(a){\u001b[36mreturn\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mreject(a)}}\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[36mget\u001b[39m spec(){\u001b[36mreturn\u001b[39m n}\u001b[33m,\u001b[39mthen(s\u001b[33m,\u001b[39ma){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39mthen(s\u001b[33m,\u001b[39ma)}\u001b[33m,\u001b[39m\u001b[36mcatch\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(s)}\u001b[33m,\u001b[39m\u001b[36mfinally\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mfinally\u001b[39m(s)}\u001b[33m,\u001b[39mrequestTransaction(s){\u001b[36mlet\u001b[39m a\u001b[33m=\u001b[39mo(s)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m a\u001b[33m.\u001b[39mrequestTransaction\u001b[33m?\u001b[39ma\u001b[33m.\u001b[39mrequestTransaction(s)\u001b[33m:\u001b[39ma}\u001b[33m,\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag]\u001b[33m:\u001b[39m\u001b[32m\"PrismaPromise\"\u001b[39m}}}\u001b[36mfunction\u001b[39m \u001b[33mHl\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mthen\u001b[33m==\u001b[39m\u001b[32m\"function\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39m\u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mresolve(e)}\u001b[36mvar\u001b[39m \u001b[33mTf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mEi\u001b[39m\u001b[33m.\u001b[39msplit(\u001b[32m\".\"\u001b[39m)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mSf\u001b[39m\u001b[33m=\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m}\u001b[33m,\u001b[39mgetTraceParent(){\u001b[36mreturn\u001b[39m\u001b[32m\"00-10-10-00\"\u001b[39m}\u001b[33m,\u001b[39mdispatchEngineSpans(){}\u001b[33m,\u001b[39mgetActiveContext(){}\u001b[33m,\u001b[39mrunInChildSpan(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m r()}}\u001b[33m,\u001b[39m\u001b[33mIo\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39misEnabled()}getTraceParent(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetTraceParent(r)}dispatchEngineSpans(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mdispatchEngineSpans(r)}getActiveContext(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetActiveContext()}runInChildSpan(r\u001b[33m,\u001b[39mt){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mrunInChildSpan(r\u001b[33m,\u001b[39mt)}getGlobalTracingHelper(){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39mglobalThis[\u001b[32m`V${Tf}_PRISMA_INSTRUMENTATION`\u001b[39m]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39mglobalThis\u001b[33m.\u001b[39m\u001b[33mPRISMA_INSTRUMENTATION\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33mSf\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKl\u001b[39m(){\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mIo\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mYl\u001b[39m(e\u001b[33m,\u001b[39mr\u001b[33m=\u001b[39m()\u001b[33m=>\u001b[39m{}){\u001b[36mlet\u001b[39m t\u001b[33m,\u001b[39mn\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m(i\u001b[33m=>\u001b[39mt\u001b[33m=\u001b[39mi)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{then(i){\u001b[36mreturn\u001b[39m\u001b[33m--\u001b[39me\u001b[33m===\u001b[39m\u001b[35m0\u001b[39m\u001b[33m&&\u001b[39mt(r())\u001b[33m,\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m.\u001b[39m(n)}}}\u001b[36mfunction\u001b[39m zl(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mreduce((r\u001b[33m,\u001b[39mt)\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[36mtypeof\u001b[39m t\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mlevel\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m===\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m?\u001b[39mr\u001b[33m:\u001b[39mr\u001b[33m&&\u001b[39m(t\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m||\u001b[39mr\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m)\u001b[33m?\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m:\u001b[39mn}\u001b[33m,\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mHn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{_middlewares\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39muse(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mpush(r)}\u001b[36mget\u001b[39m(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}has(r){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[33m!\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}length(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mlength}}\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mXl\u001b[39m\u001b[33m=\u001b[39mk(\u001b[33mOi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKn\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m==\u001b[39m\u001b[32m\"number\"\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mZl\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUnique\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUniqueOrThrow\"\u001b[39m)\u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mmodelName\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(e\u001b[33m.\u001b[39mmodelName)\u001b[33m,\u001b[39me\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39mselection))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mjoin(\u001b[32m\"\"\u001b[39m)}\u001b[36mfunction\u001b[39m ko(e){\u001b[36mreturn\u001b[39m\u001b[32m`(${Object.keys(e).sort().map(t=>{let n=e[t];return typeof n==\"object\"&&n!==null?`(${t} ${ko(n)})`:t}).join(\" \")})`\u001b[39m}\u001b[36mvar\u001b[39m \u001b[33mRf\u001b[39m\u001b[33m=\u001b[39m{aggregate\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39maggregateRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mcreateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mexecuteRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mfindFirst\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindFirstOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUnique\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUniqueOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mgroupBy\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mqueryRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mrunCommandRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupsertOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mOo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[33mRf\u001b[39m[e]}\u001b[36mvar\u001b[39m \u001b[33mYn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{constructor(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches\u001b[33m=\u001b[39m{}}batches\u001b[33m;\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m;\u001b[39mrequest(r){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchBy(r)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m t\u001b[33m?\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mprocess\u001b[33m.\u001b[39mnextTick(()\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdispatchBatches()\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m})))\u001b[33m,\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m.\u001b[39mpush({request\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mresolve\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mreject\u001b[33m:\u001b[39mi})}))\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(r)}dispatchBatches(){\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m r \u001b[36min\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m;\u001b[39m\u001b[36mdelete\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m,\u001b[39mt\u001b[33m.\u001b[39mlength\u001b[33m===\u001b[39m\u001b[35m1\u001b[39m\u001b[33m?\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mrequest)\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)\u001b[33m:\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mresolve(n)})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)})\u001b[33m:\u001b[39m(t\u001b[33m.\u001b[39msort((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchOrder(n\u001b[33m.\u001b[39mrequest\u001b[33m,\u001b[39mi\u001b[33m.\u001b[39mrequest))\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchLoader(t\u001b[33m.\u001b[39mmap(n\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mrequest))\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m o\u001b[33m=\u001b[39mn[i]\u001b[33m;\u001b[39mo \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[i]\u001b[33m.\u001b[39mreject(o)\u001b[33m:\u001b[39mt[i]\u001b[33m.\u001b[39mresolve(o)}})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)}))}}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"DataLoader\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m mr(e\u001b[33m,\u001b[39mr){\u001b[36mif\u001b[39m(r\u001b[33m===\u001b[39m\u001b[36mnull\u001b[39m)\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mswitch\u001b[39m(e){\u001b[36mcase\u001b[39m\u001b[32m\"bigint\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[33mBigInt\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes\"\u001b[39m\u001b[33m:\u001b[39m{\u001b[36mlet\u001b[39m{buffer\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mbyteOffset\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mbyteLength\u001b[33m:\u001b[39mi}\u001b[33m=\u001b[39m\u001b[33mBuffer\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m(r\u001b[33m,\u001b[39m\u001b[32m\"base64\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mUint8Array\u001b[39m(t\u001b[33m,\u001b[39mn\u001b[33m,\u001b[39mi)}\u001b[36mcase\u001b[39m\u001b[32m\"decimal\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mPe\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(\u001b[32m`1970-01-01T${r}Z`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bigint-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bigint\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bytes\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"decimal-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"decimal\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"datetime\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"date\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"time\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r}}\u001b[36mfunction\u001b[39m zn(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39m\u001b[33mCf\u001b[39m(e)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mn\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mrows\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mn\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mrows[n]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m{\u001b[33m...\u001b[39mt}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m s\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39ms\u001b[33m<\u001b[39m\u001b[33mi\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39ms\u001b[33m++\u001b[39m)o[e\u001b[33m.\u001b[39mcolumns[s]]\u001b[33m=\u001b[39mmr(e\u001b[33m.\u001b[39mtypes[s]\u001b[33m,\u001b[39mi[s])\u001b[33m;\u001b[39mr\u001b[33m.\u001b[39mpush(o)}\u001b[36mreturn\u001b[39m r}\u001b[36mfunction\u001b[39m \u001b[33mCf\u001b[39m(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m{}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mt\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mcolumns\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mt\u001b[33m++\u001b[39m)r[e\u001b[33m.\u001b[39mcolumns[t]]\u001b[33m=\u001b[39m\u001b[36mnull\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r}\u001b[36mvar\u001b[39m \u001b[33mAf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mN\u001b[39m(\u001b[32m\"prisma:client:request_handler\"\u001b[39m)\u001b[33m,\u001b[39m\u001b[33mZn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{client\u001b[33m;\u001b[39mdataloader\u001b[33m;\u001b[39mlogEmitter\u001b[33m;\u001b[39mconstructor(r\u001b[33m,\u001b[39mt){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m=\u001b[39mt\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m=\u001b[39mr\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mYn\u001b[39m({batchLoader\u001b[33m:\u001b[39mol(\u001b[36masync\u001b[39m({requests\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi})\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m{transaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39motelParentCtx\u001b[33m:\u001b[39ms}\u001b[33m=\u001b[39mn[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mmap(p\u001b[33m=>\u001b[39mp\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent(s)\u001b[33m,\u001b[39mu\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39msome(p\u001b[33m=>\u001b[39m\u001b[33mOo\u001b[39m(p\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction))\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m(\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequestBatch(a\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39ml\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39m\u001b[33mIf\u001b[39m(o)\u001b[33m,\u001b[39mcontainsWrite\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi}))\u001b[33m.\u001b[39mmap((p\u001b[33m,\u001b[39md)\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(p \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mreturn\u001b[39m p\u001b[33m;\u001b[39m\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n[d]\u001b[33m,\u001b[39mp)}\u001b[36mcatch\u001b[39m(f){\u001b[36mreturn\u001b[39m f}})})\u001b[33m,\u001b[39msingleLoader\u001b[33m:\u001b[39m\u001b[36masync\u001b[39m n\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39meu(n\u001b[33m.\u001b[39mtransaction)\u001b[33m:\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequest(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent()\u001b[33m,\u001b[39minteractiveTransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39misWrite\u001b[33m:\u001b[39m\u001b[33mOo\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction)\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mn\u001b[33m.\u001b[39mcustomDataProxyFetch})\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n\u001b[33m,\u001b[39mo)}\u001b[33m,\u001b[39mbatchBy\u001b[33m:\u001b[39mn\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mid\u001b[33m?\u001b[39m\u001b[32m`transaction-${n.transaction.id}`\u001b[39m\u001b[33m:\u001b[39m\u001b[33mZl\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39mbatchOrder(n\u001b[33m,\u001b[39mi){\u001b[36mreturn\u001b[39m n\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m?\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m-\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m:\u001b[39m\u001b[35m0\u001b[39m}})}\u001b[36masync\u001b[39m request(r){\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m.\u001b[39mrequest(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mlet\u001b[39m{clientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma}\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleAndLogRequestError({error\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mglobalOmit})}}mapQueryEngineResult({dataPath\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39munpacker\u001b[33m:\u001b[39mt}\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mdata\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39munpack(i\u001b[33m,\u001b[39mr\u001b[33m,\u001b[39mt)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mPRISMA_CLIENT_GET_TIME\u001b[39m\u001b[33m?\u001b[39m{data\u001b[33m:\u001b[39mo}\u001b[33m:\u001b[39mo}handleAndLogRequestError(r){\u001b[36mtry\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleRequestError(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mthrow\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m.\u001b[39memit(\u001b[32m\"error\"\u001b[39m\u001b[33m,\u001b[39m{message\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mmessage\u001b[33m,\u001b[39mtarget\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mclientMethod\u001b[33m,\u001b[39mtimestamp\u001b[33m:\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m})\u001b[33m,\u001b[39mt}}handleRequestError({error\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma}){\u001b[36mif\u001b[39m(\u001b[33mAf\u001b[39m(r)\u001b[33m,\u001b[39mkf(r\u001b[33m,\u001b[39mi))\u001b[36mthrow\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m z\u001b[33m&&\u001b[39m\u001b[33mOf\u001b[39m(r)){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39mru(r\u001b[33m.\u001b[39mmeta)\u001b[33m;\u001b[39mkn({args\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39m[u]\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39merrorFormat\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma})}\u001b[36mlet\u001b[39m l\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mmessage\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m(l\u001b[33m=\u001b[39mwn({callsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39misPanic\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39misPanic\u001b[33m,\u001b[39mshowColors\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m===\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39mmessage\u001b[33m:\u001b[39ml}))\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39msanitizeMessage(l)\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mcode){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39ms\u001b[33m?\u001b[39m{modelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr\u001b[33m.\u001b[39mmeta}\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mmeta\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m z(l\u001b[33m,\u001b[39m{code\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mcode\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mmeta\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})}\u001b[36melse\u001b[39m{\u001b[36mif\u001b[39m(r\u001b[33m.\u001b[39misPanic)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m j)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m j(l\u001b[33m,\u001b[39m{clientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m \u001b[33mT\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mT\u001b[39m(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m le)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)}\u001b[36mthrow\u001b[39m r\u001b[33m.\u001b[39mclientVersion\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mr}sanitizeMessage(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m!==\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m?\u001b[39m(\u001b[35m0\u001b[39m\u001b[33m,\u001b[39m\u001b[33mXl\u001b[39m\u001b[33m.\u001b[39m\u001b[36mdefault\u001b[39m)(r)\u001b[33m:\u001b[39mr}unpack(r\u001b[33m,\u001b[39mt\u001b[33m,\u001b[39mn){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m||\u001b[39m(r\u001b[33m.\u001b[39mdata\u001b[33m&&\u001b[39m(r\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mdata)\u001b[33m,\u001b[39m\u001b[33m!\u001b[39mr))\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mvalues(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ms\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mfilter(u\u001b[33m=>\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"select\"\u001b[39m\u001b[33m&&\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"include\"\u001b[39m)\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mio(o\u001b[33m,\u001b[39ms)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39mi\u001b[33m===\u001b[39m\u001b[32m\"queryRaw\"\u001b[39m\u001b[33m?\u001b[39mzn(a)\u001b[33m:\u001b[39m\u001b[33mTr\u001b[39m(a)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m?\u001b[39mn(l)\u001b[33m:\u001b[39ml}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"RequestHandler\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mIf\u001b[39m(e){\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39m{isolationLevel\u001b[33m:\u001b[39me\u001b[33m.\u001b[39misolationLevel}}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39meu(e)}\u001b[33m;\u001b[39m_e(e\u001b[33m,\u001b[39m\u001b[32m\"Unknown transaction kind\"\u001b[39m)}}\u001b[36mfunction\u001b[39m eu(e){\u001b[36mreturn\u001b[39m{id\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39mpayload\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mpayload}}\u001b[36mfunction\u001b[39m kf(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m \u001b[33mKn\u001b[39m(e)\u001b[33m&&\u001b[39mr\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m!==\u001b[39mr\u001b[33m.\u001b[39mindex}\u001b[36mfunction\u001b[39m \u001b[33mOf\u001b[39m(e){\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2009\"\u001b[39m\u001b[33m||\u001b[39me\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2012\"\u001b[39m}\u001b[36mfunction\u001b[39m ru(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"Union\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"Union\"\u001b[39m\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39me\u001b[33m.\u001b[39merrors\u001b[33m.\u001b[39mmap(ru)}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e\u001b[33m.\u001b[39mselectionPath)){\u001b[36mlet\u001b[39m[\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr]\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mselectionPath\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[33m...\u001b[39me\u001b[33m,\u001b[39mselectionPath\u001b[33m:\u001b[39mr}}\u001b[36mreturn\u001b[39m e}\u001b[36mvar\u001b[39m tu\u001b[33m=\u001b[39m\u001b[33mSl\u001b[39m\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m au\u001b[33m=\u001b[39mk(\u001b[33mQi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mD\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mError\u001b[39m{constructor(r){\u001b[36msuper\u001b[39m(r\u001b[33m+\u001b[39m\u001b[32m`\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 125 |\u001b[39m \u001b[32mRead more at https://pris.ly/d/client-constructor`\u001b[39m)\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mname\u001b[33m=\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}}\u001b[33m;\u001b[39mx(\u001b[33mD\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m nu\u001b[33m=\u001b[39m[\u001b[32m\"datasources\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"datasourceUrl\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"errorFormat\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"adapter\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"log\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"transactionOptions\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"omit\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"__internal\"\u001b[39m]\u001b[33m,\u001b[39miu\u001b[33m=\u001b[39m[\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"colorless\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"minimal\"\u001b[39m]\u001b[33m,\u001b[39mou\u001b[33m=\u001b[39m[\u001b[32m\"info\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"warn\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"error\"\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mDf\u001b[39m\u001b[33m=\u001b[39m{datasources\u001b[33m:\u001b[39m(e\u001b[33m,\u001b[39m{datasourceNames\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m e\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for \"datasources\" provided to PrismaClient constructor`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[t\u001b[33m,\u001b[39mn]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(e)){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m.\u001b[39mincludes(t)){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mWr\u001b[39m(t\u001b[33m,\u001b[39mr)\u001b[33m||\u001b[39m\u001b[32m` Available datasources: ${r.join(\", \")}`\u001b[39m\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Unknown datasource ${t} provided to PrismaClient constructor.${i}`\u001b[39m)}\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m n\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(n))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 126 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m\u001b[36mtypeof\u001b[39m n\u001b[33m==\u001b[39m\u001b[32m\"object\"\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[i\u001b[33m,\u001b[39mo]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(n)){\u001b[36mif\u001b[39m(i\u001b[33m!==\u001b[39m\u001b[32m\"url\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 127 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m o\u001b[33m!=\u001b[39m\u001b[32m\"string\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(o)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:7649)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError [as handleAndLogRequestError] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6784)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleAndLogRequestError [as request] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6491)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat l (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:133:9778)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/lib/services/connectionService.integration.test.ts\u001b[39m\u001b[0m\u001b[2m:40:5)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mConnectionService (integration) › should mark connection as connected\u001b[39m\u001b[22m\n\n    PrismaClientKnownRequestError: \n    Invalid `prisma.apiConnection.create()` invocation in\n    /Users/connorbowen/apiq-mvp/tests/integration/lib/services/connectionService.integration.test.ts:22:49\n\n      19 \n      20 beforeEach(async () => {\n      21   // Create a fresh test connection for each test\n    → 22   testConnection = await prisma.apiConnection.create(\n    Foreign key constraint violated on the constraint: `api_connections_userId_fkey`\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 122 |\u001b[39m \u001b[32m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 123 |\u001b[39m \u001b[32mMore Information: https://pris.ly/d/execute-raw\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 124 |\u001b[39m \u001b[32m`\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mCo\u001b[39m\u001b[33m=\u001b[39m({clientMethod\u001b[33m:\u001b[39me\u001b[33m,\u001b[39mactiveProvider\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39mt\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[32m\"\"\u001b[39m\u001b[33m,\u001b[39mi\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mFn\u001b[39m(t))n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(t)){\u001b[36mlet\u001b[39m[o\u001b[33m,\u001b[39m\u001b[33m...\u001b[39ms]\u001b[33m=\u001b[39mt\u001b[33m;\u001b[39mn\u001b[33m=\u001b[39mo\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(s\u001b[33m||\u001b[39m[])\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}}\u001b[36melse\u001b[39m \u001b[36mswitch\u001b[39m(r){\u001b[36mcase\u001b[39m\u001b[32m\"sqlite\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"mysql\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"cockroachdb\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgresql\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgres\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mtext\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"sqlserver\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mjl(t)\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`The ${r} provider does not support ${e}`\u001b[39m)}\u001b[36mreturn\u001b[39m i\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mvalues\u001b[33m?\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n}, ${i.values})`\u001b[39m)\u001b[33m:\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n})`\u001b[39m)\u001b[33m,\u001b[39m{query\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mparameters\u001b[33m:\u001b[39mi}}\u001b[33m,\u001b[39m\u001b[33mWl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e\u001b[33m.\u001b[39mstrings\u001b[33m,\u001b[39m\u001b[33m...\u001b[39me\u001b[33m.\u001b[39mvalues]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mlet\u001b[39m[r\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mt]\u001b[33m=\u001b[39me\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m oe(r\u001b[33m,\u001b[39mt)}}\u001b[33m,\u001b[39m\u001b[33mJl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mreturn\u001b[39m e[\u001b[35m0\u001b[39m]}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mAo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mfunction\u001b[39m(t\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m(s\u001b[33m=\u001b[39me)\u001b[33m=>\u001b[39m{\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m s\u001b[33m===\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m||\u001b[39ms\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33m=\u001b[39m\u001b[33mHl\u001b[39m(t(s))\u001b[33m:\u001b[39m\u001b[33mHl\u001b[39m(t(s))}\u001b[36mcatch\u001b[39m(a){\u001b[36mreturn\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mreject(a)}}\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[36mget\u001b[39m spec(){\u001b[36mreturn\u001b[39m n}\u001b[33m,\u001b[39mthen(s\u001b[33m,\u001b[39ma){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39mthen(s\u001b[33m,\u001b[39ma)}\u001b[33m,\u001b[39m\u001b[36mcatch\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(s)}\u001b[33m,\u001b[39m\u001b[36mfinally\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mfinally\u001b[39m(s)}\u001b[33m,\u001b[39mrequestTransaction(s){\u001b[36mlet\u001b[39m a\u001b[33m=\u001b[39mo(s)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m a\u001b[33m.\u001b[39mrequestTransaction\u001b[33m?\u001b[39ma\u001b[33m.\u001b[39mrequestTransaction(s)\u001b[33m:\u001b[39ma}\u001b[33m,\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag]\u001b[33m:\u001b[39m\u001b[32m\"PrismaPromise\"\u001b[39m}}}\u001b[36mfunction\u001b[39m \u001b[33mHl\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mthen\u001b[33m==\u001b[39m\u001b[32m\"function\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39m\u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mresolve(e)}\u001b[36mvar\u001b[39m \u001b[33mTf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mEi\u001b[39m\u001b[33m.\u001b[39msplit(\u001b[32m\".\"\u001b[39m)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mSf\u001b[39m\u001b[33m=\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m}\u001b[33m,\u001b[39mgetTraceParent(){\u001b[36mreturn\u001b[39m\u001b[32m\"00-10-10-00\"\u001b[39m}\u001b[33m,\u001b[39mdispatchEngineSpans(){}\u001b[33m,\u001b[39mgetActiveContext(){}\u001b[33m,\u001b[39mrunInChildSpan(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m r()}}\u001b[33m,\u001b[39m\u001b[33mIo\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39misEnabled()}getTraceParent(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetTraceParent(r)}dispatchEngineSpans(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mdispatchEngineSpans(r)}getActiveContext(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetActiveContext()}runInChildSpan(r\u001b[33m,\u001b[39mt){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mrunInChildSpan(r\u001b[33m,\u001b[39mt)}getGlobalTracingHelper(){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39mglobalThis[\u001b[32m`V${Tf}_PRISMA_INSTRUMENTATION`\u001b[39m]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39mglobalThis\u001b[33m.\u001b[39m\u001b[33mPRISMA_INSTRUMENTATION\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33mSf\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKl\u001b[39m(){\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mIo\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mYl\u001b[39m(e\u001b[33m,\u001b[39mr\u001b[33m=\u001b[39m()\u001b[33m=>\u001b[39m{}){\u001b[36mlet\u001b[39m t\u001b[33m,\u001b[39mn\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m(i\u001b[33m=>\u001b[39mt\u001b[33m=\u001b[39mi)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{then(i){\u001b[36mreturn\u001b[39m\u001b[33m--\u001b[39me\u001b[33m===\u001b[39m\u001b[35m0\u001b[39m\u001b[33m&&\u001b[39mt(r())\u001b[33m,\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m.\u001b[39m(n)}}}\u001b[36mfunction\u001b[39m zl(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mreduce((r\u001b[33m,\u001b[39mt)\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[36mtypeof\u001b[39m t\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mlevel\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m===\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m?\u001b[39mr\u001b[33m:\u001b[39mr\u001b[33m&&\u001b[39m(t\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m||\u001b[39mr\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m)\u001b[33m?\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m:\u001b[39mn}\u001b[33m,\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mHn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{_middlewares\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39muse(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mpush(r)}\u001b[36mget\u001b[39m(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}has(r){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[33m!\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}length(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mlength}}\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mXl\u001b[39m\u001b[33m=\u001b[39mk(\u001b[33mOi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKn\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m==\u001b[39m\u001b[32m\"number\"\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mZl\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUnique\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUniqueOrThrow\"\u001b[39m)\u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mmodelName\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(e\u001b[33m.\u001b[39mmodelName)\u001b[33m,\u001b[39me\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39mselection))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mjoin(\u001b[32m\"\"\u001b[39m)}\u001b[36mfunction\u001b[39m ko(e){\u001b[36mreturn\u001b[39m\u001b[32m`(${Object.keys(e).sort().map(t=>{let n=e[t];return typeof n==\"object\"&&n!==null?`(${t} ${ko(n)})`:t}).join(\" \")})`\u001b[39m}\u001b[36mvar\u001b[39m \u001b[33mRf\u001b[39m\u001b[33m=\u001b[39m{aggregate\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39maggregateRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mcreateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mexecuteRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mfindFirst\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindFirstOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUnique\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUniqueOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mgroupBy\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mqueryRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mrunCommandRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupsertOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mOo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[33mRf\u001b[39m[e]}\u001b[36mvar\u001b[39m \u001b[33mYn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{constructor(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches\u001b[33m=\u001b[39m{}}batches\u001b[33m;\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m;\u001b[39mrequest(r){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchBy(r)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m t\u001b[33m?\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mprocess\u001b[33m.\u001b[39mnextTick(()\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdispatchBatches()\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m})))\u001b[33m,\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m.\u001b[39mpush({request\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mresolve\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mreject\u001b[33m:\u001b[39mi})}))\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(r)}dispatchBatches(){\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m r \u001b[36min\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m;\u001b[39m\u001b[36mdelete\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m,\u001b[39mt\u001b[33m.\u001b[39mlength\u001b[33m===\u001b[39m\u001b[35m1\u001b[39m\u001b[33m?\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mrequest)\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)\u001b[33m:\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mresolve(n)})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)})\u001b[33m:\u001b[39m(t\u001b[33m.\u001b[39msort((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchOrder(n\u001b[33m.\u001b[39mrequest\u001b[33m,\u001b[39mi\u001b[33m.\u001b[39mrequest))\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchLoader(t\u001b[33m.\u001b[39mmap(n\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mrequest))\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m o\u001b[33m=\u001b[39mn[i]\u001b[33m;\u001b[39mo \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[i]\u001b[33m.\u001b[39mreject(o)\u001b[33m:\u001b[39mt[i]\u001b[33m.\u001b[39mresolve(o)}})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)}))}}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"DataLoader\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m mr(e\u001b[33m,\u001b[39mr){\u001b[36mif\u001b[39m(r\u001b[33m===\u001b[39m\u001b[36mnull\u001b[39m)\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mswitch\u001b[39m(e){\u001b[36mcase\u001b[39m\u001b[32m\"bigint\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[33mBigInt\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes\"\u001b[39m\u001b[33m:\u001b[39m{\u001b[36mlet\u001b[39m{buffer\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mbyteOffset\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mbyteLength\u001b[33m:\u001b[39mi}\u001b[33m=\u001b[39m\u001b[33mBuffer\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m(r\u001b[33m,\u001b[39m\u001b[32m\"base64\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mUint8Array\u001b[39m(t\u001b[33m,\u001b[39mn\u001b[33m,\u001b[39mi)}\u001b[36mcase\u001b[39m\u001b[32m\"decimal\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mPe\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(\u001b[32m`1970-01-01T${r}Z`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bigint-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bigint\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bytes\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"decimal-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"decimal\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"datetime\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"date\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"time\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r}}\u001b[36mfunction\u001b[39m zn(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39m\u001b[33mCf\u001b[39m(e)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mn\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mrows\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mn\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mrows[n]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m{\u001b[33m...\u001b[39mt}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m s\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39ms\u001b[33m<\u001b[39m\u001b[33mi\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39ms\u001b[33m++\u001b[39m)o[e\u001b[33m.\u001b[39mcolumns[s]]\u001b[33m=\u001b[39mmr(e\u001b[33m.\u001b[39mtypes[s]\u001b[33m,\u001b[39mi[s])\u001b[33m;\u001b[39mr\u001b[33m.\u001b[39mpush(o)}\u001b[36mreturn\u001b[39m r}\u001b[36mfunction\u001b[39m \u001b[33mCf\u001b[39m(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m{}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mt\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mcolumns\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mt\u001b[33m++\u001b[39m)r[e\u001b[33m.\u001b[39mcolumns[t]]\u001b[33m=\u001b[39m\u001b[36mnull\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r}\u001b[36mvar\u001b[39m \u001b[33mAf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mN\u001b[39m(\u001b[32m\"prisma:client:request_handler\"\u001b[39m)\u001b[33m,\u001b[39m\u001b[33mZn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{client\u001b[33m;\u001b[39mdataloader\u001b[33m;\u001b[39mlogEmitter\u001b[33m;\u001b[39mconstructor(r\u001b[33m,\u001b[39mt){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m=\u001b[39mt\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m=\u001b[39mr\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mYn\u001b[39m({batchLoader\u001b[33m:\u001b[39mol(\u001b[36masync\u001b[39m({requests\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi})\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m{transaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39motelParentCtx\u001b[33m:\u001b[39ms}\u001b[33m=\u001b[39mn[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mmap(p\u001b[33m=>\u001b[39mp\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent(s)\u001b[33m,\u001b[39mu\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39msome(p\u001b[33m=>\u001b[39m\u001b[33mOo\u001b[39m(p\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction))\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m(\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequestBatch(a\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39ml\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39m\u001b[33mIf\u001b[39m(o)\u001b[33m,\u001b[39mcontainsWrite\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi}))\u001b[33m.\u001b[39mmap((p\u001b[33m,\u001b[39md)\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(p \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mreturn\u001b[39m p\u001b[33m;\u001b[39m\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n[d]\u001b[33m,\u001b[39mp)}\u001b[36mcatch\u001b[39m(f){\u001b[36mreturn\u001b[39m f}})})\u001b[33m,\u001b[39msingleLoader\u001b[33m:\u001b[39m\u001b[36masync\u001b[39m n\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39meu(n\u001b[33m.\u001b[39mtransaction)\u001b[33m:\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequest(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent()\u001b[33m,\u001b[39minteractiveTransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39misWrite\u001b[33m:\u001b[39m\u001b[33mOo\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction)\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mn\u001b[33m.\u001b[39mcustomDataProxyFetch})\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n\u001b[33m,\u001b[39mo)}\u001b[33m,\u001b[39mbatchBy\u001b[33m:\u001b[39mn\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mid\u001b[33m?\u001b[39m\u001b[32m`transaction-${n.transaction.id}`\u001b[39m\u001b[33m:\u001b[39m\u001b[33mZl\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39mbatchOrder(n\u001b[33m,\u001b[39mi){\u001b[36mreturn\u001b[39m n\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m?\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m-\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m:\u001b[39m\u001b[35m0\u001b[39m}})}\u001b[36masync\u001b[39m request(r){\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m.\u001b[39mrequest(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mlet\u001b[39m{clientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma}\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleAndLogRequestError({error\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mglobalOmit})}}mapQueryEngineResult({dataPath\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39munpacker\u001b[33m:\u001b[39mt}\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mdata\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39munpack(i\u001b[33m,\u001b[39mr\u001b[33m,\u001b[39mt)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mPRISMA_CLIENT_GET_TIME\u001b[39m\u001b[33m?\u001b[39m{data\u001b[33m:\u001b[39mo}\u001b[33m:\u001b[39mo}handleAndLogRequestError(r){\u001b[36mtry\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleRequestError(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mthrow\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m.\u001b[39memit(\u001b[32m\"error\"\u001b[39m\u001b[33m,\u001b[39m{message\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mmessage\u001b[33m,\u001b[39mtarget\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mclientMethod\u001b[33m,\u001b[39mtimestamp\u001b[33m:\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m})\u001b[33m,\u001b[39mt}}handleRequestError({error\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma}){\u001b[36mif\u001b[39m(\u001b[33mAf\u001b[39m(r)\u001b[33m,\u001b[39mkf(r\u001b[33m,\u001b[39mi))\u001b[36mthrow\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m z\u001b[33m&&\u001b[39m\u001b[33mOf\u001b[39m(r)){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39mru(r\u001b[33m.\u001b[39mmeta)\u001b[33m;\u001b[39mkn({args\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39m[u]\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39merrorFormat\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma})}\u001b[36mlet\u001b[39m l\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mmessage\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m(l\u001b[33m=\u001b[39mwn({callsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39misPanic\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39misPanic\u001b[33m,\u001b[39mshowColors\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m===\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39mmessage\u001b[33m:\u001b[39ml}))\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39msanitizeMessage(l)\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mcode){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39ms\u001b[33m?\u001b[39m{modelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr\u001b[33m.\u001b[39mmeta}\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mmeta\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m z(l\u001b[33m,\u001b[39m{code\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mcode\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mmeta\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})}\u001b[36melse\u001b[39m{\u001b[36mif\u001b[39m(r\u001b[33m.\u001b[39misPanic)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m j)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m j(l\u001b[33m,\u001b[39m{clientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m \u001b[33mT\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mT\u001b[39m(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m le)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)}\u001b[36mthrow\u001b[39m r\u001b[33m.\u001b[39mclientVersion\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mr}sanitizeMessage(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m!==\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m?\u001b[39m(\u001b[35m0\u001b[39m\u001b[33m,\u001b[39m\u001b[33mXl\u001b[39m\u001b[33m.\u001b[39m\u001b[36mdefault\u001b[39m)(r)\u001b[33m:\u001b[39mr}unpack(r\u001b[33m,\u001b[39mt\u001b[33m,\u001b[39mn){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m||\u001b[39m(r\u001b[33m.\u001b[39mdata\u001b[33m&&\u001b[39m(r\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mdata)\u001b[33m,\u001b[39m\u001b[33m!\u001b[39mr))\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mvalues(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ms\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mfilter(u\u001b[33m=>\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"select\"\u001b[39m\u001b[33m&&\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"include\"\u001b[39m)\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mio(o\u001b[33m,\u001b[39ms)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39mi\u001b[33m===\u001b[39m\u001b[32m\"queryRaw\"\u001b[39m\u001b[33m?\u001b[39mzn(a)\u001b[33m:\u001b[39m\u001b[33mTr\u001b[39m(a)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m?\u001b[39mn(l)\u001b[33m:\u001b[39ml}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"RequestHandler\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mIf\u001b[39m(e){\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39m{isolationLevel\u001b[33m:\u001b[39me\u001b[33m.\u001b[39misolationLevel}}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39meu(e)}\u001b[33m;\u001b[39m_e(e\u001b[33m,\u001b[39m\u001b[32m\"Unknown transaction kind\"\u001b[39m)}}\u001b[36mfunction\u001b[39m eu(e){\u001b[36mreturn\u001b[39m{id\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39mpayload\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mpayload}}\u001b[36mfunction\u001b[39m kf(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m \u001b[33mKn\u001b[39m(e)\u001b[33m&&\u001b[39mr\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m!==\u001b[39mr\u001b[33m.\u001b[39mindex}\u001b[36mfunction\u001b[39m \u001b[33mOf\u001b[39m(e){\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2009\"\u001b[39m\u001b[33m||\u001b[39me\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2012\"\u001b[39m}\u001b[36mfunction\u001b[39m ru(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"Union\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"Union\"\u001b[39m\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39me\u001b[33m.\u001b[39merrors\u001b[33m.\u001b[39mmap(ru)}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e\u001b[33m.\u001b[39mselectionPath)){\u001b[36mlet\u001b[39m[\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr]\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mselectionPath\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[33m...\u001b[39me\u001b[33m,\u001b[39mselectionPath\u001b[33m:\u001b[39mr}}\u001b[36mreturn\u001b[39m e}\u001b[36mvar\u001b[39m tu\u001b[33m=\u001b[39m\u001b[33mSl\u001b[39m\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m au\u001b[33m=\u001b[39mk(\u001b[33mQi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mD\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mError\u001b[39m{constructor(r){\u001b[36msuper\u001b[39m(r\u001b[33m+\u001b[39m\u001b[32m`\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 125 |\u001b[39m \u001b[32mRead more at https://pris.ly/d/client-constructor`\u001b[39m)\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mname\u001b[33m=\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}}\u001b[33m;\u001b[39mx(\u001b[33mD\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m nu\u001b[33m=\u001b[39m[\u001b[32m\"datasources\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"datasourceUrl\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"errorFormat\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"adapter\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"log\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"transactionOptions\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"omit\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"__internal\"\u001b[39m]\u001b[33m,\u001b[39miu\u001b[33m=\u001b[39m[\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"colorless\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"minimal\"\u001b[39m]\u001b[33m,\u001b[39mou\u001b[33m=\u001b[39m[\u001b[32m\"info\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"warn\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"error\"\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mDf\u001b[39m\u001b[33m=\u001b[39m{datasources\u001b[33m:\u001b[39m(e\u001b[33m,\u001b[39m{datasourceNames\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m e\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for \"datasources\" provided to PrismaClient constructor`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[t\u001b[33m,\u001b[39mn]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(e)){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m.\u001b[39mincludes(t)){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mWr\u001b[39m(t\u001b[33m,\u001b[39mr)\u001b[33m||\u001b[39m\u001b[32m` Available datasources: ${r.join(\", \")}`\u001b[39m\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Unknown datasource ${t} provided to PrismaClient constructor.${i}`\u001b[39m)}\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m n\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(n))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 126 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m\u001b[36mtypeof\u001b[39m n\u001b[33m==\u001b[39m\u001b[32m\"object\"\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[i\u001b[33m,\u001b[39mo]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(n)){\u001b[36mif\u001b[39m(i\u001b[33m!==\u001b[39m\u001b[32m\"url\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 127 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m o\u001b[33m!=\u001b[39m\u001b[32m\"string\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(o)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:7459)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError [as handleAndLogRequestError] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6784)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleAndLogRequestError [as request] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6491)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat l (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:133:9778)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/lib/services/connectionService.integration.test.ts\u001b[39m\u001b[0m\u001b[2m:22:22)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mConnectionService (integration) › should mark connection as connected\u001b[39m\u001b[22m\n\n    PrismaClientUnknownRequestError: \n    Invalid `prisma.apiConnection.deleteMany()` invocation in\n    /Users/connorbowen/apiq-mvp/tests/integration/lib/services/connectionService.integration.test.ts:40:32\n\n      37 \n      38 afterEach(async () => {\n      39   // Clean up after each test\n    → 40   await prisma.apiConnection.deleteMany(\n    Error occurred during query execution:\n    ConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"25P02\", message: \"current transaction is aborted, commands ignored until end of transaction block\", severity: \"ERROR\", detail: None, column: None, hint: None }), transient: false })\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 122 |\u001b[39m \u001b[32m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 123 |\u001b[39m \u001b[32mMore Information: https://pris.ly/d/execute-raw\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 124 |\u001b[39m \u001b[32m`\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mCo\u001b[39m\u001b[33m=\u001b[39m({clientMethod\u001b[33m:\u001b[39me\u001b[33m,\u001b[39mactiveProvider\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39mt\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[32m\"\"\u001b[39m\u001b[33m,\u001b[39mi\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mFn\u001b[39m(t))n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(t)){\u001b[36mlet\u001b[39m[o\u001b[33m,\u001b[39m\u001b[33m...\u001b[39ms]\u001b[33m=\u001b[39mt\u001b[33m;\u001b[39mn\u001b[33m=\u001b[39mo\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(s\u001b[33m||\u001b[39m[])\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}}\u001b[36melse\u001b[39m \u001b[36mswitch\u001b[39m(r){\u001b[36mcase\u001b[39m\u001b[32m\"sqlite\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"mysql\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"cockroachdb\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgresql\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgres\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mtext\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"sqlserver\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mjl(t)\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`The ${r} provider does not support ${e}`\u001b[39m)}\u001b[36mreturn\u001b[39m i\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mvalues\u001b[33m?\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n}, ${i.values})`\u001b[39m)\u001b[33m:\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n})`\u001b[39m)\u001b[33m,\u001b[39m{query\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mparameters\u001b[33m:\u001b[39mi}}\u001b[33m,\u001b[39m\u001b[33mWl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e\u001b[33m.\u001b[39mstrings\u001b[33m,\u001b[39m\u001b[33m...\u001b[39me\u001b[33m.\u001b[39mvalues]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mlet\u001b[39m[r\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mt]\u001b[33m=\u001b[39me\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m oe(r\u001b[33m,\u001b[39mt)}}\u001b[33m,\u001b[39m\u001b[33mJl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mreturn\u001b[39m e[\u001b[35m0\u001b[39m]}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mAo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mfunction\u001b[39m(t\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m(s\u001b[33m=\u001b[39me)\u001b[33m=>\u001b[39m{\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m s\u001b[33m===\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m||\u001b[39ms\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33m=\u001b[39m\u001b[33mHl\u001b[39m(t(s))\u001b[33m:\u001b[39m\u001b[33mHl\u001b[39m(t(s))}\u001b[36mcatch\u001b[39m(a){\u001b[36mreturn\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mreject(a)}}\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[36mget\u001b[39m spec(){\u001b[36mreturn\u001b[39m n}\u001b[33m,\u001b[39mthen(s\u001b[33m,\u001b[39ma){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39mthen(s\u001b[33m,\u001b[39ma)}\u001b[33m,\u001b[39m\u001b[36mcatch\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(s)}\u001b[33m,\u001b[39m\u001b[36mfinally\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mfinally\u001b[39m(s)}\u001b[33m,\u001b[39mrequestTransaction(s){\u001b[36mlet\u001b[39m a\u001b[33m=\u001b[39mo(s)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m a\u001b[33m.\u001b[39mrequestTransaction\u001b[33m?\u001b[39ma\u001b[33m.\u001b[39mrequestTransaction(s)\u001b[33m:\u001b[39ma}\u001b[33m,\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag]\u001b[33m:\u001b[39m\u001b[32m\"PrismaPromise\"\u001b[39m}}}\u001b[36mfunction\u001b[39m \u001b[33mHl\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mthen\u001b[33m==\u001b[39m\u001b[32m\"function\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39m\u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mresolve(e)}\u001b[36mvar\u001b[39m \u001b[33mTf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mEi\u001b[39m\u001b[33m.\u001b[39msplit(\u001b[32m\".\"\u001b[39m)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mSf\u001b[39m\u001b[33m=\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m}\u001b[33m,\u001b[39mgetTraceParent(){\u001b[36mreturn\u001b[39m\u001b[32m\"00-10-10-00\"\u001b[39m}\u001b[33m,\u001b[39mdispatchEngineSpans(){}\u001b[33m,\u001b[39mgetActiveContext(){}\u001b[33m,\u001b[39mrunInChildSpan(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m r()}}\u001b[33m,\u001b[39m\u001b[33mIo\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39misEnabled()}getTraceParent(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetTraceParent(r)}dispatchEngineSpans(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mdispatchEngineSpans(r)}getActiveContext(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetActiveContext()}runInChildSpan(r\u001b[33m,\u001b[39mt){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mrunInChildSpan(r\u001b[33m,\u001b[39mt)}getGlobalTracingHelper(){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39mglobalThis[\u001b[32m`V${Tf}_PRISMA_INSTRUMENTATION`\u001b[39m]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39mglobalThis\u001b[33m.\u001b[39m\u001b[33mPRISMA_INSTRUMENTATION\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33mSf\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKl\u001b[39m(){\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mIo\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mYl\u001b[39m(e\u001b[33m,\u001b[39mr\u001b[33m=\u001b[39m()\u001b[33m=>\u001b[39m{}){\u001b[36mlet\u001b[39m t\u001b[33m,\u001b[39mn\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m(i\u001b[33m=>\u001b[39mt\u001b[33m=\u001b[39mi)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{then(i){\u001b[36mreturn\u001b[39m\u001b[33m--\u001b[39me\u001b[33m===\u001b[39m\u001b[35m0\u001b[39m\u001b[33m&&\u001b[39mt(r())\u001b[33m,\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m.\u001b[39m(n)}}}\u001b[36mfunction\u001b[39m zl(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mreduce((r\u001b[33m,\u001b[39mt)\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[36mtypeof\u001b[39m t\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mlevel\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m===\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m?\u001b[39mr\u001b[33m:\u001b[39mr\u001b[33m&&\u001b[39m(t\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m||\u001b[39mr\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m)\u001b[33m?\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m:\u001b[39mn}\u001b[33m,\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mHn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{_middlewares\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39muse(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mpush(r)}\u001b[36mget\u001b[39m(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}has(r){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[33m!\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}length(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mlength}}\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mXl\u001b[39m\u001b[33m=\u001b[39mk(\u001b[33mOi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKn\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m==\u001b[39m\u001b[32m\"number\"\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mZl\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUnique\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUniqueOrThrow\"\u001b[39m)\u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mmodelName\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(e\u001b[33m.\u001b[39mmodelName)\u001b[33m,\u001b[39me\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39mselection))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mjoin(\u001b[32m\"\"\u001b[39m)}\u001b[36mfunction\u001b[39m ko(e){\u001b[36mreturn\u001b[39m\u001b[32m`(${Object.keys(e).sort().map(t=>{let n=e[t];return typeof n==\"object\"&&n!==null?`(${t} ${ko(n)})`:t}).join(\" \")})`\u001b[39m}\u001b[36mvar\u001b[39m \u001b[33mRf\u001b[39m\u001b[33m=\u001b[39m{aggregate\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39maggregateRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mcreateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mexecuteRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mfindFirst\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindFirstOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUnique\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUniqueOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mgroupBy\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mqueryRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mrunCommandRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupsertOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mOo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[33mRf\u001b[39m[e]}\u001b[36mvar\u001b[39m \u001b[33mYn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{constructor(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches\u001b[33m=\u001b[39m{}}batches\u001b[33m;\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m;\u001b[39mrequest(r){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchBy(r)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m t\u001b[33m?\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mprocess\u001b[33m.\u001b[39mnextTick(()\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdispatchBatches()\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m})))\u001b[33m,\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m.\u001b[39mpush({request\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mresolve\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mreject\u001b[33m:\u001b[39mi})}))\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(r)}dispatchBatches(){\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m r \u001b[36min\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m;\u001b[39m\u001b[36mdelete\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m,\u001b[39mt\u001b[33m.\u001b[39mlength\u001b[33m===\u001b[39m\u001b[35m1\u001b[39m\u001b[33m?\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mrequest)\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)\u001b[33m:\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mresolve(n)})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)})\u001b[33m:\u001b[39m(t\u001b[33m.\u001b[39msort((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchOrder(n\u001b[33m.\u001b[39mrequest\u001b[33m,\u001b[39mi\u001b[33m.\u001b[39mrequest))\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchLoader(t\u001b[33m.\u001b[39mmap(n\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mrequest))\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m o\u001b[33m=\u001b[39mn[i]\u001b[33m;\u001b[39mo \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[i]\u001b[33m.\u001b[39mreject(o)\u001b[33m:\u001b[39mt[i]\u001b[33m.\u001b[39mresolve(o)}})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)}))}}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"DataLoader\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m mr(e\u001b[33m,\u001b[39mr){\u001b[36mif\u001b[39m(r\u001b[33m===\u001b[39m\u001b[36mnull\u001b[39m)\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mswitch\u001b[39m(e){\u001b[36mcase\u001b[39m\u001b[32m\"bigint\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[33mBigInt\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes\"\u001b[39m\u001b[33m:\u001b[39m{\u001b[36mlet\u001b[39m{buffer\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mbyteOffset\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mbyteLength\u001b[33m:\u001b[39mi}\u001b[33m=\u001b[39m\u001b[33mBuffer\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m(r\u001b[33m,\u001b[39m\u001b[32m\"base64\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mUint8Array\u001b[39m(t\u001b[33m,\u001b[39mn\u001b[33m,\u001b[39mi)}\u001b[36mcase\u001b[39m\u001b[32m\"decimal\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mPe\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(\u001b[32m`1970-01-01T${r}Z`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bigint-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bigint\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bytes\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"decimal-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"decimal\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"datetime\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"date\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"time\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r}}\u001b[36mfunction\u001b[39m zn(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39m\u001b[33mCf\u001b[39m(e)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mn\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mrows\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mn\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mrows[n]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m{\u001b[33m...\u001b[39mt}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m s\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39ms\u001b[33m<\u001b[39m\u001b[33mi\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39ms\u001b[33m++\u001b[39m)o[e\u001b[33m.\u001b[39mcolumns[s]]\u001b[33m=\u001b[39mmr(e\u001b[33m.\u001b[39mtypes[s]\u001b[33m,\u001b[39mi[s])\u001b[33m;\u001b[39mr\u001b[33m.\u001b[39mpush(o)}\u001b[36mreturn\u001b[39m r}\u001b[36mfunction\u001b[39m \u001b[33mCf\u001b[39m(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m{}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mt\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mcolumns\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mt\u001b[33m++\u001b[39m)r[e\u001b[33m.\u001b[39mcolumns[t]]\u001b[33m=\u001b[39m\u001b[36mnull\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r}\u001b[36mvar\u001b[39m \u001b[33mAf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mN\u001b[39m(\u001b[32m\"prisma:client:request_handler\"\u001b[39m)\u001b[33m,\u001b[39m\u001b[33mZn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{client\u001b[33m;\u001b[39mdataloader\u001b[33m;\u001b[39mlogEmitter\u001b[33m;\u001b[39mconstructor(r\u001b[33m,\u001b[39mt){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m=\u001b[39mt\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m=\u001b[39mr\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mYn\u001b[39m({batchLoader\u001b[33m:\u001b[39mol(\u001b[36masync\u001b[39m({requests\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi})\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m{transaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39motelParentCtx\u001b[33m:\u001b[39ms}\u001b[33m=\u001b[39mn[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mmap(p\u001b[33m=>\u001b[39mp\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent(s)\u001b[33m,\u001b[39mu\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39msome(p\u001b[33m=>\u001b[39m\u001b[33mOo\u001b[39m(p\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction))\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m(\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequestBatch(a\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39ml\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39m\u001b[33mIf\u001b[39m(o)\u001b[33m,\u001b[39mcontainsWrite\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi}))\u001b[33m.\u001b[39mmap((p\u001b[33m,\u001b[39md)\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(p \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mreturn\u001b[39m p\u001b[33m;\u001b[39m\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n[d]\u001b[33m,\u001b[39mp)}\u001b[36mcatch\u001b[39m(f){\u001b[36mreturn\u001b[39m f}})})\u001b[33m,\u001b[39msingleLoader\u001b[33m:\u001b[39m\u001b[36masync\u001b[39m n\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39meu(n\u001b[33m.\u001b[39mtransaction)\u001b[33m:\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequest(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent()\u001b[33m,\u001b[39minteractiveTransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39misWrite\u001b[33m:\u001b[39m\u001b[33mOo\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction)\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mn\u001b[33m.\u001b[39mcustomDataProxyFetch})\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n\u001b[33m,\u001b[39mo)}\u001b[33m,\u001b[39mbatchBy\u001b[33m:\u001b[39mn\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mid\u001b[33m?\u001b[39m\u001b[32m`transaction-${n.transaction.id}`\u001b[39m\u001b[33m:\u001b[39m\u001b[33mZl\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39mbatchOrder(n\u001b[33m,\u001b[39mi){\u001b[36mreturn\u001b[39m n\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m?\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m-\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m:\u001b[39m\u001b[35m0\u001b[39m}})}\u001b[36masync\u001b[39m request(r){\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m.\u001b[39mrequest(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mlet\u001b[39m{clientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma}\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleAndLogRequestError({error\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mglobalOmit})}}mapQueryEngineResult({dataPath\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39munpacker\u001b[33m:\u001b[39mt}\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mdata\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39munpack(i\u001b[33m,\u001b[39mr\u001b[33m,\u001b[39mt)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mPRISMA_CLIENT_GET_TIME\u001b[39m\u001b[33m?\u001b[39m{data\u001b[33m:\u001b[39mo}\u001b[33m:\u001b[39mo}handleAndLogRequestError(r){\u001b[36mtry\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleRequestError(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mthrow\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m.\u001b[39memit(\u001b[32m\"error\"\u001b[39m\u001b[33m,\u001b[39m{message\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mmessage\u001b[33m,\u001b[39mtarget\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mclientMethod\u001b[33m,\u001b[39mtimestamp\u001b[33m:\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m})\u001b[33m,\u001b[39mt}}handleRequestError({error\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma}){\u001b[36mif\u001b[39m(\u001b[33mAf\u001b[39m(r)\u001b[33m,\u001b[39mkf(r\u001b[33m,\u001b[39mi))\u001b[36mthrow\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m z\u001b[33m&&\u001b[39m\u001b[33mOf\u001b[39m(r)){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39mru(r\u001b[33m.\u001b[39mmeta)\u001b[33m;\u001b[39mkn({args\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39m[u]\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39merrorFormat\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma})}\u001b[36mlet\u001b[39m l\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mmessage\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m(l\u001b[33m=\u001b[39mwn({callsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39misPanic\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39misPanic\u001b[33m,\u001b[39mshowColors\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m===\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39mmessage\u001b[33m:\u001b[39ml}))\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39msanitizeMessage(l)\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mcode){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39ms\u001b[33m?\u001b[39m{modelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr\u001b[33m.\u001b[39mmeta}\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mmeta\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m z(l\u001b[33m,\u001b[39m{code\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mcode\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mmeta\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})}\u001b[36melse\u001b[39m{\u001b[36mif\u001b[39m(r\u001b[33m.\u001b[39misPanic)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m j)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m j(l\u001b[33m,\u001b[39m{clientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m \u001b[33mT\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mT\u001b[39m(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m le)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)}\u001b[36mthrow\u001b[39m r\u001b[33m.\u001b[39mclientVersion\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mr}sanitizeMessage(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m!==\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m?\u001b[39m(\u001b[35m0\u001b[39m\u001b[33m,\u001b[39m\u001b[33mXl\u001b[39m\u001b[33m.\u001b[39m\u001b[36mdefault\u001b[39m)(r)\u001b[33m:\u001b[39mr}unpack(r\u001b[33m,\u001b[39mt\u001b[33m,\u001b[39mn){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m||\u001b[39m(r\u001b[33m.\u001b[39mdata\u001b[33m&&\u001b[39m(r\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mdata)\u001b[33m,\u001b[39m\u001b[33m!\u001b[39mr))\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mvalues(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ms\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mfilter(u\u001b[33m=>\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"select\"\u001b[39m\u001b[33m&&\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"include\"\u001b[39m)\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mio(o\u001b[33m,\u001b[39ms)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39mi\u001b[33m===\u001b[39m\u001b[32m\"queryRaw\"\u001b[39m\u001b[33m?\u001b[39mzn(a)\u001b[33m:\u001b[39m\u001b[33mTr\u001b[39m(a)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m?\u001b[39mn(l)\u001b[33m:\u001b[39ml}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"RequestHandler\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mIf\u001b[39m(e){\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39m{isolationLevel\u001b[33m:\u001b[39me\u001b[33m.\u001b[39misolationLevel}}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39meu(e)}\u001b[33m;\u001b[39m_e(e\u001b[33m,\u001b[39m\u001b[32m\"Unknown transaction kind\"\u001b[39m)}}\u001b[36mfunction\u001b[39m eu(e){\u001b[36mreturn\u001b[39m{id\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39mpayload\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mpayload}}\u001b[36mfunction\u001b[39m kf(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m \u001b[33mKn\u001b[39m(e)\u001b[33m&&\u001b[39mr\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m!==\u001b[39mr\u001b[33m.\u001b[39mindex}\u001b[36mfunction\u001b[39m \u001b[33mOf\u001b[39m(e){\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2009\"\u001b[39m\u001b[33m||\u001b[39me\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2012\"\u001b[39m}\u001b[36mfunction\u001b[39m ru(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"Union\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"Union\"\u001b[39m\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39me\u001b[33m.\u001b[39merrors\u001b[33m.\u001b[39mmap(ru)}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e\u001b[33m.\u001b[39mselectionPath)){\u001b[36mlet\u001b[39m[\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr]\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mselectionPath\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[33m...\u001b[39me\u001b[33m,\u001b[39mselectionPath\u001b[33m:\u001b[39mr}}\u001b[36mreturn\u001b[39m e}\u001b[36mvar\u001b[39m tu\u001b[33m=\u001b[39m\u001b[33mSl\u001b[39m\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m au\u001b[33m=\u001b[39mk(\u001b[33mQi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mD\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mError\u001b[39m{constructor(r){\u001b[36msuper\u001b[39m(r\u001b[33m+\u001b[39m\u001b[32m`\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 125 |\u001b[39m \u001b[32mRead more at https://pris.ly/d/client-constructor`\u001b[39m)\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mname\u001b[33m=\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}}\u001b[33m;\u001b[39mx(\u001b[33mD\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m nu\u001b[33m=\u001b[39m[\u001b[32m\"datasources\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"datasourceUrl\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"errorFormat\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"adapter\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"log\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"transactionOptions\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"omit\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"__internal\"\u001b[39m]\u001b[33m,\u001b[39miu\u001b[33m=\u001b[39m[\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"colorless\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"minimal\"\u001b[39m]\u001b[33m,\u001b[39mou\u001b[33m=\u001b[39m[\u001b[32m\"info\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"warn\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"error\"\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mDf\u001b[39m\u001b[33m=\u001b[39m{datasources\u001b[33m:\u001b[39m(e\u001b[33m,\u001b[39m{datasourceNames\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m e\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for \"datasources\" provided to PrismaClient constructor`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[t\u001b[33m,\u001b[39mn]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(e)){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m.\u001b[39mincludes(t)){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mWr\u001b[39m(t\u001b[33m,\u001b[39mr)\u001b[33m||\u001b[39m\u001b[32m` Available datasources: ${r.join(\", \")}`\u001b[39m\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Unknown datasource ${t} provided to PrismaClient constructor.${i}`\u001b[39m)}\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m n\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(n))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 126 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m\u001b[36mtypeof\u001b[39m n\u001b[33m==\u001b[39m\u001b[32m\"object\"\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[i\u001b[33m,\u001b[39mo]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(n)){\u001b[36mif\u001b[39m(i\u001b[33m!==\u001b[39m\u001b[32m\"url\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 127 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m o\u001b[33m!=\u001b[39m\u001b[32m\"string\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(o)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:7649)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError [as handleAndLogRequestError] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6784)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleAndLogRequestError [as request] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6491)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat l (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:133:9778)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/lib/services/connectionService.integration.test.ts\u001b[39m\u001b[0m\u001b[2m:40:5)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mConnectionService (integration) › should mark connection as error\u001b[39m\u001b[22m\n\n    PrismaClientKnownRequestError: \n    Invalid `prisma.apiConnection.create()` invocation in\n    /Users/connorbowen/apiq-mvp/tests/integration/lib/services/connectionService.integration.test.ts:22:49\n\n      19 \n      20 beforeEach(async () => {\n      21   // Create a fresh test connection for each test\n    → 22   testConnection = await prisma.apiConnection.create(\n    Foreign key constraint violated on the constraint: `api_connections_userId_fkey`\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 122 |\u001b[39m \u001b[32m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 123 |\u001b[39m \u001b[32mMore Information: https://pris.ly/d/execute-raw\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 124 |\u001b[39m \u001b[32m`\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mCo\u001b[39m\u001b[33m=\u001b[39m({clientMethod\u001b[33m:\u001b[39me\u001b[33m,\u001b[39mactiveProvider\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39mt\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[32m\"\"\u001b[39m\u001b[33m,\u001b[39mi\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mFn\u001b[39m(t))n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(t)){\u001b[36mlet\u001b[39m[o\u001b[33m,\u001b[39m\u001b[33m...\u001b[39ms]\u001b[33m=\u001b[39mt\u001b[33m;\u001b[39mn\u001b[33m=\u001b[39mo\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(s\u001b[33m||\u001b[39m[])\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}}\u001b[36melse\u001b[39m \u001b[36mswitch\u001b[39m(r){\u001b[36mcase\u001b[39m\u001b[32m\"sqlite\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"mysql\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"cockroachdb\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgresql\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgres\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mtext\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"sqlserver\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mjl(t)\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`The ${r} provider does not support ${e}`\u001b[39m)}\u001b[36mreturn\u001b[39m i\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mvalues\u001b[33m?\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n}, ${i.values})`\u001b[39m)\u001b[33m:\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n})`\u001b[39m)\u001b[33m,\u001b[39m{query\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mparameters\u001b[33m:\u001b[39mi}}\u001b[33m,\u001b[39m\u001b[33mWl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e\u001b[33m.\u001b[39mstrings\u001b[33m,\u001b[39m\u001b[33m...\u001b[39me\u001b[33m.\u001b[39mvalues]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mlet\u001b[39m[r\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mt]\u001b[33m=\u001b[39me\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m oe(r\u001b[33m,\u001b[39mt)}}\u001b[33m,\u001b[39m\u001b[33mJl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mreturn\u001b[39m e[\u001b[35m0\u001b[39m]}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mAo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mfunction\u001b[39m(t\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m(s\u001b[33m=\u001b[39me)\u001b[33m=>\u001b[39m{\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m s\u001b[33m===\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m||\u001b[39ms\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33m=\u001b[39m\u001b[33mHl\u001b[39m(t(s))\u001b[33m:\u001b[39m\u001b[33mHl\u001b[39m(t(s))}\u001b[36mcatch\u001b[39m(a){\u001b[36mreturn\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mreject(a)}}\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[36mget\u001b[39m spec(){\u001b[36mreturn\u001b[39m n}\u001b[33m,\u001b[39mthen(s\u001b[33m,\u001b[39ma){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39mthen(s\u001b[33m,\u001b[39ma)}\u001b[33m,\u001b[39m\u001b[36mcatch\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(s)}\u001b[33m,\u001b[39m\u001b[36mfinally\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mfinally\u001b[39m(s)}\u001b[33m,\u001b[39mrequestTransaction(s){\u001b[36mlet\u001b[39m a\u001b[33m=\u001b[39mo(s)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m a\u001b[33m.\u001b[39mrequestTransaction\u001b[33m?\u001b[39ma\u001b[33m.\u001b[39mrequestTransaction(s)\u001b[33m:\u001b[39ma}\u001b[33m,\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag]\u001b[33m:\u001b[39m\u001b[32m\"PrismaPromise\"\u001b[39m}}}\u001b[36mfunction\u001b[39m \u001b[33mHl\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mthen\u001b[33m==\u001b[39m\u001b[32m\"function\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39m\u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mresolve(e)}\u001b[36mvar\u001b[39m \u001b[33mTf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mEi\u001b[39m\u001b[33m.\u001b[39msplit(\u001b[32m\".\"\u001b[39m)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mSf\u001b[39m\u001b[33m=\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m}\u001b[33m,\u001b[39mgetTraceParent(){\u001b[36mreturn\u001b[39m\u001b[32m\"00-10-10-00\"\u001b[39m}\u001b[33m,\u001b[39mdispatchEngineSpans(){}\u001b[33m,\u001b[39mgetActiveContext(){}\u001b[33m,\u001b[39mrunInChildSpan(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m r()}}\u001b[33m,\u001b[39m\u001b[33mIo\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39misEnabled()}getTraceParent(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetTraceParent(r)}dispatchEngineSpans(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mdispatchEngineSpans(r)}getActiveContext(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetActiveContext()}runInChildSpan(r\u001b[33m,\u001b[39mt){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mrunInChildSpan(r\u001b[33m,\u001b[39mt)}getGlobalTracingHelper(){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39mglobalThis[\u001b[32m`V${Tf}_PRISMA_INSTRUMENTATION`\u001b[39m]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39mglobalThis\u001b[33m.\u001b[39m\u001b[33mPRISMA_INSTRUMENTATION\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33mSf\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKl\u001b[39m(){\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mIo\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mYl\u001b[39m(e\u001b[33m,\u001b[39mr\u001b[33m=\u001b[39m()\u001b[33m=>\u001b[39m{}){\u001b[36mlet\u001b[39m t\u001b[33m,\u001b[39mn\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m(i\u001b[33m=>\u001b[39mt\u001b[33m=\u001b[39mi)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{then(i){\u001b[36mreturn\u001b[39m\u001b[33m--\u001b[39me\u001b[33m===\u001b[39m\u001b[35m0\u001b[39m\u001b[33m&&\u001b[39mt(r())\u001b[33m,\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m.\u001b[39m(n)}}}\u001b[36mfunction\u001b[39m zl(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mreduce((r\u001b[33m,\u001b[39mt)\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[36mtypeof\u001b[39m t\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mlevel\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m===\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m?\u001b[39mr\u001b[33m:\u001b[39mr\u001b[33m&&\u001b[39m(t\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m||\u001b[39mr\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m)\u001b[33m?\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m:\u001b[39mn}\u001b[33m,\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mHn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{_middlewares\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39muse(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mpush(r)}\u001b[36mget\u001b[39m(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}has(r){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[33m!\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}length(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mlength}}\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mXl\u001b[39m\u001b[33m=\u001b[39mk(\u001b[33mOi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKn\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m==\u001b[39m\u001b[32m\"number\"\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mZl\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUnique\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUniqueOrThrow\"\u001b[39m)\u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mmodelName\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(e\u001b[33m.\u001b[39mmodelName)\u001b[33m,\u001b[39me\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39mselection))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mjoin(\u001b[32m\"\"\u001b[39m)}\u001b[36mfunction\u001b[39m ko(e){\u001b[36mreturn\u001b[39m\u001b[32m`(${Object.keys(e).sort().map(t=>{let n=e[t];return typeof n==\"object\"&&n!==null?`(${t} ${ko(n)})`:t}).join(\" \")})`\u001b[39m}\u001b[36mvar\u001b[39m \u001b[33mRf\u001b[39m\u001b[33m=\u001b[39m{aggregate\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39maggregateRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mcreateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mexecuteRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mfindFirst\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindFirstOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUnique\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUniqueOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mgroupBy\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mqueryRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mrunCommandRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupsertOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mOo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[33mRf\u001b[39m[e]}\u001b[36mvar\u001b[39m \u001b[33mYn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{constructor(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches\u001b[33m=\u001b[39m{}}batches\u001b[33m;\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m;\u001b[39mrequest(r){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchBy(r)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m t\u001b[33m?\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mprocess\u001b[33m.\u001b[39mnextTick(()\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdispatchBatches()\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m})))\u001b[33m,\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m.\u001b[39mpush({request\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mresolve\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mreject\u001b[33m:\u001b[39mi})}))\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(r)}dispatchBatches(){\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m r \u001b[36min\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m;\u001b[39m\u001b[36mdelete\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m,\u001b[39mt\u001b[33m.\u001b[39mlength\u001b[33m===\u001b[39m\u001b[35m1\u001b[39m\u001b[33m?\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mrequest)\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)\u001b[33m:\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mresolve(n)})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)})\u001b[33m:\u001b[39m(t\u001b[33m.\u001b[39msort((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchOrder(n\u001b[33m.\u001b[39mrequest\u001b[33m,\u001b[39mi\u001b[33m.\u001b[39mrequest))\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchLoader(t\u001b[33m.\u001b[39mmap(n\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mrequest))\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m o\u001b[33m=\u001b[39mn[i]\u001b[33m;\u001b[39mo \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[i]\u001b[33m.\u001b[39mreject(o)\u001b[33m:\u001b[39mt[i]\u001b[33m.\u001b[39mresolve(o)}})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)}))}}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"DataLoader\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m mr(e\u001b[33m,\u001b[39mr){\u001b[36mif\u001b[39m(r\u001b[33m===\u001b[39m\u001b[36mnull\u001b[39m)\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mswitch\u001b[39m(e){\u001b[36mcase\u001b[39m\u001b[32m\"bigint\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[33mBigInt\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes\"\u001b[39m\u001b[33m:\u001b[39m{\u001b[36mlet\u001b[39m{buffer\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mbyteOffset\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mbyteLength\u001b[33m:\u001b[39mi}\u001b[33m=\u001b[39m\u001b[33mBuffer\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m(r\u001b[33m,\u001b[39m\u001b[32m\"base64\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mUint8Array\u001b[39m(t\u001b[33m,\u001b[39mn\u001b[33m,\u001b[39mi)}\u001b[36mcase\u001b[39m\u001b[32m\"decimal\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mPe\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(\u001b[32m`1970-01-01T${r}Z`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bigint-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bigint\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bytes\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"decimal-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"decimal\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"datetime\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"date\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"time\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r}}\u001b[36mfunction\u001b[39m zn(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39m\u001b[33mCf\u001b[39m(e)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mn\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mrows\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mn\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mrows[n]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m{\u001b[33m...\u001b[39mt}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m s\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39ms\u001b[33m<\u001b[39m\u001b[33mi\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39ms\u001b[33m++\u001b[39m)o[e\u001b[33m.\u001b[39mcolumns[s]]\u001b[33m=\u001b[39mmr(e\u001b[33m.\u001b[39mtypes[s]\u001b[33m,\u001b[39mi[s])\u001b[33m;\u001b[39mr\u001b[33m.\u001b[39mpush(o)}\u001b[36mreturn\u001b[39m r}\u001b[36mfunction\u001b[39m \u001b[33mCf\u001b[39m(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m{}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mt\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mcolumns\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mt\u001b[33m++\u001b[39m)r[e\u001b[33m.\u001b[39mcolumns[t]]\u001b[33m=\u001b[39m\u001b[36mnull\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r}\u001b[36mvar\u001b[39m \u001b[33mAf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mN\u001b[39m(\u001b[32m\"prisma:client:request_handler\"\u001b[39m)\u001b[33m,\u001b[39m\u001b[33mZn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{client\u001b[33m;\u001b[39mdataloader\u001b[33m;\u001b[39mlogEmitter\u001b[33m;\u001b[39mconstructor(r\u001b[33m,\u001b[39mt){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m=\u001b[39mt\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m=\u001b[39mr\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mYn\u001b[39m({batchLoader\u001b[33m:\u001b[39mol(\u001b[36masync\u001b[39m({requests\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi})\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m{transaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39motelParentCtx\u001b[33m:\u001b[39ms}\u001b[33m=\u001b[39mn[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mmap(p\u001b[33m=>\u001b[39mp\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent(s)\u001b[33m,\u001b[39mu\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39msome(p\u001b[33m=>\u001b[39m\u001b[33mOo\u001b[39m(p\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction))\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m(\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequestBatch(a\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39ml\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39m\u001b[33mIf\u001b[39m(o)\u001b[33m,\u001b[39mcontainsWrite\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi}))\u001b[33m.\u001b[39mmap((p\u001b[33m,\u001b[39md)\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(p \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mreturn\u001b[39m p\u001b[33m;\u001b[39m\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n[d]\u001b[33m,\u001b[39mp)}\u001b[36mcatch\u001b[39m(f){\u001b[36mreturn\u001b[39m f}})})\u001b[33m,\u001b[39msingleLoader\u001b[33m:\u001b[39m\u001b[36masync\u001b[39m n\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39meu(n\u001b[33m.\u001b[39mtransaction)\u001b[33m:\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequest(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent()\u001b[33m,\u001b[39minteractiveTransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39misWrite\u001b[33m:\u001b[39m\u001b[33mOo\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction)\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mn\u001b[33m.\u001b[39mcustomDataProxyFetch})\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n\u001b[33m,\u001b[39mo)}\u001b[33m,\u001b[39mbatchBy\u001b[33m:\u001b[39mn\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mid\u001b[33m?\u001b[39m\u001b[32m`transaction-${n.transaction.id}`\u001b[39m\u001b[33m:\u001b[39m\u001b[33mZl\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39mbatchOrder(n\u001b[33m,\u001b[39mi){\u001b[36mreturn\u001b[39m n\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m?\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m-\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m:\u001b[39m\u001b[35m0\u001b[39m}})}\u001b[36masync\u001b[39m request(r){\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m.\u001b[39mrequest(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mlet\u001b[39m{clientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma}\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleAndLogRequestError({error\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mglobalOmit})}}mapQueryEngineResult({dataPath\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39munpacker\u001b[33m:\u001b[39mt}\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mdata\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39munpack(i\u001b[33m,\u001b[39mr\u001b[33m,\u001b[39mt)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mPRISMA_CLIENT_GET_TIME\u001b[39m\u001b[33m?\u001b[39m{data\u001b[33m:\u001b[39mo}\u001b[33m:\u001b[39mo}handleAndLogRequestError(r){\u001b[36mtry\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleRequestError(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mthrow\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m.\u001b[39memit(\u001b[32m\"error\"\u001b[39m\u001b[33m,\u001b[39m{message\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mmessage\u001b[33m,\u001b[39mtarget\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mclientMethod\u001b[33m,\u001b[39mtimestamp\u001b[33m:\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m})\u001b[33m,\u001b[39mt}}handleRequestError({error\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma}){\u001b[36mif\u001b[39m(\u001b[33mAf\u001b[39m(r)\u001b[33m,\u001b[39mkf(r\u001b[33m,\u001b[39mi))\u001b[36mthrow\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m z\u001b[33m&&\u001b[39m\u001b[33mOf\u001b[39m(r)){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39mru(r\u001b[33m.\u001b[39mmeta)\u001b[33m;\u001b[39mkn({args\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39m[u]\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39merrorFormat\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma})}\u001b[36mlet\u001b[39m l\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mmessage\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m(l\u001b[33m=\u001b[39mwn({callsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39misPanic\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39misPanic\u001b[33m,\u001b[39mshowColors\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m===\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39mmessage\u001b[33m:\u001b[39ml}))\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39msanitizeMessage(l)\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mcode){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39ms\u001b[33m?\u001b[39m{modelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr\u001b[33m.\u001b[39mmeta}\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mmeta\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m z(l\u001b[33m,\u001b[39m{code\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mcode\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mmeta\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})}\u001b[36melse\u001b[39m{\u001b[36mif\u001b[39m(r\u001b[33m.\u001b[39misPanic)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m j)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m j(l\u001b[33m,\u001b[39m{clientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m \u001b[33mT\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mT\u001b[39m(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m le)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)}\u001b[36mthrow\u001b[39m r\u001b[33m.\u001b[39mclientVersion\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mr}sanitizeMessage(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m!==\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m?\u001b[39m(\u001b[35m0\u001b[39m\u001b[33m,\u001b[39m\u001b[33mXl\u001b[39m\u001b[33m.\u001b[39m\u001b[36mdefault\u001b[39m)(r)\u001b[33m:\u001b[39mr}unpack(r\u001b[33m,\u001b[39mt\u001b[33m,\u001b[39mn){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m||\u001b[39m(r\u001b[33m.\u001b[39mdata\u001b[33m&&\u001b[39m(r\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mdata)\u001b[33m,\u001b[39m\u001b[33m!\u001b[39mr))\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mvalues(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ms\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mfilter(u\u001b[33m=>\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"select\"\u001b[39m\u001b[33m&&\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"include\"\u001b[39m)\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mio(o\u001b[33m,\u001b[39ms)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39mi\u001b[33m===\u001b[39m\u001b[32m\"queryRaw\"\u001b[39m\u001b[33m?\u001b[39mzn(a)\u001b[33m:\u001b[39m\u001b[33mTr\u001b[39m(a)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m?\u001b[39mn(l)\u001b[33m:\u001b[39ml}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"RequestHandler\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mIf\u001b[39m(e){\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39m{isolationLevel\u001b[33m:\u001b[39me\u001b[33m.\u001b[39misolationLevel}}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39meu(e)}\u001b[33m;\u001b[39m_e(e\u001b[33m,\u001b[39m\u001b[32m\"Unknown transaction kind\"\u001b[39m)}}\u001b[36mfunction\u001b[39m eu(e){\u001b[36mreturn\u001b[39m{id\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39mpayload\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mpayload}}\u001b[36mfunction\u001b[39m kf(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m \u001b[33mKn\u001b[39m(e)\u001b[33m&&\u001b[39mr\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m!==\u001b[39mr\u001b[33m.\u001b[39mindex}\u001b[36mfunction\u001b[39m \u001b[33mOf\u001b[39m(e){\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2009\"\u001b[39m\u001b[33m||\u001b[39me\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2012\"\u001b[39m}\u001b[36mfunction\u001b[39m ru(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"Union\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"Union\"\u001b[39m\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39me\u001b[33m.\u001b[39merrors\u001b[33m.\u001b[39mmap(ru)}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e\u001b[33m.\u001b[39mselectionPath)){\u001b[36mlet\u001b[39m[\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr]\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mselectionPath\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[33m...\u001b[39me\u001b[33m,\u001b[39mselectionPath\u001b[33m:\u001b[39mr}}\u001b[36mreturn\u001b[39m e}\u001b[36mvar\u001b[39m tu\u001b[33m=\u001b[39m\u001b[33mSl\u001b[39m\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m au\u001b[33m=\u001b[39mk(\u001b[33mQi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mD\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mError\u001b[39m{constructor(r){\u001b[36msuper\u001b[39m(r\u001b[33m+\u001b[39m\u001b[32m`\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 125 |\u001b[39m \u001b[32mRead more at https://pris.ly/d/client-constructor`\u001b[39m)\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mname\u001b[33m=\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}}\u001b[33m;\u001b[39mx(\u001b[33mD\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m nu\u001b[33m=\u001b[39m[\u001b[32m\"datasources\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"datasourceUrl\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"errorFormat\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"adapter\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"log\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"transactionOptions\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"omit\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"__internal\"\u001b[39m]\u001b[33m,\u001b[39miu\u001b[33m=\u001b[39m[\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"colorless\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"minimal\"\u001b[39m]\u001b[33m,\u001b[39mou\u001b[33m=\u001b[39m[\u001b[32m\"info\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"warn\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"error\"\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mDf\u001b[39m\u001b[33m=\u001b[39m{datasources\u001b[33m:\u001b[39m(e\u001b[33m,\u001b[39m{datasourceNames\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m e\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for \"datasources\" provided to PrismaClient constructor`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[t\u001b[33m,\u001b[39mn]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(e)){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m.\u001b[39mincludes(t)){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mWr\u001b[39m(t\u001b[33m,\u001b[39mr)\u001b[33m||\u001b[39m\u001b[32m` Available datasources: ${r.join(\", \")}`\u001b[39m\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Unknown datasource ${t} provided to PrismaClient constructor.${i}`\u001b[39m)}\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m n\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(n))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 126 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m\u001b[36mtypeof\u001b[39m n\u001b[33m==\u001b[39m\u001b[32m\"object\"\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[i\u001b[33m,\u001b[39mo]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(n)){\u001b[36mif\u001b[39m(i\u001b[33m!==\u001b[39m\u001b[32m\"url\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 127 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m o\u001b[33m!=\u001b[39m\u001b[32m\"string\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(o)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:7459)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError [as handleAndLogRequestError] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6784)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleAndLogRequestError [as request] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6491)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat l (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:133:9778)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/lib/services/connectionService.integration.test.ts\u001b[39m\u001b[0m\u001b[2m:22:22)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mConnectionService (integration) › should mark connection as error\u001b[39m\u001b[22m\n\n    PrismaClientUnknownRequestError: \n    Invalid `prisma.apiConnection.deleteMany()` invocation in\n    /Users/connorbowen/apiq-mvp/tests/integration/lib/services/connectionService.integration.test.ts:40:32\n\n      37 \n      38 afterEach(async () => {\n      39   // Clean up after each test\n    → 40   await prisma.apiConnection.deleteMany(\n    Error occurred during query execution:\n    ConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"25P02\", message: \"current transaction is aborted, commands ignored until end of transaction block\", severity: \"ERROR\", detail: None, column: None, hint: None }), transient: false })\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 122 |\u001b[39m \u001b[32m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 123 |\u001b[39m \u001b[32mMore Information: https://pris.ly/d/execute-raw\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 124 |\u001b[39m \u001b[32m`\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mCo\u001b[39m\u001b[33m=\u001b[39m({clientMethod\u001b[33m:\u001b[39me\u001b[33m,\u001b[39mactiveProvider\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39mt\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[32m\"\"\u001b[39m\u001b[33m,\u001b[39mi\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mFn\u001b[39m(t))n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(t)){\u001b[36mlet\u001b[39m[o\u001b[33m,\u001b[39m\u001b[33m...\u001b[39ms]\u001b[33m=\u001b[39mt\u001b[33m;\u001b[39mn\u001b[33m=\u001b[39mo\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(s\u001b[33m||\u001b[39m[])\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}}\u001b[36melse\u001b[39m \u001b[36mswitch\u001b[39m(r){\u001b[36mcase\u001b[39m\u001b[32m\"sqlite\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"mysql\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"cockroachdb\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgresql\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgres\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mtext\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"sqlserver\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mjl(t)\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`The ${r} provider does not support ${e}`\u001b[39m)}\u001b[36mreturn\u001b[39m i\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mvalues\u001b[33m?\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n}, ${i.values})`\u001b[39m)\u001b[33m:\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n})`\u001b[39m)\u001b[33m,\u001b[39m{query\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mparameters\u001b[33m:\u001b[39mi}}\u001b[33m,\u001b[39m\u001b[33mWl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e\u001b[33m.\u001b[39mstrings\u001b[33m,\u001b[39m\u001b[33m...\u001b[39me\u001b[33m.\u001b[39mvalues]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mlet\u001b[39m[r\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mt]\u001b[33m=\u001b[39me\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m oe(r\u001b[33m,\u001b[39mt)}}\u001b[33m,\u001b[39m\u001b[33mJl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mreturn\u001b[39m e[\u001b[35m0\u001b[39m]}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mAo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mfunction\u001b[39m(t\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m(s\u001b[33m=\u001b[39me)\u001b[33m=>\u001b[39m{\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m s\u001b[33m===\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m||\u001b[39ms\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33m=\u001b[39m\u001b[33mHl\u001b[39m(t(s))\u001b[33m:\u001b[39m\u001b[33mHl\u001b[39m(t(s))}\u001b[36mcatch\u001b[39m(a){\u001b[36mreturn\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mreject(a)}}\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[36mget\u001b[39m spec(){\u001b[36mreturn\u001b[39m n}\u001b[33m,\u001b[39mthen(s\u001b[33m,\u001b[39ma){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39mthen(s\u001b[33m,\u001b[39ma)}\u001b[33m,\u001b[39m\u001b[36mcatch\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(s)}\u001b[33m,\u001b[39m\u001b[36mfinally\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mfinally\u001b[39m(s)}\u001b[33m,\u001b[39mrequestTransaction(s){\u001b[36mlet\u001b[39m a\u001b[33m=\u001b[39mo(s)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m a\u001b[33m.\u001b[39mrequestTransaction\u001b[33m?\u001b[39ma\u001b[33m.\u001b[39mrequestTransaction(s)\u001b[33m:\u001b[39ma}\u001b[33m,\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag]\u001b[33m:\u001b[39m\u001b[32m\"PrismaPromise\"\u001b[39m}}}\u001b[36mfunction\u001b[39m \u001b[33mHl\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mthen\u001b[33m==\u001b[39m\u001b[32m\"function\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39m\u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mresolve(e)}\u001b[36mvar\u001b[39m \u001b[33mTf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mEi\u001b[39m\u001b[33m.\u001b[39msplit(\u001b[32m\".\"\u001b[39m)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mSf\u001b[39m\u001b[33m=\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m}\u001b[33m,\u001b[39mgetTraceParent(){\u001b[36mreturn\u001b[39m\u001b[32m\"00-10-10-00\"\u001b[39m}\u001b[33m,\u001b[39mdispatchEngineSpans(){}\u001b[33m,\u001b[39mgetActiveContext(){}\u001b[33m,\u001b[39mrunInChildSpan(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m r()}}\u001b[33m,\u001b[39m\u001b[33mIo\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39misEnabled()}getTraceParent(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetTraceParent(r)}dispatchEngineSpans(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mdispatchEngineSpans(r)}getActiveContext(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetActiveContext()}runInChildSpan(r\u001b[33m,\u001b[39mt){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mrunInChildSpan(r\u001b[33m,\u001b[39mt)}getGlobalTracingHelper(){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39mglobalThis[\u001b[32m`V${Tf}_PRISMA_INSTRUMENTATION`\u001b[39m]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39mglobalThis\u001b[33m.\u001b[39m\u001b[33mPRISMA_INSTRUMENTATION\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33mSf\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKl\u001b[39m(){\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mIo\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mYl\u001b[39m(e\u001b[33m,\u001b[39mr\u001b[33m=\u001b[39m()\u001b[33m=>\u001b[39m{}){\u001b[36mlet\u001b[39m t\u001b[33m,\u001b[39mn\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m(i\u001b[33m=>\u001b[39mt\u001b[33m=\u001b[39mi)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{then(i){\u001b[36mreturn\u001b[39m\u001b[33m--\u001b[39me\u001b[33m===\u001b[39m\u001b[35m0\u001b[39m\u001b[33m&&\u001b[39mt(r())\u001b[33m,\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m.\u001b[39m(n)}}}\u001b[36mfunction\u001b[39m zl(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mreduce((r\u001b[33m,\u001b[39mt)\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[36mtypeof\u001b[39m t\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mlevel\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m===\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m?\u001b[39mr\u001b[33m:\u001b[39mr\u001b[33m&&\u001b[39m(t\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m||\u001b[39mr\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m)\u001b[33m?\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m:\u001b[39mn}\u001b[33m,\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mHn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{_middlewares\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39muse(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mpush(r)}\u001b[36mget\u001b[39m(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}has(r){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[33m!\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}length(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mlength}}\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mXl\u001b[39m\u001b[33m=\u001b[39mk(\u001b[33mOi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKn\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m==\u001b[39m\u001b[32m\"number\"\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mZl\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUnique\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUniqueOrThrow\"\u001b[39m)\u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mmodelName\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(e\u001b[33m.\u001b[39mmodelName)\u001b[33m,\u001b[39me\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39mselection))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mjoin(\u001b[32m\"\"\u001b[39m)}\u001b[36mfunction\u001b[39m ko(e){\u001b[36mreturn\u001b[39m\u001b[32m`(${Object.keys(e).sort().map(t=>{let n=e[t];return typeof n==\"object\"&&n!==null?`(${t} ${ko(n)})`:t}).join(\" \")})`\u001b[39m}\u001b[36mvar\u001b[39m \u001b[33mRf\u001b[39m\u001b[33m=\u001b[39m{aggregate\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39maggregateRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mcreateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mexecuteRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mfindFirst\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindFirstOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUnique\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUniqueOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mgroupBy\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mqueryRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mrunCommandRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupsertOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mOo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[33mRf\u001b[39m[e]}\u001b[36mvar\u001b[39m \u001b[33mYn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{constructor(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches\u001b[33m=\u001b[39m{}}batches\u001b[33m;\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m;\u001b[39mrequest(r){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchBy(r)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m t\u001b[33m?\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mprocess\u001b[33m.\u001b[39mnextTick(()\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdispatchBatches()\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m})))\u001b[33m,\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m.\u001b[39mpush({request\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mresolve\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mreject\u001b[33m:\u001b[39mi})}))\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(r)}dispatchBatches(){\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m r \u001b[36min\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m;\u001b[39m\u001b[36mdelete\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m,\u001b[39mt\u001b[33m.\u001b[39mlength\u001b[33m===\u001b[39m\u001b[35m1\u001b[39m\u001b[33m?\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mrequest)\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)\u001b[33m:\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mresolve(n)})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)})\u001b[33m:\u001b[39m(t\u001b[33m.\u001b[39msort((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchOrder(n\u001b[33m.\u001b[39mrequest\u001b[33m,\u001b[39mi\u001b[33m.\u001b[39mrequest))\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchLoader(t\u001b[33m.\u001b[39mmap(n\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mrequest))\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m o\u001b[33m=\u001b[39mn[i]\u001b[33m;\u001b[39mo \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[i]\u001b[33m.\u001b[39mreject(o)\u001b[33m:\u001b[39mt[i]\u001b[33m.\u001b[39mresolve(o)}})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)}))}}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"DataLoader\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m mr(e\u001b[33m,\u001b[39mr){\u001b[36mif\u001b[39m(r\u001b[33m===\u001b[39m\u001b[36mnull\u001b[39m)\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mswitch\u001b[39m(e){\u001b[36mcase\u001b[39m\u001b[32m\"bigint\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[33mBigInt\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes\"\u001b[39m\u001b[33m:\u001b[39m{\u001b[36mlet\u001b[39m{buffer\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mbyteOffset\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mbyteLength\u001b[33m:\u001b[39mi}\u001b[33m=\u001b[39m\u001b[33mBuffer\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m(r\u001b[33m,\u001b[39m\u001b[32m\"base64\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mUint8Array\u001b[39m(t\u001b[33m,\u001b[39mn\u001b[33m,\u001b[39mi)}\u001b[36mcase\u001b[39m\u001b[32m\"decimal\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mPe\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(\u001b[32m`1970-01-01T${r}Z`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bigint-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bigint\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bytes\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"decimal-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"decimal\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"datetime\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"date\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"time\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r}}\u001b[36mfunction\u001b[39m zn(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39m\u001b[33mCf\u001b[39m(e)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mn\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mrows\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mn\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mrows[n]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m{\u001b[33m...\u001b[39mt}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m s\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39ms\u001b[33m<\u001b[39m\u001b[33mi\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39ms\u001b[33m++\u001b[39m)o[e\u001b[33m.\u001b[39mcolumns[s]]\u001b[33m=\u001b[39mmr(e\u001b[33m.\u001b[39mtypes[s]\u001b[33m,\u001b[39mi[s])\u001b[33m;\u001b[39mr\u001b[33m.\u001b[39mpush(o)}\u001b[36mreturn\u001b[39m r}\u001b[36mfunction\u001b[39m \u001b[33mCf\u001b[39m(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m{}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mt\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mcolumns\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mt\u001b[33m++\u001b[39m)r[e\u001b[33m.\u001b[39mcolumns[t]]\u001b[33m=\u001b[39m\u001b[36mnull\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r}\u001b[36mvar\u001b[39m \u001b[33mAf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mN\u001b[39m(\u001b[32m\"prisma:client:request_handler\"\u001b[39m)\u001b[33m,\u001b[39m\u001b[33mZn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{client\u001b[33m;\u001b[39mdataloader\u001b[33m;\u001b[39mlogEmitter\u001b[33m;\u001b[39mconstructor(r\u001b[33m,\u001b[39mt){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m=\u001b[39mt\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m=\u001b[39mr\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mYn\u001b[39m({batchLoader\u001b[33m:\u001b[39mol(\u001b[36masync\u001b[39m({requests\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi})\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m{transaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39motelParentCtx\u001b[33m:\u001b[39ms}\u001b[33m=\u001b[39mn[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mmap(p\u001b[33m=>\u001b[39mp\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent(s)\u001b[33m,\u001b[39mu\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39msome(p\u001b[33m=>\u001b[39m\u001b[33mOo\u001b[39m(p\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction))\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m(\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequestBatch(a\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39ml\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39m\u001b[33mIf\u001b[39m(o)\u001b[33m,\u001b[39mcontainsWrite\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi}))\u001b[33m.\u001b[39mmap((p\u001b[33m,\u001b[39md)\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(p \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mreturn\u001b[39m p\u001b[33m;\u001b[39m\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n[d]\u001b[33m,\u001b[39mp)}\u001b[36mcatch\u001b[39m(f){\u001b[36mreturn\u001b[39m f}})})\u001b[33m,\u001b[39msingleLoader\u001b[33m:\u001b[39m\u001b[36masync\u001b[39m n\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39meu(n\u001b[33m.\u001b[39mtransaction)\u001b[33m:\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequest(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent()\u001b[33m,\u001b[39minteractiveTransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39misWrite\u001b[33m:\u001b[39m\u001b[33mOo\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction)\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mn\u001b[33m.\u001b[39mcustomDataProxyFetch})\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n\u001b[33m,\u001b[39mo)}\u001b[33m,\u001b[39mbatchBy\u001b[33m:\u001b[39mn\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mid\u001b[33m?\u001b[39m\u001b[32m`transaction-${n.transaction.id}`\u001b[39m\u001b[33m:\u001b[39m\u001b[33mZl\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39mbatchOrder(n\u001b[33m,\u001b[39mi){\u001b[36mreturn\u001b[39m n\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m?\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m-\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m:\u001b[39m\u001b[35m0\u001b[39m}})}\u001b[36masync\u001b[39m request(r){\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m.\u001b[39mrequest(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mlet\u001b[39m{clientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma}\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleAndLogRequestError({error\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mglobalOmit})}}mapQueryEngineResult({dataPath\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39munpacker\u001b[33m:\u001b[39mt}\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mdata\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39munpack(i\u001b[33m,\u001b[39mr\u001b[33m,\u001b[39mt)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mPRISMA_CLIENT_GET_TIME\u001b[39m\u001b[33m?\u001b[39m{data\u001b[33m:\u001b[39mo}\u001b[33m:\u001b[39mo}handleAndLogRequestError(r){\u001b[36mtry\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleRequestError(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mthrow\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m.\u001b[39memit(\u001b[32m\"error\"\u001b[39m\u001b[33m,\u001b[39m{message\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mmessage\u001b[33m,\u001b[39mtarget\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mclientMethod\u001b[33m,\u001b[39mtimestamp\u001b[33m:\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m})\u001b[33m,\u001b[39mt}}handleRequestError({error\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma}){\u001b[36mif\u001b[39m(\u001b[33mAf\u001b[39m(r)\u001b[33m,\u001b[39mkf(r\u001b[33m,\u001b[39mi))\u001b[36mthrow\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m z\u001b[33m&&\u001b[39m\u001b[33mOf\u001b[39m(r)){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39mru(r\u001b[33m.\u001b[39mmeta)\u001b[33m;\u001b[39mkn({args\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39m[u]\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39merrorFormat\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma})}\u001b[36mlet\u001b[39m l\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mmessage\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m(l\u001b[33m=\u001b[39mwn({callsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39misPanic\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39misPanic\u001b[33m,\u001b[39mshowColors\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m===\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39mmessage\u001b[33m:\u001b[39ml}))\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39msanitizeMessage(l)\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mcode){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39ms\u001b[33m?\u001b[39m{modelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr\u001b[33m.\u001b[39mmeta}\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mmeta\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m z(l\u001b[33m,\u001b[39m{code\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mcode\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mmeta\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})}\u001b[36melse\u001b[39m{\u001b[36mif\u001b[39m(r\u001b[33m.\u001b[39misPanic)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m j)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m j(l\u001b[33m,\u001b[39m{clientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m \u001b[33mT\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mT\u001b[39m(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m le)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)}\u001b[36mthrow\u001b[39m r\u001b[33m.\u001b[39mclientVersion\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mr}sanitizeMessage(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m!==\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m?\u001b[39m(\u001b[35m0\u001b[39m\u001b[33m,\u001b[39m\u001b[33mXl\u001b[39m\u001b[33m.\u001b[39m\u001b[36mdefault\u001b[39m)(r)\u001b[33m:\u001b[39mr}unpack(r\u001b[33m,\u001b[39mt\u001b[33m,\u001b[39mn){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m||\u001b[39m(r\u001b[33m.\u001b[39mdata\u001b[33m&&\u001b[39m(r\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mdata)\u001b[33m,\u001b[39m\u001b[33m!\u001b[39mr))\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mvalues(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ms\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mfilter(u\u001b[33m=>\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"select\"\u001b[39m\u001b[33m&&\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"include\"\u001b[39m)\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mio(o\u001b[33m,\u001b[39ms)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39mi\u001b[33m===\u001b[39m\u001b[32m\"queryRaw\"\u001b[39m\u001b[33m?\u001b[39mzn(a)\u001b[33m:\u001b[39m\u001b[33mTr\u001b[39m(a)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m?\u001b[39mn(l)\u001b[33m:\u001b[39ml}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"RequestHandler\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mIf\u001b[39m(e){\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39m{isolationLevel\u001b[33m:\u001b[39me\u001b[33m.\u001b[39misolationLevel}}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39meu(e)}\u001b[33m;\u001b[39m_e(e\u001b[33m,\u001b[39m\u001b[32m\"Unknown transaction kind\"\u001b[39m)}}\u001b[36mfunction\u001b[39m eu(e){\u001b[36mreturn\u001b[39m{id\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39mpayload\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mpayload}}\u001b[36mfunction\u001b[39m kf(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m \u001b[33mKn\u001b[39m(e)\u001b[33m&&\u001b[39mr\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m!==\u001b[39mr\u001b[33m.\u001b[39mindex}\u001b[36mfunction\u001b[39m \u001b[33mOf\u001b[39m(e){\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2009\"\u001b[39m\u001b[33m||\u001b[39me\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2012\"\u001b[39m}\u001b[36mfunction\u001b[39m ru(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"Union\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"Union\"\u001b[39m\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39me\u001b[33m.\u001b[39merrors\u001b[33m.\u001b[39mmap(ru)}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e\u001b[33m.\u001b[39mselectionPath)){\u001b[36mlet\u001b[39m[\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr]\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mselectionPath\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[33m...\u001b[39me\u001b[33m,\u001b[39mselectionPath\u001b[33m:\u001b[39mr}}\u001b[36mreturn\u001b[39m e}\u001b[36mvar\u001b[39m tu\u001b[33m=\u001b[39m\u001b[33mSl\u001b[39m\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m au\u001b[33m=\u001b[39mk(\u001b[33mQi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mD\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mError\u001b[39m{constructor(r){\u001b[36msuper\u001b[39m(r\u001b[33m+\u001b[39m\u001b[32m`\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 125 |\u001b[39m \u001b[32mRead more at https://pris.ly/d/client-constructor`\u001b[39m)\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mname\u001b[33m=\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}}\u001b[33m;\u001b[39mx(\u001b[33mD\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m nu\u001b[33m=\u001b[39m[\u001b[32m\"datasources\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"datasourceUrl\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"errorFormat\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"adapter\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"log\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"transactionOptions\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"omit\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"__internal\"\u001b[39m]\u001b[33m,\u001b[39miu\u001b[33m=\u001b[39m[\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"colorless\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"minimal\"\u001b[39m]\u001b[33m,\u001b[39mou\u001b[33m=\u001b[39m[\u001b[32m\"info\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"warn\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"error\"\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mDf\u001b[39m\u001b[33m=\u001b[39m{datasources\u001b[33m:\u001b[39m(e\u001b[33m,\u001b[39m{datasourceNames\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m e\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for \"datasources\" provided to PrismaClient constructor`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[t\u001b[33m,\u001b[39mn]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(e)){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m.\u001b[39mincludes(t)){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mWr\u001b[39m(t\u001b[33m,\u001b[39mr)\u001b[33m||\u001b[39m\u001b[32m` Available datasources: ${r.join(\", \")}`\u001b[39m\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Unknown datasource ${t} provided to PrismaClient constructor.${i}`\u001b[39m)}\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m n\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(n))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 126 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m\u001b[36mtypeof\u001b[39m n\u001b[33m==\u001b[39m\u001b[32m\"object\"\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[i\u001b[33m,\u001b[39mo]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(n)){\u001b[36mif\u001b[39m(i\u001b[33m!==\u001b[39m\u001b[32m\"url\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 127 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m o\u001b[33m!=\u001b[39m\u001b[32m\"string\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(o)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:7649)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError [as handleAndLogRequestError] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6784)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleAndLogRequestError [as request] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6491)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat l (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:133:9778)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/lib/services/connectionService.integration.test.ts\u001b[39m\u001b[0m\u001b[2m:40:5)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mConnectionService (integration) › should mark connection as disconnected\u001b[39m\u001b[22m\n\n    PrismaClientKnownRequestError: \n    Invalid `prisma.apiConnection.create()` invocation in\n    /Users/connorbowen/apiq-mvp/tests/integration/lib/services/connectionService.integration.test.ts:22:49\n\n      19 \n      20 beforeEach(async () => {\n      21   // Create a fresh test connection for each test\n    → 22   testConnection = await prisma.apiConnection.create(\n    Foreign key constraint violated on the constraint: `api_connections_userId_fkey`\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 122 |\u001b[39m \u001b[32m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 123 |\u001b[39m \u001b[32mMore Information: https://pris.ly/d/execute-raw\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 124 |\u001b[39m \u001b[32m`\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mCo\u001b[39m\u001b[33m=\u001b[39m({clientMethod\u001b[33m:\u001b[39me\u001b[33m,\u001b[39mactiveProvider\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39mt\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[32m\"\"\u001b[39m\u001b[33m,\u001b[39mi\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mFn\u001b[39m(t))n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(t)){\u001b[36mlet\u001b[39m[o\u001b[33m,\u001b[39m\u001b[33m...\u001b[39ms]\u001b[33m=\u001b[39mt\u001b[33m;\u001b[39mn\u001b[33m=\u001b[39mo\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(s\u001b[33m||\u001b[39m[])\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}}\u001b[36melse\u001b[39m \u001b[36mswitch\u001b[39m(r){\u001b[36mcase\u001b[39m\u001b[32m\"sqlite\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"mysql\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"cockroachdb\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgresql\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgres\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mtext\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"sqlserver\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mjl(t)\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`The ${r} provider does not support ${e}`\u001b[39m)}\u001b[36mreturn\u001b[39m i\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mvalues\u001b[33m?\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n}, ${i.values})`\u001b[39m)\u001b[33m:\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n})`\u001b[39m)\u001b[33m,\u001b[39m{query\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mparameters\u001b[33m:\u001b[39mi}}\u001b[33m,\u001b[39m\u001b[33mWl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e\u001b[33m.\u001b[39mstrings\u001b[33m,\u001b[39m\u001b[33m...\u001b[39me\u001b[33m.\u001b[39mvalues]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mlet\u001b[39m[r\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mt]\u001b[33m=\u001b[39me\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m oe(r\u001b[33m,\u001b[39mt)}}\u001b[33m,\u001b[39m\u001b[33mJl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mreturn\u001b[39m e[\u001b[35m0\u001b[39m]}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mAo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mfunction\u001b[39m(t\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m(s\u001b[33m=\u001b[39me)\u001b[33m=>\u001b[39m{\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m s\u001b[33m===\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m||\u001b[39ms\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33m=\u001b[39m\u001b[33mHl\u001b[39m(t(s))\u001b[33m:\u001b[39m\u001b[33mHl\u001b[39m(t(s))}\u001b[36mcatch\u001b[39m(a){\u001b[36mreturn\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mreject(a)}}\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[36mget\u001b[39m spec(){\u001b[36mreturn\u001b[39m n}\u001b[33m,\u001b[39mthen(s\u001b[33m,\u001b[39ma){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39mthen(s\u001b[33m,\u001b[39ma)}\u001b[33m,\u001b[39m\u001b[36mcatch\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(s)}\u001b[33m,\u001b[39m\u001b[36mfinally\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mfinally\u001b[39m(s)}\u001b[33m,\u001b[39mrequestTransaction(s){\u001b[36mlet\u001b[39m a\u001b[33m=\u001b[39mo(s)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m a\u001b[33m.\u001b[39mrequestTransaction\u001b[33m?\u001b[39ma\u001b[33m.\u001b[39mrequestTransaction(s)\u001b[33m:\u001b[39ma}\u001b[33m,\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag]\u001b[33m:\u001b[39m\u001b[32m\"PrismaPromise\"\u001b[39m}}}\u001b[36mfunction\u001b[39m \u001b[33mHl\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mthen\u001b[33m==\u001b[39m\u001b[32m\"function\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39m\u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mresolve(e)}\u001b[36mvar\u001b[39m \u001b[33mTf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mEi\u001b[39m\u001b[33m.\u001b[39msplit(\u001b[32m\".\"\u001b[39m)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mSf\u001b[39m\u001b[33m=\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m}\u001b[33m,\u001b[39mgetTraceParent(){\u001b[36mreturn\u001b[39m\u001b[32m\"00-10-10-00\"\u001b[39m}\u001b[33m,\u001b[39mdispatchEngineSpans(){}\u001b[33m,\u001b[39mgetActiveContext(){}\u001b[33m,\u001b[39mrunInChildSpan(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m r()}}\u001b[33m,\u001b[39m\u001b[33mIo\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39misEnabled()}getTraceParent(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetTraceParent(r)}dispatchEngineSpans(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mdispatchEngineSpans(r)}getActiveContext(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetActiveContext()}runInChildSpan(r\u001b[33m,\u001b[39mt){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mrunInChildSpan(r\u001b[33m,\u001b[39mt)}getGlobalTracingHelper(){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39mglobalThis[\u001b[32m`V${Tf}_PRISMA_INSTRUMENTATION`\u001b[39m]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39mglobalThis\u001b[33m.\u001b[39m\u001b[33mPRISMA_INSTRUMENTATION\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33mSf\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKl\u001b[39m(){\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mIo\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mYl\u001b[39m(e\u001b[33m,\u001b[39mr\u001b[33m=\u001b[39m()\u001b[33m=>\u001b[39m{}){\u001b[36mlet\u001b[39m t\u001b[33m,\u001b[39mn\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m(i\u001b[33m=>\u001b[39mt\u001b[33m=\u001b[39mi)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{then(i){\u001b[36mreturn\u001b[39m\u001b[33m--\u001b[39me\u001b[33m===\u001b[39m\u001b[35m0\u001b[39m\u001b[33m&&\u001b[39mt(r())\u001b[33m,\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m.\u001b[39m(n)}}}\u001b[36mfunction\u001b[39m zl(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mreduce((r\u001b[33m,\u001b[39mt)\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[36mtypeof\u001b[39m t\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mlevel\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m===\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m?\u001b[39mr\u001b[33m:\u001b[39mr\u001b[33m&&\u001b[39m(t\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m||\u001b[39mr\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m)\u001b[33m?\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m:\u001b[39mn}\u001b[33m,\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mHn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{_middlewares\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39muse(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mpush(r)}\u001b[36mget\u001b[39m(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}has(r){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[33m!\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}length(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mlength}}\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mXl\u001b[39m\u001b[33m=\u001b[39mk(\u001b[33mOi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKn\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m==\u001b[39m\u001b[32m\"number\"\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mZl\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUnique\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUniqueOrThrow\"\u001b[39m)\u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mmodelName\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(e\u001b[33m.\u001b[39mmodelName)\u001b[33m,\u001b[39me\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39mselection))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mjoin(\u001b[32m\"\"\u001b[39m)}\u001b[36mfunction\u001b[39m ko(e){\u001b[36mreturn\u001b[39m\u001b[32m`(${Object.keys(e).sort().map(t=>{let n=e[t];return typeof n==\"object\"&&n!==null?`(${t} ${ko(n)})`:t}).join(\" \")})`\u001b[39m}\u001b[36mvar\u001b[39m \u001b[33mRf\u001b[39m\u001b[33m=\u001b[39m{aggregate\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39maggregateRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mcreateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mexecuteRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mfindFirst\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindFirstOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUnique\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUniqueOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mgroupBy\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mqueryRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mrunCommandRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupsertOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mOo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[33mRf\u001b[39m[e]}\u001b[36mvar\u001b[39m \u001b[33mYn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{constructor(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches\u001b[33m=\u001b[39m{}}batches\u001b[33m;\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m;\u001b[39mrequest(r){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchBy(r)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m t\u001b[33m?\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mprocess\u001b[33m.\u001b[39mnextTick(()\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdispatchBatches()\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m})))\u001b[33m,\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m.\u001b[39mpush({request\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mresolve\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mreject\u001b[33m:\u001b[39mi})}))\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(r)}dispatchBatches(){\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m r \u001b[36min\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m;\u001b[39m\u001b[36mdelete\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m,\u001b[39mt\u001b[33m.\u001b[39mlength\u001b[33m===\u001b[39m\u001b[35m1\u001b[39m\u001b[33m?\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mrequest)\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)\u001b[33m:\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mresolve(n)})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)})\u001b[33m:\u001b[39m(t\u001b[33m.\u001b[39msort((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchOrder(n\u001b[33m.\u001b[39mrequest\u001b[33m,\u001b[39mi\u001b[33m.\u001b[39mrequest))\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchLoader(t\u001b[33m.\u001b[39mmap(n\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mrequest))\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m o\u001b[33m=\u001b[39mn[i]\u001b[33m;\u001b[39mo \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[i]\u001b[33m.\u001b[39mreject(o)\u001b[33m:\u001b[39mt[i]\u001b[33m.\u001b[39mresolve(o)}})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)}))}}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"DataLoader\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m mr(e\u001b[33m,\u001b[39mr){\u001b[36mif\u001b[39m(r\u001b[33m===\u001b[39m\u001b[36mnull\u001b[39m)\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mswitch\u001b[39m(e){\u001b[36mcase\u001b[39m\u001b[32m\"bigint\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[33mBigInt\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes\"\u001b[39m\u001b[33m:\u001b[39m{\u001b[36mlet\u001b[39m{buffer\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mbyteOffset\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mbyteLength\u001b[33m:\u001b[39mi}\u001b[33m=\u001b[39m\u001b[33mBuffer\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m(r\u001b[33m,\u001b[39m\u001b[32m\"base64\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mUint8Array\u001b[39m(t\u001b[33m,\u001b[39mn\u001b[33m,\u001b[39mi)}\u001b[36mcase\u001b[39m\u001b[32m\"decimal\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mPe\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(\u001b[32m`1970-01-01T${r}Z`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bigint-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bigint\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bytes\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"decimal-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"decimal\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"datetime\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"date\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"time\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r}}\u001b[36mfunction\u001b[39m zn(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39m\u001b[33mCf\u001b[39m(e)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mn\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mrows\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mn\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mrows[n]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m{\u001b[33m...\u001b[39mt}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m s\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39ms\u001b[33m<\u001b[39m\u001b[33mi\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39ms\u001b[33m++\u001b[39m)o[e\u001b[33m.\u001b[39mcolumns[s]]\u001b[33m=\u001b[39mmr(e\u001b[33m.\u001b[39mtypes[s]\u001b[33m,\u001b[39mi[s])\u001b[33m;\u001b[39mr\u001b[33m.\u001b[39mpush(o)}\u001b[36mreturn\u001b[39m r}\u001b[36mfunction\u001b[39m \u001b[33mCf\u001b[39m(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m{}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mt\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mcolumns\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mt\u001b[33m++\u001b[39m)r[e\u001b[33m.\u001b[39mcolumns[t]]\u001b[33m=\u001b[39m\u001b[36mnull\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r}\u001b[36mvar\u001b[39m \u001b[33mAf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mN\u001b[39m(\u001b[32m\"prisma:client:request_handler\"\u001b[39m)\u001b[33m,\u001b[39m\u001b[33mZn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{client\u001b[33m;\u001b[39mdataloader\u001b[33m;\u001b[39mlogEmitter\u001b[33m;\u001b[39mconstructor(r\u001b[33m,\u001b[39mt){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m=\u001b[39mt\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m=\u001b[39mr\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mYn\u001b[39m({batchLoader\u001b[33m:\u001b[39mol(\u001b[36masync\u001b[39m({requests\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi})\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m{transaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39motelParentCtx\u001b[33m:\u001b[39ms}\u001b[33m=\u001b[39mn[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mmap(p\u001b[33m=>\u001b[39mp\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent(s)\u001b[33m,\u001b[39mu\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39msome(p\u001b[33m=>\u001b[39m\u001b[33mOo\u001b[39m(p\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction))\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m(\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequestBatch(a\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39ml\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39m\u001b[33mIf\u001b[39m(o)\u001b[33m,\u001b[39mcontainsWrite\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi}))\u001b[33m.\u001b[39mmap((p\u001b[33m,\u001b[39md)\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(p \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mreturn\u001b[39m p\u001b[33m;\u001b[39m\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n[d]\u001b[33m,\u001b[39mp)}\u001b[36mcatch\u001b[39m(f){\u001b[36mreturn\u001b[39m f}})})\u001b[33m,\u001b[39msingleLoader\u001b[33m:\u001b[39m\u001b[36masync\u001b[39m n\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39meu(n\u001b[33m.\u001b[39mtransaction)\u001b[33m:\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequest(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent()\u001b[33m,\u001b[39minteractiveTransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39misWrite\u001b[33m:\u001b[39m\u001b[33mOo\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction)\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mn\u001b[33m.\u001b[39mcustomDataProxyFetch})\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n\u001b[33m,\u001b[39mo)}\u001b[33m,\u001b[39mbatchBy\u001b[33m:\u001b[39mn\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mid\u001b[33m?\u001b[39m\u001b[32m`transaction-${n.transaction.id}`\u001b[39m\u001b[33m:\u001b[39m\u001b[33mZl\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39mbatchOrder(n\u001b[33m,\u001b[39mi){\u001b[36mreturn\u001b[39m n\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m?\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m-\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m:\u001b[39m\u001b[35m0\u001b[39m}})}\u001b[36masync\u001b[39m request(r){\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m.\u001b[39mrequest(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mlet\u001b[39m{clientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma}\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleAndLogRequestError({error\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mglobalOmit})}}mapQueryEngineResult({dataPath\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39munpacker\u001b[33m:\u001b[39mt}\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mdata\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39munpack(i\u001b[33m,\u001b[39mr\u001b[33m,\u001b[39mt)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mPRISMA_CLIENT_GET_TIME\u001b[39m\u001b[33m?\u001b[39m{data\u001b[33m:\u001b[39mo}\u001b[33m:\u001b[39mo}handleAndLogRequestError(r){\u001b[36mtry\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleRequestError(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mthrow\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m.\u001b[39memit(\u001b[32m\"error\"\u001b[39m\u001b[33m,\u001b[39m{message\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mmessage\u001b[33m,\u001b[39mtarget\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mclientMethod\u001b[33m,\u001b[39mtimestamp\u001b[33m:\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m})\u001b[33m,\u001b[39mt}}handleRequestError({error\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma}){\u001b[36mif\u001b[39m(\u001b[33mAf\u001b[39m(r)\u001b[33m,\u001b[39mkf(r\u001b[33m,\u001b[39mi))\u001b[36mthrow\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m z\u001b[33m&&\u001b[39m\u001b[33mOf\u001b[39m(r)){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39mru(r\u001b[33m.\u001b[39mmeta)\u001b[33m;\u001b[39mkn({args\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39m[u]\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39merrorFormat\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma})}\u001b[36mlet\u001b[39m l\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mmessage\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m(l\u001b[33m=\u001b[39mwn({callsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39misPanic\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39misPanic\u001b[33m,\u001b[39mshowColors\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m===\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39mmessage\u001b[33m:\u001b[39ml}))\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39msanitizeMessage(l)\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mcode){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39ms\u001b[33m?\u001b[39m{modelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr\u001b[33m.\u001b[39mmeta}\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mmeta\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m z(l\u001b[33m,\u001b[39m{code\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mcode\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mmeta\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})}\u001b[36melse\u001b[39m{\u001b[36mif\u001b[39m(r\u001b[33m.\u001b[39misPanic)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m j)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m j(l\u001b[33m,\u001b[39m{clientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m \u001b[33mT\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mT\u001b[39m(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m le)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)}\u001b[36mthrow\u001b[39m r\u001b[33m.\u001b[39mclientVersion\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mr}sanitizeMessage(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m!==\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m?\u001b[39m(\u001b[35m0\u001b[39m\u001b[33m,\u001b[39m\u001b[33mXl\u001b[39m\u001b[33m.\u001b[39m\u001b[36mdefault\u001b[39m)(r)\u001b[33m:\u001b[39mr}unpack(r\u001b[33m,\u001b[39mt\u001b[33m,\u001b[39mn){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m||\u001b[39m(r\u001b[33m.\u001b[39mdata\u001b[33m&&\u001b[39m(r\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mdata)\u001b[33m,\u001b[39m\u001b[33m!\u001b[39mr))\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mvalues(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ms\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mfilter(u\u001b[33m=>\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"select\"\u001b[39m\u001b[33m&&\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"include\"\u001b[39m)\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mio(o\u001b[33m,\u001b[39ms)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39mi\u001b[33m===\u001b[39m\u001b[32m\"queryRaw\"\u001b[39m\u001b[33m?\u001b[39mzn(a)\u001b[33m:\u001b[39m\u001b[33mTr\u001b[39m(a)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m?\u001b[39mn(l)\u001b[33m:\u001b[39ml}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"RequestHandler\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mIf\u001b[39m(e){\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39m{isolationLevel\u001b[33m:\u001b[39me\u001b[33m.\u001b[39misolationLevel}}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39meu(e)}\u001b[33m;\u001b[39m_e(e\u001b[33m,\u001b[39m\u001b[32m\"Unknown transaction kind\"\u001b[39m)}}\u001b[36mfunction\u001b[39m eu(e){\u001b[36mreturn\u001b[39m{id\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39mpayload\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mpayload}}\u001b[36mfunction\u001b[39m kf(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m \u001b[33mKn\u001b[39m(e)\u001b[33m&&\u001b[39mr\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m!==\u001b[39mr\u001b[33m.\u001b[39mindex}\u001b[36mfunction\u001b[39m \u001b[33mOf\u001b[39m(e){\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2009\"\u001b[39m\u001b[33m||\u001b[39me\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2012\"\u001b[39m}\u001b[36mfunction\u001b[39m ru(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"Union\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"Union\"\u001b[39m\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39me\u001b[33m.\u001b[39merrors\u001b[33m.\u001b[39mmap(ru)}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e\u001b[33m.\u001b[39mselectionPath)){\u001b[36mlet\u001b[39m[\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr]\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mselectionPath\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[33m...\u001b[39me\u001b[33m,\u001b[39mselectionPath\u001b[33m:\u001b[39mr}}\u001b[36mreturn\u001b[39m e}\u001b[36mvar\u001b[39m tu\u001b[33m=\u001b[39m\u001b[33mSl\u001b[39m\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m au\u001b[33m=\u001b[39mk(\u001b[33mQi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mD\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mError\u001b[39m{constructor(r){\u001b[36msuper\u001b[39m(r\u001b[33m+\u001b[39m\u001b[32m`\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 125 |\u001b[39m \u001b[32mRead more at https://pris.ly/d/client-constructor`\u001b[39m)\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mname\u001b[33m=\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}}\u001b[33m;\u001b[39mx(\u001b[33mD\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m nu\u001b[33m=\u001b[39m[\u001b[32m\"datasources\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"datasourceUrl\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"errorFormat\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"adapter\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"log\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"transactionOptions\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"omit\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"__internal\"\u001b[39m]\u001b[33m,\u001b[39miu\u001b[33m=\u001b[39m[\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"colorless\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"minimal\"\u001b[39m]\u001b[33m,\u001b[39mou\u001b[33m=\u001b[39m[\u001b[32m\"info\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"warn\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"error\"\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mDf\u001b[39m\u001b[33m=\u001b[39m{datasources\u001b[33m:\u001b[39m(e\u001b[33m,\u001b[39m{datasourceNames\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m e\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for \"datasources\" provided to PrismaClient constructor`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[t\u001b[33m,\u001b[39mn]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(e)){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m.\u001b[39mincludes(t)){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mWr\u001b[39m(t\u001b[33m,\u001b[39mr)\u001b[33m||\u001b[39m\u001b[32m` Available datasources: ${r.join(\", \")}`\u001b[39m\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Unknown datasource ${t} provided to PrismaClient constructor.${i}`\u001b[39m)}\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m n\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(n))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 126 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m\u001b[36mtypeof\u001b[39m n\u001b[33m==\u001b[39m\u001b[32m\"object\"\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[i\u001b[33m,\u001b[39mo]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(n)){\u001b[36mif\u001b[39m(i\u001b[33m!==\u001b[39m\u001b[32m\"url\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 127 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m o\u001b[33m!=\u001b[39m\u001b[32m\"string\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(o)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:7459)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError [as handleAndLogRequestError] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6784)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleAndLogRequestError [as request] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6491)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat l (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:133:9778)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/lib/services/connectionService.integration.test.ts\u001b[39m\u001b[0m\u001b[2m:22:22)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mConnectionService (integration) › should mark connection as disconnected\u001b[39m\u001b[22m\n\n    PrismaClientUnknownRequestError: \n    Invalid `prisma.apiConnection.deleteMany()` invocation in\n    /Users/connorbowen/apiq-mvp/tests/integration/lib/services/connectionService.integration.test.ts:40:32\n\n      37 \n      38 afterEach(async () => {\n      39   // Clean up after each test\n    → 40   await prisma.apiConnection.deleteMany(\n    Error occurred during query execution:\n    ConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"25P02\", message: \"current transaction is aborted, commands ignored until end of transaction block\", severity: \"ERROR\", detail: None, column: None, hint: None }), transient: false })\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 122 |\u001b[39m \u001b[32m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 123 |\u001b[39m \u001b[32mMore Information: https://pris.ly/d/execute-raw\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 124 |\u001b[39m \u001b[32m`\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mCo\u001b[39m\u001b[33m=\u001b[39m({clientMethod\u001b[33m:\u001b[39me\u001b[33m,\u001b[39mactiveProvider\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39mt\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[32m\"\"\u001b[39m\u001b[33m,\u001b[39mi\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mFn\u001b[39m(t))n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(t)){\u001b[36mlet\u001b[39m[o\u001b[33m,\u001b[39m\u001b[33m...\u001b[39ms]\u001b[33m=\u001b[39mt\u001b[33m;\u001b[39mn\u001b[33m=\u001b[39mo\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(s\u001b[33m||\u001b[39m[])\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}}\u001b[36melse\u001b[39m \u001b[36mswitch\u001b[39m(r){\u001b[36mcase\u001b[39m\u001b[32m\"sqlite\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"mysql\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"cockroachdb\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgresql\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgres\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mtext\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"sqlserver\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mjl(t)\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`The ${r} provider does not support ${e}`\u001b[39m)}\u001b[36mreturn\u001b[39m i\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mvalues\u001b[33m?\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n}, ${i.values})`\u001b[39m)\u001b[33m:\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n})`\u001b[39m)\u001b[33m,\u001b[39m{query\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mparameters\u001b[33m:\u001b[39mi}}\u001b[33m,\u001b[39m\u001b[33mWl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e\u001b[33m.\u001b[39mstrings\u001b[33m,\u001b[39m\u001b[33m...\u001b[39me\u001b[33m.\u001b[39mvalues]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mlet\u001b[39m[r\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mt]\u001b[33m=\u001b[39me\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m oe(r\u001b[33m,\u001b[39mt)}}\u001b[33m,\u001b[39m\u001b[33mJl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mreturn\u001b[39m e[\u001b[35m0\u001b[39m]}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mAo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mfunction\u001b[39m(t\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m(s\u001b[33m=\u001b[39me)\u001b[33m=>\u001b[39m{\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m s\u001b[33m===\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m||\u001b[39ms\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33m=\u001b[39m\u001b[33mHl\u001b[39m(t(s))\u001b[33m:\u001b[39m\u001b[33mHl\u001b[39m(t(s))}\u001b[36mcatch\u001b[39m(a){\u001b[36mreturn\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mreject(a)}}\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[36mget\u001b[39m spec(){\u001b[36mreturn\u001b[39m n}\u001b[33m,\u001b[39mthen(s\u001b[33m,\u001b[39ma){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39mthen(s\u001b[33m,\u001b[39ma)}\u001b[33m,\u001b[39m\u001b[36mcatch\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(s)}\u001b[33m,\u001b[39m\u001b[36mfinally\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mfinally\u001b[39m(s)}\u001b[33m,\u001b[39mrequestTransaction(s){\u001b[36mlet\u001b[39m a\u001b[33m=\u001b[39mo(s)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m a\u001b[33m.\u001b[39mrequestTransaction\u001b[33m?\u001b[39ma\u001b[33m.\u001b[39mrequestTransaction(s)\u001b[33m:\u001b[39ma}\u001b[33m,\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag]\u001b[33m:\u001b[39m\u001b[32m\"PrismaPromise\"\u001b[39m}}}\u001b[36mfunction\u001b[39m \u001b[33mHl\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mthen\u001b[33m==\u001b[39m\u001b[32m\"function\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39m\u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mresolve(e)}\u001b[36mvar\u001b[39m \u001b[33mTf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mEi\u001b[39m\u001b[33m.\u001b[39msplit(\u001b[32m\".\"\u001b[39m)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mSf\u001b[39m\u001b[33m=\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m}\u001b[33m,\u001b[39mgetTraceParent(){\u001b[36mreturn\u001b[39m\u001b[32m\"00-10-10-00\"\u001b[39m}\u001b[33m,\u001b[39mdispatchEngineSpans(){}\u001b[33m,\u001b[39mgetActiveContext(){}\u001b[33m,\u001b[39mrunInChildSpan(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m r()}}\u001b[33m,\u001b[39m\u001b[33mIo\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39misEnabled()}getTraceParent(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetTraceParent(r)}dispatchEngineSpans(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mdispatchEngineSpans(r)}getActiveContext(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetActiveContext()}runInChildSpan(r\u001b[33m,\u001b[39mt){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mrunInChildSpan(r\u001b[33m,\u001b[39mt)}getGlobalTracingHelper(){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39mglobalThis[\u001b[32m`V${Tf}_PRISMA_INSTRUMENTATION`\u001b[39m]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39mglobalThis\u001b[33m.\u001b[39m\u001b[33mPRISMA_INSTRUMENTATION\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33mSf\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKl\u001b[39m(){\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mIo\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mYl\u001b[39m(e\u001b[33m,\u001b[39mr\u001b[33m=\u001b[39m()\u001b[33m=>\u001b[39m{}){\u001b[36mlet\u001b[39m t\u001b[33m,\u001b[39mn\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m(i\u001b[33m=>\u001b[39mt\u001b[33m=\u001b[39mi)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{then(i){\u001b[36mreturn\u001b[39m\u001b[33m--\u001b[39me\u001b[33m===\u001b[39m\u001b[35m0\u001b[39m\u001b[33m&&\u001b[39mt(r())\u001b[33m,\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m.\u001b[39m(n)}}}\u001b[36mfunction\u001b[39m zl(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mreduce((r\u001b[33m,\u001b[39mt)\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[36mtypeof\u001b[39m t\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mlevel\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m===\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m?\u001b[39mr\u001b[33m:\u001b[39mr\u001b[33m&&\u001b[39m(t\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m||\u001b[39mr\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m)\u001b[33m?\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m:\u001b[39mn}\u001b[33m,\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mHn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{_middlewares\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39muse(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mpush(r)}\u001b[36mget\u001b[39m(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}has(r){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[33m!\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}length(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mlength}}\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mXl\u001b[39m\u001b[33m=\u001b[39mk(\u001b[33mOi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKn\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m==\u001b[39m\u001b[32m\"number\"\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mZl\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUnique\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUniqueOrThrow\"\u001b[39m)\u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mmodelName\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(e\u001b[33m.\u001b[39mmodelName)\u001b[33m,\u001b[39me\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39mselection))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mjoin(\u001b[32m\"\"\u001b[39m)}\u001b[36mfunction\u001b[39m ko(e){\u001b[36mreturn\u001b[39m\u001b[32m`(${Object.keys(e).sort().map(t=>{let n=e[t];return typeof n==\"object\"&&n!==null?`(${t} ${ko(n)})`:t}).join(\" \")})`\u001b[39m}\u001b[36mvar\u001b[39m \u001b[33mRf\u001b[39m\u001b[33m=\u001b[39m{aggregate\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39maggregateRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mcreateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mexecuteRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mfindFirst\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindFirstOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUnique\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUniqueOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mgroupBy\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mqueryRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mrunCommandRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupsertOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mOo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[33mRf\u001b[39m[e]}\u001b[36mvar\u001b[39m \u001b[33mYn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{constructor(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches\u001b[33m=\u001b[39m{}}batches\u001b[33m;\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m;\u001b[39mrequest(r){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchBy(r)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m t\u001b[33m?\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mprocess\u001b[33m.\u001b[39mnextTick(()\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdispatchBatches()\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m})))\u001b[33m,\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m.\u001b[39mpush({request\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mresolve\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mreject\u001b[33m:\u001b[39mi})}))\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(r)}dispatchBatches(){\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m r \u001b[36min\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m;\u001b[39m\u001b[36mdelete\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m,\u001b[39mt\u001b[33m.\u001b[39mlength\u001b[33m===\u001b[39m\u001b[35m1\u001b[39m\u001b[33m?\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mrequest)\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)\u001b[33m:\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mresolve(n)})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)})\u001b[33m:\u001b[39m(t\u001b[33m.\u001b[39msort((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchOrder(n\u001b[33m.\u001b[39mrequest\u001b[33m,\u001b[39mi\u001b[33m.\u001b[39mrequest))\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchLoader(t\u001b[33m.\u001b[39mmap(n\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mrequest))\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m o\u001b[33m=\u001b[39mn[i]\u001b[33m;\u001b[39mo \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[i]\u001b[33m.\u001b[39mreject(o)\u001b[33m:\u001b[39mt[i]\u001b[33m.\u001b[39mresolve(o)}})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)}))}}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"DataLoader\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m mr(e\u001b[33m,\u001b[39mr){\u001b[36mif\u001b[39m(r\u001b[33m===\u001b[39m\u001b[36mnull\u001b[39m)\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mswitch\u001b[39m(e){\u001b[36mcase\u001b[39m\u001b[32m\"bigint\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[33mBigInt\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes\"\u001b[39m\u001b[33m:\u001b[39m{\u001b[36mlet\u001b[39m{buffer\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mbyteOffset\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mbyteLength\u001b[33m:\u001b[39mi}\u001b[33m=\u001b[39m\u001b[33mBuffer\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m(r\u001b[33m,\u001b[39m\u001b[32m\"base64\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mUint8Array\u001b[39m(t\u001b[33m,\u001b[39mn\u001b[33m,\u001b[39mi)}\u001b[36mcase\u001b[39m\u001b[32m\"decimal\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mPe\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(\u001b[32m`1970-01-01T${r}Z`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bigint-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bigint\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bytes\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"decimal-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"decimal\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"datetime\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"date\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"time\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r}}\u001b[36mfunction\u001b[39m zn(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39m\u001b[33mCf\u001b[39m(e)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mn\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mrows\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mn\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mrows[n]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m{\u001b[33m...\u001b[39mt}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m s\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39ms\u001b[33m<\u001b[39m\u001b[33mi\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39ms\u001b[33m++\u001b[39m)o[e\u001b[33m.\u001b[39mcolumns[s]]\u001b[33m=\u001b[39mmr(e\u001b[33m.\u001b[39mtypes[s]\u001b[33m,\u001b[39mi[s])\u001b[33m;\u001b[39mr\u001b[33m.\u001b[39mpush(o)}\u001b[36mreturn\u001b[39m r}\u001b[36mfunction\u001b[39m \u001b[33mCf\u001b[39m(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m{}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mt\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mcolumns\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mt\u001b[33m++\u001b[39m)r[e\u001b[33m.\u001b[39mcolumns[t]]\u001b[33m=\u001b[39m\u001b[36mnull\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r}\u001b[36mvar\u001b[39m \u001b[33mAf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mN\u001b[39m(\u001b[32m\"prisma:client:request_handler\"\u001b[39m)\u001b[33m,\u001b[39m\u001b[33mZn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{client\u001b[33m;\u001b[39mdataloader\u001b[33m;\u001b[39mlogEmitter\u001b[33m;\u001b[39mconstructor(r\u001b[33m,\u001b[39mt){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m=\u001b[39mt\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m=\u001b[39mr\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mYn\u001b[39m({batchLoader\u001b[33m:\u001b[39mol(\u001b[36masync\u001b[39m({requests\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi})\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m{transaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39motelParentCtx\u001b[33m:\u001b[39ms}\u001b[33m=\u001b[39mn[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mmap(p\u001b[33m=>\u001b[39mp\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent(s)\u001b[33m,\u001b[39mu\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39msome(p\u001b[33m=>\u001b[39m\u001b[33mOo\u001b[39m(p\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction))\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m(\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequestBatch(a\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39ml\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39m\u001b[33mIf\u001b[39m(o)\u001b[33m,\u001b[39mcontainsWrite\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi}))\u001b[33m.\u001b[39mmap((p\u001b[33m,\u001b[39md)\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(p \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mreturn\u001b[39m p\u001b[33m;\u001b[39m\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n[d]\u001b[33m,\u001b[39mp)}\u001b[36mcatch\u001b[39m(f){\u001b[36mreturn\u001b[39m f}})})\u001b[33m,\u001b[39msingleLoader\u001b[33m:\u001b[39m\u001b[36masync\u001b[39m n\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39meu(n\u001b[33m.\u001b[39mtransaction)\u001b[33m:\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequest(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent()\u001b[33m,\u001b[39minteractiveTransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39misWrite\u001b[33m:\u001b[39m\u001b[33mOo\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction)\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mn\u001b[33m.\u001b[39mcustomDataProxyFetch})\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n\u001b[33m,\u001b[39mo)}\u001b[33m,\u001b[39mbatchBy\u001b[33m:\u001b[39mn\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mid\u001b[33m?\u001b[39m\u001b[32m`transaction-${n.transaction.id}`\u001b[39m\u001b[33m:\u001b[39m\u001b[33mZl\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39mbatchOrder(n\u001b[33m,\u001b[39mi){\u001b[36mreturn\u001b[39m n\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m?\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m-\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m:\u001b[39m\u001b[35m0\u001b[39m}})}\u001b[36masync\u001b[39m request(r){\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m.\u001b[39mrequest(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mlet\u001b[39m{clientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma}\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleAndLogRequestError({error\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mglobalOmit})}}mapQueryEngineResult({dataPath\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39munpacker\u001b[33m:\u001b[39mt}\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mdata\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39munpack(i\u001b[33m,\u001b[39mr\u001b[33m,\u001b[39mt)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mPRISMA_CLIENT_GET_TIME\u001b[39m\u001b[33m?\u001b[39m{data\u001b[33m:\u001b[39mo}\u001b[33m:\u001b[39mo}handleAndLogRequestError(r){\u001b[36mtry\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleRequestError(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mthrow\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m.\u001b[39memit(\u001b[32m\"error\"\u001b[39m\u001b[33m,\u001b[39m{message\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mmessage\u001b[33m,\u001b[39mtarget\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mclientMethod\u001b[33m,\u001b[39mtimestamp\u001b[33m:\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m})\u001b[33m,\u001b[39mt}}handleRequestError({error\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma}){\u001b[36mif\u001b[39m(\u001b[33mAf\u001b[39m(r)\u001b[33m,\u001b[39mkf(r\u001b[33m,\u001b[39mi))\u001b[36mthrow\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m z\u001b[33m&&\u001b[39m\u001b[33mOf\u001b[39m(r)){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39mru(r\u001b[33m.\u001b[39mmeta)\u001b[33m;\u001b[39mkn({args\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39m[u]\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39merrorFormat\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma})}\u001b[36mlet\u001b[39m l\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mmessage\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m(l\u001b[33m=\u001b[39mwn({callsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39misPanic\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39misPanic\u001b[33m,\u001b[39mshowColors\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m===\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39mmessage\u001b[33m:\u001b[39ml}))\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39msanitizeMessage(l)\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mcode){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39ms\u001b[33m?\u001b[39m{modelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr\u001b[33m.\u001b[39mmeta}\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mmeta\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m z(l\u001b[33m,\u001b[39m{code\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mcode\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mmeta\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})}\u001b[36melse\u001b[39m{\u001b[36mif\u001b[39m(r\u001b[33m.\u001b[39misPanic)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m j)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m j(l\u001b[33m,\u001b[39m{clientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m \u001b[33mT\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mT\u001b[39m(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m le)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)}\u001b[36mthrow\u001b[39m r\u001b[33m.\u001b[39mclientVersion\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mr}sanitizeMessage(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m!==\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m?\u001b[39m(\u001b[35m0\u001b[39m\u001b[33m,\u001b[39m\u001b[33mXl\u001b[39m\u001b[33m.\u001b[39m\u001b[36mdefault\u001b[39m)(r)\u001b[33m:\u001b[39mr}unpack(r\u001b[33m,\u001b[39mt\u001b[33m,\u001b[39mn){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m||\u001b[39m(r\u001b[33m.\u001b[39mdata\u001b[33m&&\u001b[39m(r\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mdata)\u001b[33m,\u001b[39m\u001b[33m!\u001b[39mr))\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mvalues(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ms\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mfilter(u\u001b[33m=>\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"select\"\u001b[39m\u001b[33m&&\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"include\"\u001b[39m)\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mio(o\u001b[33m,\u001b[39ms)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39mi\u001b[33m===\u001b[39m\u001b[32m\"queryRaw\"\u001b[39m\u001b[33m?\u001b[39mzn(a)\u001b[33m:\u001b[39m\u001b[33mTr\u001b[39m(a)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m?\u001b[39mn(l)\u001b[33m:\u001b[39ml}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"RequestHandler\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mIf\u001b[39m(e){\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39m{isolationLevel\u001b[33m:\u001b[39me\u001b[33m.\u001b[39misolationLevel}}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39meu(e)}\u001b[33m;\u001b[39m_e(e\u001b[33m,\u001b[39m\u001b[32m\"Unknown transaction kind\"\u001b[39m)}}\u001b[36mfunction\u001b[39m eu(e){\u001b[36mreturn\u001b[39m{id\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39mpayload\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mpayload}}\u001b[36mfunction\u001b[39m kf(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m \u001b[33mKn\u001b[39m(e)\u001b[33m&&\u001b[39mr\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m!==\u001b[39mr\u001b[33m.\u001b[39mindex}\u001b[36mfunction\u001b[39m \u001b[33mOf\u001b[39m(e){\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2009\"\u001b[39m\u001b[33m||\u001b[39me\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2012\"\u001b[39m}\u001b[36mfunction\u001b[39m ru(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"Union\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"Union\"\u001b[39m\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39me\u001b[33m.\u001b[39merrors\u001b[33m.\u001b[39mmap(ru)}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e\u001b[33m.\u001b[39mselectionPath)){\u001b[36mlet\u001b[39m[\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr]\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mselectionPath\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[33m...\u001b[39me\u001b[33m,\u001b[39mselectionPath\u001b[33m:\u001b[39mr}}\u001b[36mreturn\u001b[39m e}\u001b[36mvar\u001b[39m tu\u001b[33m=\u001b[39m\u001b[33mSl\u001b[39m\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m au\u001b[33m=\u001b[39mk(\u001b[33mQi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mD\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mError\u001b[39m{constructor(r){\u001b[36msuper\u001b[39m(r\u001b[33m+\u001b[39m\u001b[32m`\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 125 |\u001b[39m \u001b[32mRead more at https://pris.ly/d/client-constructor`\u001b[39m)\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mname\u001b[33m=\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}}\u001b[33m;\u001b[39mx(\u001b[33mD\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m nu\u001b[33m=\u001b[39m[\u001b[32m\"datasources\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"datasourceUrl\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"errorFormat\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"adapter\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"log\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"transactionOptions\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"omit\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"__internal\"\u001b[39m]\u001b[33m,\u001b[39miu\u001b[33m=\u001b[39m[\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"colorless\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"minimal\"\u001b[39m]\u001b[33m,\u001b[39mou\u001b[33m=\u001b[39m[\u001b[32m\"info\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"warn\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"error\"\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mDf\u001b[39m\u001b[33m=\u001b[39m{datasources\u001b[33m:\u001b[39m(e\u001b[33m,\u001b[39m{datasourceNames\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m e\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for \"datasources\" provided to PrismaClient constructor`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[t\u001b[33m,\u001b[39mn]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(e)){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m.\u001b[39mincludes(t)){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mWr\u001b[39m(t\u001b[33m,\u001b[39mr)\u001b[33m||\u001b[39m\u001b[32m` Available datasources: ${r.join(\", \")}`\u001b[39m\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Unknown datasource ${t} provided to PrismaClient constructor.${i}`\u001b[39m)}\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m n\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(n))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 126 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m\u001b[36mtypeof\u001b[39m n\u001b[33m==\u001b[39m\u001b[32m\"object\"\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[i\u001b[33m,\u001b[39mo]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(n)){\u001b[36mif\u001b[39m(i\u001b[33m!==\u001b[39m\u001b[32m\"url\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 127 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m o\u001b[33m!=\u001b[39m\u001b[32m\"string\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(o)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:7649)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError [as handleAndLogRequestError] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6784)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleAndLogRequestError [as request] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6491)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat l (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:133:9778)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/lib/services/connectionService.integration.test.ts\u001b[39m\u001b[0m\u001b[2m:40:5)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mConnectionService (integration) › should mark connection as revoked\u001b[39m\u001b[22m\n\n    PrismaClientKnownRequestError: \n    Invalid `prisma.apiConnection.create()` invocation in\n    /Users/connorbowen/apiq-mvp/tests/integration/lib/services/connectionService.integration.test.ts:22:49\n\n      19 \n      20 beforeEach(async () => {\n      21   // Create a fresh test connection for each test\n    → 22   testConnection = await prisma.apiConnection.create(\n    Foreign key constraint violated on the constraint: `api_connections_userId_fkey`\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 122 |\u001b[39m \u001b[32m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 123 |\u001b[39m \u001b[32mMore Information: https://pris.ly/d/execute-raw\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 124 |\u001b[39m \u001b[32m`\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mCo\u001b[39m\u001b[33m=\u001b[39m({clientMethod\u001b[33m:\u001b[39me\u001b[33m,\u001b[39mactiveProvider\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39mt\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[32m\"\"\u001b[39m\u001b[33m,\u001b[39mi\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mFn\u001b[39m(t))n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(t)){\u001b[36mlet\u001b[39m[o\u001b[33m,\u001b[39m\u001b[33m...\u001b[39ms]\u001b[33m=\u001b[39mt\u001b[33m;\u001b[39mn\u001b[33m=\u001b[39mo\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(s\u001b[33m||\u001b[39m[])\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}}\u001b[36melse\u001b[39m \u001b[36mswitch\u001b[39m(r){\u001b[36mcase\u001b[39m\u001b[32m\"sqlite\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"mysql\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"cockroachdb\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgresql\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgres\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mtext\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"sqlserver\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mjl(t)\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`The ${r} provider does not support ${e}`\u001b[39m)}\u001b[36mreturn\u001b[39m i\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mvalues\u001b[33m?\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n}, ${i.values})`\u001b[39m)\u001b[33m:\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n})`\u001b[39m)\u001b[33m,\u001b[39m{query\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mparameters\u001b[33m:\u001b[39mi}}\u001b[33m,\u001b[39m\u001b[33mWl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e\u001b[33m.\u001b[39mstrings\u001b[33m,\u001b[39m\u001b[33m...\u001b[39me\u001b[33m.\u001b[39mvalues]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mlet\u001b[39m[r\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mt]\u001b[33m=\u001b[39me\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m oe(r\u001b[33m,\u001b[39mt)}}\u001b[33m,\u001b[39m\u001b[33mJl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mreturn\u001b[39m e[\u001b[35m0\u001b[39m]}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mAo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mfunction\u001b[39m(t\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m(s\u001b[33m=\u001b[39me)\u001b[33m=>\u001b[39m{\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m s\u001b[33m===\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m||\u001b[39ms\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33m=\u001b[39m\u001b[33mHl\u001b[39m(t(s))\u001b[33m:\u001b[39m\u001b[33mHl\u001b[39m(t(s))}\u001b[36mcatch\u001b[39m(a){\u001b[36mreturn\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mreject(a)}}\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[36mget\u001b[39m spec(){\u001b[36mreturn\u001b[39m n}\u001b[33m,\u001b[39mthen(s\u001b[33m,\u001b[39ma){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39mthen(s\u001b[33m,\u001b[39ma)}\u001b[33m,\u001b[39m\u001b[36mcatch\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(s)}\u001b[33m,\u001b[39m\u001b[36mfinally\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mfinally\u001b[39m(s)}\u001b[33m,\u001b[39mrequestTransaction(s){\u001b[36mlet\u001b[39m a\u001b[33m=\u001b[39mo(s)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m a\u001b[33m.\u001b[39mrequestTransaction\u001b[33m?\u001b[39ma\u001b[33m.\u001b[39mrequestTransaction(s)\u001b[33m:\u001b[39ma}\u001b[33m,\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag]\u001b[33m:\u001b[39m\u001b[32m\"PrismaPromise\"\u001b[39m}}}\u001b[36mfunction\u001b[39m \u001b[33mHl\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mthen\u001b[33m==\u001b[39m\u001b[32m\"function\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39m\u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mresolve(e)}\u001b[36mvar\u001b[39m \u001b[33mTf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mEi\u001b[39m\u001b[33m.\u001b[39msplit(\u001b[32m\".\"\u001b[39m)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mSf\u001b[39m\u001b[33m=\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m}\u001b[33m,\u001b[39mgetTraceParent(){\u001b[36mreturn\u001b[39m\u001b[32m\"00-10-10-00\"\u001b[39m}\u001b[33m,\u001b[39mdispatchEngineSpans(){}\u001b[33m,\u001b[39mgetActiveContext(){}\u001b[33m,\u001b[39mrunInChildSpan(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m r()}}\u001b[33m,\u001b[39m\u001b[33mIo\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39misEnabled()}getTraceParent(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetTraceParent(r)}dispatchEngineSpans(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mdispatchEngineSpans(r)}getActiveContext(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetActiveContext()}runInChildSpan(r\u001b[33m,\u001b[39mt){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mrunInChildSpan(r\u001b[33m,\u001b[39mt)}getGlobalTracingHelper(){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39mglobalThis[\u001b[32m`V${Tf}_PRISMA_INSTRUMENTATION`\u001b[39m]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39mglobalThis\u001b[33m.\u001b[39m\u001b[33mPRISMA_INSTRUMENTATION\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33mSf\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKl\u001b[39m(){\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mIo\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mYl\u001b[39m(e\u001b[33m,\u001b[39mr\u001b[33m=\u001b[39m()\u001b[33m=>\u001b[39m{}){\u001b[36mlet\u001b[39m t\u001b[33m,\u001b[39mn\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m(i\u001b[33m=>\u001b[39mt\u001b[33m=\u001b[39mi)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{then(i){\u001b[36mreturn\u001b[39m\u001b[33m--\u001b[39me\u001b[33m===\u001b[39m\u001b[35m0\u001b[39m\u001b[33m&&\u001b[39mt(r())\u001b[33m,\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m.\u001b[39m(n)}}}\u001b[36mfunction\u001b[39m zl(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mreduce((r\u001b[33m,\u001b[39mt)\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[36mtypeof\u001b[39m t\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mlevel\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m===\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m?\u001b[39mr\u001b[33m:\u001b[39mr\u001b[33m&&\u001b[39m(t\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m||\u001b[39mr\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m)\u001b[33m?\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m:\u001b[39mn}\u001b[33m,\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mHn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{_middlewares\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39muse(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mpush(r)}\u001b[36mget\u001b[39m(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}has(r){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[33m!\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}length(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mlength}}\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mXl\u001b[39m\u001b[33m=\u001b[39mk(\u001b[33mOi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKn\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m==\u001b[39m\u001b[32m\"number\"\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mZl\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUnique\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUniqueOrThrow\"\u001b[39m)\u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mmodelName\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(e\u001b[33m.\u001b[39mmodelName)\u001b[33m,\u001b[39me\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39mselection))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mjoin(\u001b[32m\"\"\u001b[39m)}\u001b[36mfunction\u001b[39m ko(e){\u001b[36mreturn\u001b[39m\u001b[32m`(${Object.keys(e).sort().map(t=>{let n=e[t];return typeof n==\"object\"&&n!==null?`(${t} ${ko(n)})`:t}).join(\" \")})`\u001b[39m}\u001b[36mvar\u001b[39m \u001b[33mRf\u001b[39m\u001b[33m=\u001b[39m{aggregate\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39maggregateRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mcreateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mexecuteRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mfindFirst\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindFirstOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUnique\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUniqueOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mgroupBy\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mqueryRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mrunCommandRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupsertOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mOo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[33mRf\u001b[39m[e]}\u001b[36mvar\u001b[39m \u001b[33mYn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{constructor(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches\u001b[33m=\u001b[39m{}}batches\u001b[33m;\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m;\u001b[39mrequest(r){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchBy(r)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m t\u001b[33m?\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mprocess\u001b[33m.\u001b[39mnextTick(()\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdispatchBatches()\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m})))\u001b[33m,\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m.\u001b[39mpush({request\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mresolve\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mreject\u001b[33m:\u001b[39mi})}))\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(r)}dispatchBatches(){\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m r \u001b[36min\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m;\u001b[39m\u001b[36mdelete\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m,\u001b[39mt\u001b[33m.\u001b[39mlength\u001b[33m===\u001b[39m\u001b[35m1\u001b[39m\u001b[33m?\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mrequest)\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)\u001b[33m:\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mresolve(n)})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)})\u001b[33m:\u001b[39m(t\u001b[33m.\u001b[39msort((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchOrder(n\u001b[33m.\u001b[39mrequest\u001b[33m,\u001b[39mi\u001b[33m.\u001b[39mrequest))\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchLoader(t\u001b[33m.\u001b[39mmap(n\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mrequest))\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m o\u001b[33m=\u001b[39mn[i]\u001b[33m;\u001b[39mo \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[i]\u001b[33m.\u001b[39mreject(o)\u001b[33m:\u001b[39mt[i]\u001b[33m.\u001b[39mresolve(o)}})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)}))}}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"DataLoader\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m mr(e\u001b[33m,\u001b[39mr){\u001b[36mif\u001b[39m(r\u001b[33m===\u001b[39m\u001b[36mnull\u001b[39m)\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mswitch\u001b[39m(e){\u001b[36mcase\u001b[39m\u001b[32m\"bigint\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[33mBigInt\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes\"\u001b[39m\u001b[33m:\u001b[39m{\u001b[36mlet\u001b[39m{buffer\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mbyteOffset\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mbyteLength\u001b[33m:\u001b[39mi}\u001b[33m=\u001b[39m\u001b[33mBuffer\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m(r\u001b[33m,\u001b[39m\u001b[32m\"base64\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mUint8Array\u001b[39m(t\u001b[33m,\u001b[39mn\u001b[33m,\u001b[39mi)}\u001b[36mcase\u001b[39m\u001b[32m\"decimal\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mPe\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(\u001b[32m`1970-01-01T${r}Z`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bigint-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bigint\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bytes\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"decimal-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"decimal\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"datetime\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"date\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"time\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r}}\u001b[36mfunction\u001b[39m zn(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39m\u001b[33mCf\u001b[39m(e)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mn\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mrows\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mn\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mrows[n]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m{\u001b[33m...\u001b[39mt}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m s\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39ms\u001b[33m<\u001b[39m\u001b[33mi\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39ms\u001b[33m++\u001b[39m)o[e\u001b[33m.\u001b[39mcolumns[s]]\u001b[33m=\u001b[39mmr(e\u001b[33m.\u001b[39mtypes[s]\u001b[33m,\u001b[39mi[s])\u001b[33m;\u001b[39mr\u001b[33m.\u001b[39mpush(o)}\u001b[36mreturn\u001b[39m r}\u001b[36mfunction\u001b[39m \u001b[33mCf\u001b[39m(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m{}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mt\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mcolumns\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mt\u001b[33m++\u001b[39m)r[e\u001b[33m.\u001b[39mcolumns[t]]\u001b[33m=\u001b[39m\u001b[36mnull\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r}\u001b[36mvar\u001b[39m \u001b[33mAf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mN\u001b[39m(\u001b[32m\"prisma:client:request_handler\"\u001b[39m)\u001b[33m,\u001b[39m\u001b[33mZn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{client\u001b[33m;\u001b[39mdataloader\u001b[33m;\u001b[39mlogEmitter\u001b[33m;\u001b[39mconstructor(r\u001b[33m,\u001b[39mt){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m=\u001b[39mt\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m=\u001b[39mr\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mYn\u001b[39m({batchLoader\u001b[33m:\u001b[39mol(\u001b[36masync\u001b[39m({requests\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi})\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m{transaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39motelParentCtx\u001b[33m:\u001b[39ms}\u001b[33m=\u001b[39mn[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mmap(p\u001b[33m=>\u001b[39mp\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent(s)\u001b[33m,\u001b[39mu\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39msome(p\u001b[33m=>\u001b[39m\u001b[33mOo\u001b[39m(p\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction))\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m(\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequestBatch(a\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39ml\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39m\u001b[33mIf\u001b[39m(o)\u001b[33m,\u001b[39mcontainsWrite\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi}))\u001b[33m.\u001b[39mmap((p\u001b[33m,\u001b[39md)\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(p \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mreturn\u001b[39m p\u001b[33m;\u001b[39m\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n[d]\u001b[33m,\u001b[39mp)}\u001b[36mcatch\u001b[39m(f){\u001b[36mreturn\u001b[39m f}})})\u001b[33m,\u001b[39msingleLoader\u001b[33m:\u001b[39m\u001b[36masync\u001b[39m n\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39meu(n\u001b[33m.\u001b[39mtransaction)\u001b[33m:\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequest(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent()\u001b[33m,\u001b[39minteractiveTransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39misWrite\u001b[33m:\u001b[39m\u001b[33mOo\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction)\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mn\u001b[33m.\u001b[39mcustomDataProxyFetch})\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n\u001b[33m,\u001b[39mo)}\u001b[33m,\u001b[39mbatchBy\u001b[33m:\u001b[39mn\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mid\u001b[33m?\u001b[39m\u001b[32m`transaction-${n.transaction.id}`\u001b[39m\u001b[33m:\u001b[39m\u001b[33mZl\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39mbatchOrder(n\u001b[33m,\u001b[39mi){\u001b[36mreturn\u001b[39m n\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m?\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m-\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m:\u001b[39m\u001b[35m0\u001b[39m}})}\u001b[36masync\u001b[39m request(r){\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m.\u001b[39mrequest(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mlet\u001b[39m{clientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma}\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleAndLogRequestError({error\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mglobalOmit})}}mapQueryEngineResult({dataPath\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39munpacker\u001b[33m:\u001b[39mt}\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mdata\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39munpack(i\u001b[33m,\u001b[39mr\u001b[33m,\u001b[39mt)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mPRISMA_CLIENT_GET_TIME\u001b[39m\u001b[33m?\u001b[39m{data\u001b[33m:\u001b[39mo}\u001b[33m:\u001b[39mo}handleAndLogRequestError(r){\u001b[36mtry\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleRequestError(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mthrow\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m.\u001b[39memit(\u001b[32m\"error\"\u001b[39m\u001b[33m,\u001b[39m{message\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mmessage\u001b[33m,\u001b[39mtarget\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mclientMethod\u001b[33m,\u001b[39mtimestamp\u001b[33m:\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m})\u001b[33m,\u001b[39mt}}handleRequestError({error\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma}){\u001b[36mif\u001b[39m(\u001b[33mAf\u001b[39m(r)\u001b[33m,\u001b[39mkf(r\u001b[33m,\u001b[39mi))\u001b[36mthrow\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m z\u001b[33m&&\u001b[39m\u001b[33mOf\u001b[39m(r)){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39mru(r\u001b[33m.\u001b[39mmeta)\u001b[33m;\u001b[39mkn({args\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39m[u]\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39merrorFormat\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma})}\u001b[36mlet\u001b[39m l\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mmessage\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m(l\u001b[33m=\u001b[39mwn({callsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39misPanic\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39misPanic\u001b[33m,\u001b[39mshowColors\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m===\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39mmessage\u001b[33m:\u001b[39ml}))\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39msanitizeMessage(l)\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mcode){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39ms\u001b[33m?\u001b[39m{modelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr\u001b[33m.\u001b[39mmeta}\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mmeta\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m z(l\u001b[33m,\u001b[39m{code\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mcode\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mmeta\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})}\u001b[36melse\u001b[39m{\u001b[36mif\u001b[39m(r\u001b[33m.\u001b[39misPanic)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m j)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m j(l\u001b[33m,\u001b[39m{clientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m \u001b[33mT\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mT\u001b[39m(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m le)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)}\u001b[36mthrow\u001b[39m r\u001b[33m.\u001b[39mclientVersion\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mr}sanitizeMessage(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m!==\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m?\u001b[39m(\u001b[35m0\u001b[39m\u001b[33m,\u001b[39m\u001b[33mXl\u001b[39m\u001b[33m.\u001b[39m\u001b[36mdefault\u001b[39m)(r)\u001b[33m:\u001b[39mr}unpack(r\u001b[33m,\u001b[39mt\u001b[33m,\u001b[39mn){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m||\u001b[39m(r\u001b[33m.\u001b[39mdata\u001b[33m&&\u001b[39m(r\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mdata)\u001b[33m,\u001b[39m\u001b[33m!\u001b[39mr))\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mvalues(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ms\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mfilter(u\u001b[33m=>\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"select\"\u001b[39m\u001b[33m&&\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"include\"\u001b[39m)\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mio(o\u001b[33m,\u001b[39ms)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39mi\u001b[33m===\u001b[39m\u001b[32m\"queryRaw\"\u001b[39m\u001b[33m?\u001b[39mzn(a)\u001b[33m:\u001b[39m\u001b[33mTr\u001b[39m(a)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m?\u001b[39mn(l)\u001b[33m:\u001b[39ml}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"RequestHandler\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mIf\u001b[39m(e){\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39m{isolationLevel\u001b[33m:\u001b[39me\u001b[33m.\u001b[39misolationLevel}}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39meu(e)}\u001b[33m;\u001b[39m_e(e\u001b[33m,\u001b[39m\u001b[32m\"Unknown transaction kind\"\u001b[39m)}}\u001b[36mfunction\u001b[39m eu(e){\u001b[36mreturn\u001b[39m{id\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39mpayload\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mpayload}}\u001b[36mfunction\u001b[39m kf(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m \u001b[33mKn\u001b[39m(e)\u001b[33m&&\u001b[39mr\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m!==\u001b[39mr\u001b[33m.\u001b[39mindex}\u001b[36mfunction\u001b[39m \u001b[33mOf\u001b[39m(e){\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2009\"\u001b[39m\u001b[33m||\u001b[39me\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2012\"\u001b[39m}\u001b[36mfunction\u001b[39m ru(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"Union\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"Union\"\u001b[39m\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39me\u001b[33m.\u001b[39merrors\u001b[33m.\u001b[39mmap(ru)}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e\u001b[33m.\u001b[39mselectionPath)){\u001b[36mlet\u001b[39m[\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr]\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mselectionPath\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[33m...\u001b[39me\u001b[33m,\u001b[39mselectionPath\u001b[33m:\u001b[39mr}}\u001b[36mreturn\u001b[39m e}\u001b[36mvar\u001b[39m tu\u001b[33m=\u001b[39m\u001b[33mSl\u001b[39m\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m au\u001b[33m=\u001b[39mk(\u001b[33mQi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mD\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mError\u001b[39m{constructor(r){\u001b[36msuper\u001b[39m(r\u001b[33m+\u001b[39m\u001b[32m`\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 125 |\u001b[39m \u001b[32mRead more at https://pris.ly/d/client-constructor`\u001b[39m)\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mname\u001b[33m=\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}}\u001b[33m;\u001b[39mx(\u001b[33mD\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m nu\u001b[33m=\u001b[39m[\u001b[32m\"datasources\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"datasourceUrl\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"errorFormat\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"adapter\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"log\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"transactionOptions\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"omit\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"__internal\"\u001b[39m]\u001b[33m,\u001b[39miu\u001b[33m=\u001b[39m[\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"colorless\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"minimal\"\u001b[39m]\u001b[33m,\u001b[39mou\u001b[33m=\u001b[39m[\u001b[32m\"info\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"warn\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"error\"\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mDf\u001b[39m\u001b[33m=\u001b[39m{datasources\u001b[33m:\u001b[39m(e\u001b[33m,\u001b[39m{datasourceNames\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m e\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for \"datasources\" provided to PrismaClient constructor`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[t\u001b[33m,\u001b[39mn]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(e)){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m.\u001b[39mincludes(t)){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mWr\u001b[39m(t\u001b[33m,\u001b[39mr)\u001b[33m||\u001b[39m\u001b[32m` Available datasources: ${r.join(\", \")}`\u001b[39m\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Unknown datasource ${t} provided to PrismaClient constructor.${i}`\u001b[39m)}\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m n\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(n))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 126 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m\u001b[36mtypeof\u001b[39m n\u001b[33m==\u001b[39m\u001b[32m\"object\"\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[i\u001b[33m,\u001b[39mo]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(n)){\u001b[36mif\u001b[39m(i\u001b[33m!==\u001b[39m\u001b[32m\"url\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 127 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m o\u001b[33m!=\u001b[39m\u001b[32m\"string\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(o)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:7459)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError [as handleAndLogRequestError] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6784)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleAndLogRequestError [as request] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6491)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat l (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:133:9778)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/lib/services/connectionService.integration.test.ts\u001b[39m\u001b[0m\u001b[2m:22:22)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mConnectionService (integration) › should mark connection as revoked\u001b[39m\u001b[22m\n\n    PrismaClientUnknownRequestError: \n    Invalid `prisma.apiConnection.deleteMany()` invocation in\n    /Users/connorbowen/apiq-mvp/tests/integration/lib/services/connectionService.integration.test.ts:40:32\n\n      37 \n      38 afterEach(async () => {\n      39   // Clean up after each test\n    → 40   await prisma.apiConnection.deleteMany(\n    Error occurred during query execution:\n    ConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"25P02\", message: \"current transaction is aborted, commands ignored until end of transaction block\", severity: \"ERROR\", detail: None, column: None, hint: None }), transient: false })\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 122 |\u001b[39m \u001b[32m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 123 |\u001b[39m \u001b[32mMore Information: https://pris.ly/d/execute-raw\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 124 |\u001b[39m \u001b[32m`\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mCo\u001b[39m\u001b[33m=\u001b[39m({clientMethod\u001b[33m:\u001b[39me\u001b[33m,\u001b[39mactiveProvider\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39mt\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[32m\"\"\u001b[39m\u001b[33m,\u001b[39mi\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mFn\u001b[39m(t))n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(t)){\u001b[36mlet\u001b[39m[o\u001b[33m,\u001b[39m\u001b[33m...\u001b[39ms]\u001b[33m=\u001b[39mt\u001b[33m;\u001b[39mn\u001b[33m=\u001b[39mo\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(s\u001b[33m||\u001b[39m[])\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}}\u001b[36melse\u001b[39m \u001b[36mswitch\u001b[39m(r){\u001b[36mcase\u001b[39m\u001b[32m\"sqlite\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"mysql\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"cockroachdb\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgresql\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgres\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mtext\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"sqlserver\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mjl(t)\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`The ${r} provider does not support ${e}`\u001b[39m)}\u001b[36mreturn\u001b[39m i\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mvalues\u001b[33m?\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n}, ${i.values})`\u001b[39m)\u001b[33m:\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n})`\u001b[39m)\u001b[33m,\u001b[39m{query\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mparameters\u001b[33m:\u001b[39mi}}\u001b[33m,\u001b[39m\u001b[33mWl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e\u001b[33m.\u001b[39mstrings\u001b[33m,\u001b[39m\u001b[33m...\u001b[39me\u001b[33m.\u001b[39mvalues]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mlet\u001b[39m[r\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mt]\u001b[33m=\u001b[39me\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m oe(r\u001b[33m,\u001b[39mt)}}\u001b[33m,\u001b[39m\u001b[33mJl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mreturn\u001b[39m e[\u001b[35m0\u001b[39m]}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mAo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mfunction\u001b[39m(t\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m(s\u001b[33m=\u001b[39me)\u001b[33m=>\u001b[39m{\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m s\u001b[33m===\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m||\u001b[39ms\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33m=\u001b[39m\u001b[33mHl\u001b[39m(t(s))\u001b[33m:\u001b[39m\u001b[33mHl\u001b[39m(t(s))}\u001b[36mcatch\u001b[39m(a){\u001b[36mreturn\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mreject(a)}}\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[36mget\u001b[39m spec(){\u001b[36mreturn\u001b[39m n}\u001b[33m,\u001b[39mthen(s\u001b[33m,\u001b[39ma){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39mthen(s\u001b[33m,\u001b[39ma)}\u001b[33m,\u001b[39m\u001b[36mcatch\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(s)}\u001b[33m,\u001b[39m\u001b[36mfinally\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mfinally\u001b[39m(s)}\u001b[33m,\u001b[39mrequestTransaction(s){\u001b[36mlet\u001b[39m a\u001b[33m=\u001b[39mo(s)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m a\u001b[33m.\u001b[39mrequestTransaction\u001b[33m?\u001b[39ma\u001b[33m.\u001b[39mrequestTransaction(s)\u001b[33m:\u001b[39ma}\u001b[33m,\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag]\u001b[33m:\u001b[39m\u001b[32m\"PrismaPromise\"\u001b[39m}}}\u001b[36mfunction\u001b[39m \u001b[33mHl\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mthen\u001b[33m==\u001b[39m\u001b[32m\"function\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39m\u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mresolve(e)}\u001b[36mvar\u001b[39m \u001b[33mTf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mEi\u001b[39m\u001b[33m.\u001b[39msplit(\u001b[32m\".\"\u001b[39m)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mSf\u001b[39m\u001b[33m=\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m}\u001b[33m,\u001b[39mgetTraceParent(){\u001b[36mreturn\u001b[39m\u001b[32m\"00-10-10-00\"\u001b[39m}\u001b[33m,\u001b[39mdispatchEngineSpans(){}\u001b[33m,\u001b[39mgetActiveContext(){}\u001b[33m,\u001b[39mrunInChildSpan(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m r()}}\u001b[33m,\u001b[39m\u001b[33mIo\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39misEnabled()}getTraceParent(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetTraceParent(r)}dispatchEngineSpans(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mdispatchEngineSpans(r)}getActiveContext(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetActiveContext()}runInChildSpan(r\u001b[33m,\u001b[39mt){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mrunInChildSpan(r\u001b[33m,\u001b[39mt)}getGlobalTracingHelper(){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39mglobalThis[\u001b[32m`V${Tf}_PRISMA_INSTRUMENTATION`\u001b[39m]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39mglobalThis\u001b[33m.\u001b[39m\u001b[33mPRISMA_INSTRUMENTATION\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33mSf\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKl\u001b[39m(){\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mIo\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mYl\u001b[39m(e\u001b[33m,\u001b[39mr\u001b[33m=\u001b[39m()\u001b[33m=>\u001b[39m{}){\u001b[36mlet\u001b[39m t\u001b[33m,\u001b[39mn\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m(i\u001b[33m=>\u001b[39mt\u001b[33m=\u001b[39mi)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{then(i){\u001b[36mreturn\u001b[39m\u001b[33m--\u001b[39me\u001b[33m===\u001b[39m\u001b[35m0\u001b[39m\u001b[33m&&\u001b[39mt(r())\u001b[33m,\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m.\u001b[39m(n)}}}\u001b[36mfunction\u001b[39m zl(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mreduce((r\u001b[33m,\u001b[39mt)\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[36mtypeof\u001b[39m t\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mlevel\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m===\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m?\u001b[39mr\u001b[33m:\u001b[39mr\u001b[33m&&\u001b[39m(t\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m||\u001b[39mr\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m)\u001b[33m?\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m:\u001b[39mn}\u001b[33m,\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mHn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{_middlewares\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39muse(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mpush(r)}\u001b[36mget\u001b[39m(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}has(r){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[33m!\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}length(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mlength}}\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mXl\u001b[39m\u001b[33m=\u001b[39mk(\u001b[33mOi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKn\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m==\u001b[39m\u001b[32m\"number\"\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mZl\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUnique\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUniqueOrThrow\"\u001b[39m)\u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mmodelName\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(e\u001b[33m.\u001b[39mmodelName)\u001b[33m,\u001b[39me\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39mselection))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mjoin(\u001b[32m\"\"\u001b[39m)}\u001b[36mfunction\u001b[39m ko(e){\u001b[36mreturn\u001b[39m\u001b[32m`(${Object.keys(e).sort().map(t=>{let n=e[t];return typeof n==\"object\"&&n!==null?`(${t} ${ko(n)})`:t}).join(\" \")})`\u001b[39m}\u001b[36mvar\u001b[39m \u001b[33mRf\u001b[39m\u001b[33m=\u001b[39m{aggregate\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39maggregateRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mcreateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mexecuteRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mfindFirst\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindFirstOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUnique\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUniqueOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mgroupBy\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mqueryRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mrunCommandRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupsertOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mOo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[33mRf\u001b[39m[e]}\u001b[36mvar\u001b[39m \u001b[33mYn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{constructor(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches\u001b[33m=\u001b[39m{}}batches\u001b[33m;\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m;\u001b[39mrequest(r){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchBy(r)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m t\u001b[33m?\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mprocess\u001b[33m.\u001b[39mnextTick(()\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdispatchBatches()\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m})))\u001b[33m,\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m.\u001b[39mpush({request\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mresolve\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mreject\u001b[33m:\u001b[39mi})}))\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(r)}dispatchBatches(){\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m r \u001b[36min\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m;\u001b[39m\u001b[36mdelete\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m,\u001b[39mt\u001b[33m.\u001b[39mlength\u001b[33m===\u001b[39m\u001b[35m1\u001b[39m\u001b[33m?\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mrequest)\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)\u001b[33m:\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mresolve(n)})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)})\u001b[33m:\u001b[39m(t\u001b[33m.\u001b[39msort((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchOrder(n\u001b[33m.\u001b[39mrequest\u001b[33m,\u001b[39mi\u001b[33m.\u001b[39mrequest))\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchLoader(t\u001b[33m.\u001b[39mmap(n\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mrequest))\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m o\u001b[33m=\u001b[39mn[i]\u001b[33m;\u001b[39mo \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[i]\u001b[33m.\u001b[39mreject(o)\u001b[33m:\u001b[39mt[i]\u001b[33m.\u001b[39mresolve(o)}})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)}))}}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"DataLoader\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m mr(e\u001b[33m,\u001b[39mr){\u001b[36mif\u001b[39m(r\u001b[33m===\u001b[39m\u001b[36mnull\u001b[39m)\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mswitch\u001b[39m(e){\u001b[36mcase\u001b[39m\u001b[32m\"bigint\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[33mBigInt\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes\"\u001b[39m\u001b[33m:\u001b[39m{\u001b[36mlet\u001b[39m{buffer\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mbyteOffset\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mbyteLength\u001b[33m:\u001b[39mi}\u001b[33m=\u001b[39m\u001b[33mBuffer\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m(r\u001b[33m,\u001b[39m\u001b[32m\"base64\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mUint8Array\u001b[39m(t\u001b[33m,\u001b[39mn\u001b[33m,\u001b[39mi)}\u001b[36mcase\u001b[39m\u001b[32m\"decimal\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mPe\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(\u001b[32m`1970-01-01T${r}Z`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bigint-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bigint\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bytes\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"decimal-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"decimal\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"datetime\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"date\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"time\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r}}\u001b[36mfunction\u001b[39m zn(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39m\u001b[33mCf\u001b[39m(e)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mn\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mrows\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mn\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mrows[n]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m{\u001b[33m...\u001b[39mt}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m s\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39ms\u001b[33m<\u001b[39m\u001b[33mi\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39ms\u001b[33m++\u001b[39m)o[e\u001b[33m.\u001b[39mcolumns[s]]\u001b[33m=\u001b[39mmr(e\u001b[33m.\u001b[39mtypes[s]\u001b[33m,\u001b[39mi[s])\u001b[33m;\u001b[39mr\u001b[33m.\u001b[39mpush(o)}\u001b[36mreturn\u001b[39m r}\u001b[36mfunction\u001b[39m \u001b[33mCf\u001b[39m(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m{}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mt\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mcolumns\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mt\u001b[33m++\u001b[39m)r[e\u001b[33m.\u001b[39mcolumns[t]]\u001b[33m=\u001b[39m\u001b[36mnull\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r}\u001b[36mvar\u001b[39m \u001b[33mAf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mN\u001b[39m(\u001b[32m\"prisma:client:request_handler\"\u001b[39m)\u001b[33m,\u001b[39m\u001b[33mZn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{client\u001b[33m;\u001b[39mdataloader\u001b[33m;\u001b[39mlogEmitter\u001b[33m;\u001b[39mconstructor(r\u001b[33m,\u001b[39mt){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m=\u001b[39mt\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m=\u001b[39mr\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mYn\u001b[39m({batchLoader\u001b[33m:\u001b[39mol(\u001b[36masync\u001b[39m({requests\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi})\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m{transaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39motelParentCtx\u001b[33m:\u001b[39ms}\u001b[33m=\u001b[39mn[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mmap(p\u001b[33m=>\u001b[39mp\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent(s)\u001b[33m,\u001b[39mu\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39msome(p\u001b[33m=>\u001b[39m\u001b[33mOo\u001b[39m(p\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction))\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m(\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequestBatch(a\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39ml\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39m\u001b[33mIf\u001b[39m(o)\u001b[33m,\u001b[39mcontainsWrite\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi}))\u001b[33m.\u001b[39mmap((p\u001b[33m,\u001b[39md)\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(p \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mreturn\u001b[39m p\u001b[33m;\u001b[39m\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n[d]\u001b[33m,\u001b[39mp)}\u001b[36mcatch\u001b[39m(f){\u001b[36mreturn\u001b[39m f}})})\u001b[33m,\u001b[39msingleLoader\u001b[33m:\u001b[39m\u001b[36masync\u001b[39m n\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39meu(n\u001b[33m.\u001b[39mtransaction)\u001b[33m:\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequest(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent()\u001b[33m,\u001b[39minteractiveTransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39misWrite\u001b[33m:\u001b[39m\u001b[33mOo\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction)\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mn\u001b[33m.\u001b[39mcustomDataProxyFetch})\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n\u001b[33m,\u001b[39mo)}\u001b[33m,\u001b[39mbatchBy\u001b[33m:\u001b[39mn\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mid\u001b[33m?\u001b[39m\u001b[32m`transaction-${n.transaction.id}`\u001b[39m\u001b[33m:\u001b[39m\u001b[33mZl\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39mbatchOrder(n\u001b[33m,\u001b[39mi){\u001b[36mreturn\u001b[39m n\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m?\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m-\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m:\u001b[39m\u001b[35m0\u001b[39m}})}\u001b[36masync\u001b[39m request(r){\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m.\u001b[39mrequest(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mlet\u001b[39m{clientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma}\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleAndLogRequestError({error\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mglobalOmit})}}mapQueryEngineResult({dataPath\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39munpacker\u001b[33m:\u001b[39mt}\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mdata\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39munpack(i\u001b[33m,\u001b[39mr\u001b[33m,\u001b[39mt)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mPRISMA_CLIENT_GET_TIME\u001b[39m\u001b[33m?\u001b[39m{data\u001b[33m:\u001b[39mo}\u001b[33m:\u001b[39mo}handleAndLogRequestError(r){\u001b[36mtry\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleRequestError(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mthrow\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m.\u001b[39memit(\u001b[32m\"error\"\u001b[39m\u001b[33m,\u001b[39m{message\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mmessage\u001b[33m,\u001b[39mtarget\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mclientMethod\u001b[33m,\u001b[39mtimestamp\u001b[33m:\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m})\u001b[33m,\u001b[39mt}}handleRequestError({error\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma}){\u001b[36mif\u001b[39m(\u001b[33mAf\u001b[39m(r)\u001b[33m,\u001b[39mkf(r\u001b[33m,\u001b[39mi))\u001b[36mthrow\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m z\u001b[33m&&\u001b[39m\u001b[33mOf\u001b[39m(r)){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39mru(r\u001b[33m.\u001b[39mmeta)\u001b[33m;\u001b[39mkn({args\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39m[u]\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39merrorFormat\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma})}\u001b[36mlet\u001b[39m l\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mmessage\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m(l\u001b[33m=\u001b[39mwn({callsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39misPanic\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39misPanic\u001b[33m,\u001b[39mshowColors\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m===\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39mmessage\u001b[33m:\u001b[39ml}))\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39msanitizeMessage(l)\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mcode){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39ms\u001b[33m?\u001b[39m{modelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr\u001b[33m.\u001b[39mmeta}\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mmeta\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m z(l\u001b[33m,\u001b[39m{code\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mcode\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mmeta\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})}\u001b[36melse\u001b[39m{\u001b[36mif\u001b[39m(r\u001b[33m.\u001b[39misPanic)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m j)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m j(l\u001b[33m,\u001b[39m{clientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m \u001b[33mT\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mT\u001b[39m(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m le)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)}\u001b[36mthrow\u001b[39m r\u001b[33m.\u001b[39mclientVersion\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mr}sanitizeMessage(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m!==\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m?\u001b[39m(\u001b[35m0\u001b[39m\u001b[33m,\u001b[39m\u001b[33mXl\u001b[39m\u001b[33m.\u001b[39m\u001b[36mdefault\u001b[39m)(r)\u001b[33m:\u001b[39mr}unpack(r\u001b[33m,\u001b[39mt\u001b[33m,\u001b[39mn){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m||\u001b[39m(r\u001b[33m.\u001b[39mdata\u001b[33m&&\u001b[39m(r\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mdata)\u001b[33m,\u001b[39m\u001b[33m!\u001b[39mr))\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mvalues(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ms\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mfilter(u\u001b[33m=>\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"select\"\u001b[39m\u001b[33m&&\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"include\"\u001b[39m)\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mio(o\u001b[33m,\u001b[39ms)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39mi\u001b[33m===\u001b[39m\u001b[32m\"queryRaw\"\u001b[39m\u001b[33m?\u001b[39mzn(a)\u001b[33m:\u001b[39m\u001b[33mTr\u001b[39m(a)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m?\u001b[39mn(l)\u001b[33m:\u001b[39ml}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"RequestHandler\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mIf\u001b[39m(e){\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39m{isolationLevel\u001b[33m:\u001b[39me\u001b[33m.\u001b[39misolationLevel}}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39meu(e)}\u001b[33m;\u001b[39m_e(e\u001b[33m,\u001b[39m\u001b[32m\"Unknown transaction kind\"\u001b[39m)}}\u001b[36mfunction\u001b[39m eu(e){\u001b[36mreturn\u001b[39m{id\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39mpayload\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mpayload}}\u001b[36mfunction\u001b[39m kf(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m \u001b[33mKn\u001b[39m(e)\u001b[33m&&\u001b[39mr\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m!==\u001b[39mr\u001b[33m.\u001b[39mindex}\u001b[36mfunction\u001b[39m \u001b[33mOf\u001b[39m(e){\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2009\"\u001b[39m\u001b[33m||\u001b[39me\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2012\"\u001b[39m}\u001b[36mfunction\u001b[39m ru(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"Union\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"Union\"\u001b[39m\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39me\u001b[33m.\u001b[39merrors\u001b[33m.\u001b[39mmap(ru)}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e\u001b[33m.\u001b[39mselectionPath)){\u001b[36mlet\u001b[39m[\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr]\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mselectionPath\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[33m...\u001b[39me\u001b[33m,\u001b[39mselectionPath\u001b[33m:\u001b[39mr}}\u001b[36mreturn\u001b[39m e}\u001b[36mvar\u001b[39m tu\u001b[33m=\u001b[39m\u001b[33mSl\u001b[39m\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m au\u001b[33m=\u001b[39mk(\u001b[33mQi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mD\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mError\u001b[39m{constructor(r){\u001b[36msuper\u001b[39m(r\u001b[33m+\u001b[39m\u001b[32m`\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 125 |\u001b[39m \u001b[32mRead more at https://pris.ly/d/client-constructor`\u001b[39m)\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mname\u001b[33m=\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}}\u001b[33m;\u001b[39mx(\u001b[33mD\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m nu\u001b[33m=\u001b[39m[\u001b[32m\"datasources\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"datasourceUrl\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"errorFormat\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"adapter\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"log\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"transactionOptions\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"omit\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"__internal\"\u001b[39m]\u001b[33m,\u001b[39miu\u001b[33m=\u001b[39m[\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"colorless\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"minimal\"\u001b[39m]\u001b[33m,\u001b[39mou\u001b[33m=\u001b[39m[\u001b[32m\"info\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"warn\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"error\"\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mDf\u001b[39m\u001b[33m=\u001b[39m{datasources\u001b[33m:\u001b[39m(e\u001b[33m,\u001b[39m{datasourceNames\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m e\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for \"datasources\" provided to PrismaClient constructor`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[t\u001b[33m,\u001b[39mn]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(e)){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m.\u001b[39mincludes(t)){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mWr\u001b[39m(t\u001b[33m,\u001b[39mr)\u001b[33m||\u001b[39m\u001b[32m` Available datasources: ${r.join(\", \")}`\u001b[39m\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Unknown datasource ${t} provided to PrismaClient constructor.${i}`\u001b[39m)}\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m n\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(n))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 126 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m\u001b[36mtypeof\u001b[39m n\u001b[33m==\u001b[39m\u001b[32m\"object\"\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[i\u001b[33m,\u001b[39mo]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(n)){\u001b[36mif\u001b[39m(i\u001b[33m!==\u001b[39m\u001b[32m\"url\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 127 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m o\u001b[33m!=\u001b[39m\u001b[32m\"string\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(o)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:7649)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError [as handleAndLogRequestError] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6784)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleAndLogRequestError [as request] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6491)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat l (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:133:9778)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/lib/services/connectionService.integration.test.ts\u001b[39m\u001b[0m\u001b[2m:40:5)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mConnectionService (integration) › should find connection by oauth state\u001b[39m\u001b[22m\n\n    PrismaClientKnownRequestError: \n    Invalid `prisma.apiConnection.create()` invocation in\n    /Users/connorbowen/apiq-mvp/tests/integration/lib/services/connectionService.integration.test.ts:22:49\n\n      19 \n      20 beforeEach(async () => {\n      21   // Create a fresh test connection for each test\n    → 22   testConnection = await prisma.apiConnection.create(\n    Foreign key constraint violated on the constraint: `api_connections_userId_fkey`\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 122 |\u001b[39m \u001b[32m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 123 |\u001b[39m \u001b[32mMore Information: https://pris.ly/d/execute-raw\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 124 |\u001b[39m \u001b[32m`\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mCo\u001b[39m\u001b[33m=\u001b[39m({clientMethod\u001b[33m:\u001b[39me\u001b[33m,\u001b[39mactiveProvider\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39mt\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[32m\"\"\u001b[39m\u001b[33m,\u001b[39mi\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mFn\u001b[39m(t))n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(t)){\u001b[36mlet\u001b[39m[o\u001b[33m,\u001b[39m\u001b[33m...\u001b[39ms]\u001b[33m=\u001b[39mt\u001b[33m;\u001b[39mn\u001b[33m=\u001b[39mo\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(s\u001b[33m||\u001b[39m[])\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}}\u001b[36melse\u001b[39m \u001b[36mswitch\u001b[39m(r){\u001b[36mcase\u001b[39m\u001b[32m\"sqlite\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"mysql\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"cockroachdb\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgresql\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgres\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mtext\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"sqlserver\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mjl(t)\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`The ${r} provider does not support ${e}`\u001b[39m)}\u001b[36mreturn\u001b[39m i\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mvalues\u001b[33m?\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n}, ${i.values})`\u001b[39m)\u001b[33m:\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n})`\u001b[39m)\u001b[33m,\u001b[39m{query\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mparameters\u001b[33m:\u001b[39mi}}\u001b[33m,\u001b[39m\u001b[33mWl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e\u001b[33m.\u001b[39mstrings\u001b[33m,\u001b[39m\u001b[33m...\u001b[39me\u001b[33m.\u001b[39mvalues]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mlet\u001b[39m[r\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mt]\u001b[33m=\u001b[39me\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m oe(r\u001b[33m,\u001b[39mt)}}\u001b[33m,\u001b[39m\u001b[33mJl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mreturn\u001b[39m e[\u001b[35m0\u001b[39m]}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mAo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mfunction\u001b[39m(t\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m(s\u001b[33m=\u001b[39me)\u001b[33m=>\u001b[39m{\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m s\u001b[33m===\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m||\u001b[39ms\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33m=\u001b[39m\u001b[33mHl\u001b[39m(t(s))\u001b[33m:\u001b[39m\u001b[33mHl\u001b[39m(t(s))}\u001b[36mcatch\u001b[39m(a){\u001b[36mreturn\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mreject(a)}}\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[36mget\u001b[39m spec(){\u001b[36mreturn\u001b[39m n}\u001b[33m,\u001b[39mthen(s\u001b[33m,\u001b[39ma){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39mthen(s\u001b[33m,\u001b[39ma)}\u001b[33m,\u001b[39m\u001b[36mcatch\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(s)}\u001b[33m,\u001b[39m\u001b[36mfinally\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mfinally\u001b[39m(s)}\u001b[33m,\u001b[39mrequestTransaction(s){\u001b[36mlet\u001b[39m a\u001b[33m=\u001b[39mo(s)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m a\u001b[33m.\u001b[39mrequestTransaction\u001b[33m?\u001b[39ma\u001b[33m.\u001b[39mrequestTransaction(s)\u001b[33m:\u001b[39ma}\u001b[33m,\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag]\u001b[33m:\u001b[39m\u001b[32m\"PrismaPromise\"\u001b[39m}}}\u001b[36mfunction\u001b[39m \u001b[33mHl\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mthen\u001b[33m==\u001b[39m\u001b[32m\"function\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39m\u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mresolve(e)}\u001b[36mvar\u001b[39m \u001b[33mTf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mEi\u001b[39m\u001b[33m.\u001b[39msplit(\u001b[32m\".\"\u001b[39m)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mSf\u001b[39m\u001b[33m=\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m}\u001b[33m,\u001b[39mgetTraceParent(){\u001b[36mreturn\u001b[39m\u001b[32m\"00-10-10-00\"\u001b[39m}\u001b[33m,\u001b[39mdispatchEngineSpans(){}\u001b[33m,\u001b[39mgetActiveContext(){}\u001b[33m,\u001b[39mrunInChildSpan(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m r()}}\u001b[33m,\u001b[39m\u001b[33mIo\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39misEnabled()}getTraceParent(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetTraceParent(r)}dispatchEngineSpans(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mdispatchEngineSpans(r)}getActiveContext(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetActiveContext()}runInChildSpan(r\u001b[33m,\u001b[39mt){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mrunInChildSpan(r\u001b[33m,\u001b[39mt)}getGlobalTracingHelper(){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39mglobalThis[\u001b[32m`V${Tf}_PRISMA_INSTRUMENTATION`\u001b[39m]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39mglobalThis\u001b[33m.\u001b[39m\u001b[33mPRISMA_INSTRUMENTATION\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33mSf\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKl\u001b[39m(){\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mIo\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mYl\u001b[39m(e\u001b[33m,\u001b[39mr\u001b[33m=\u001b[39m()\u001b[33m=>\u001b[39m{}){\u001b[36mlet\u001b[39m t\u001b[33m,\u001b[39mn\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m(i\u001b[33m=>\u001b[39mt\u001b[33m=\u001b[39mi)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{then(i){\u001b[36mreturn\u001b[39m\u001b[33m--\u001b[39me\u001b[33m===\u001b[39m\u001b[35m0\u001b[39m\u001b[33m&&\u001b[39mt(r())\u001b[33m,\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m.\u001b[39m(n)}}}\u001b[36mfunction\u001b[39m zl(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mreduce((r\u001b[33m,\u001b[39mt)\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[36mtypeof\u001b[39m t\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mlevel\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m===\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m?\u001b[39mr\u001b[33m:\u001b[39mr\u001b[33m&&\u001b[39m(t\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m||\u001b[39mr\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m)\u001b[33m?\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m:\u001b[39mn}\u001b[33m,\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mHn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{_middlewares\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39muse(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mpush(r)}\u001b[36mget\u001b[39m(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}has(r){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[33m!\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}length(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mlength}}\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mXl\u001b[39m\u001b[33m=\u001b[39mk(\u001b[33mOi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKn\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m==\u001b[39m\u001b[32m\"number\"\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mZl\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUnique\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUniqueOrThrow\"\u001b[39m)\u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mmodelName\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(e\u001b[33m.\u001b[39mmodelName)\u001b[33m,\u001b[39me\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39mselection))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mjoin(\u001b[32m\"\"\u001b[39m)}\u001b[36mfunction\u001b[39m ko(e){\u001b[36mreturn\u001b[39m\u001b[32m`(${Object.keys(e).sort().map(t=>{let n=e[t];return typeof n==\"object\"&&n!==null?`(${t} ${ko(n)})`:t}).join(\" \")})`\u001b[39m}\u001b[36mvar\u001b[39m \u001b[33mRf\u001b[39m\u001b[33m=\u001b[39m{aggregate\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39maggregateRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mcreateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mexecuteRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mfindFirst\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindFirstOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUnique\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUniqueOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mgroupBy\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mqueryRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mrunCommandRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupsertOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mOo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[33mRf\u001b[39m[e]}\u001b[36mvar\u001b[39m \u001b[33mYn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{constructor(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches\u001b[33m=\u001b[39m{}}batches\u001b[33m;\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m;\u001b[39mrequest(r){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchBy(r)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m t\u001b[33m?\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mprocess\u001b[33m.\u001b[39mnextTick(()\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdispatchBatches()\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m})))\u001b[33m,\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m.\u001b[39mpush({request\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mresolve\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mreject\u001b[33m:\u001b[39mi})}))\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(r)}dispatchBatches(){\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m r \u001b[36min\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m;\u001b[39m\u001b[36mdelete\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m,\u001b[39mt\u001b[33m.\u001b[39mlength\u001b[33m===\u001b[39m\u001b[35m1\u001b[39m\u001b[33m?\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mrequest)\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)\u001b[33m:\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mresolve(n)})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)})\u001b[33m:\u001b[39m(t\u001b[33m.\u001b[39msort((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchOrder(n\u001b[33m.\u001b[39mrequest\u001b[33m,\u001b[39mi\u001b[33m.\u001b[39mrequest))\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchLoader(t\u001b[33m.\u001b[39mmap(n\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mrequest))\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m o\u001b[33m=\u001b[39mn[i]\u001b[33m;\u001b[39mo \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[i]\u001b[33m.\u001b[39mreject(o)\u001b[33m:\u001b[39mt[i]\u001b[33m.\u001b[39mresolve(o)}})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)}))}}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"DataLoader\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m mr(e\u001b[33m,\u001b[39mr){\u001b[36mif\u001b[39m(r\u001b[33m===\u001b[39m\u001b[36mnull\u001b[39m)\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mswitch\u001b[39m(e){\u001b[36mcase\u001b[39m\u001b[32m\"bigint\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[33mBigInt\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes\"\u001b[39m\u001b[33m:\u001b[39m{\u001b[36mlet\u001b[39m{buffer\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mbyteOffset\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mbyteLength\u001b[33m:\u001b[39mi}\u001b[33m=\u001b[39m\u001b[33mBuffer\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m(r\u001b[33m,\u001b[39m\u001b[32m\"base64\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mUint8Array\u001b[39m(t\u001b[33m,\u001b[39mn\u001b[33m,\u001b[39mi)}\u001b[36mcase\u001b[39m\u001b[32m\"decimal\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mPe\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(\u001b[32m`1970-01-01T${r}Z`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bigint-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bigint\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bytes\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"decimal-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"decimal\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"datetime\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"date\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"time\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r}}\u001b[36mfunction\u001b[39m zn(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39m\u001b[33mCf\u001b[39m(e)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mn\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mrows\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mn\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mrows[n]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m{\u001b[33m...\u001b[39mt}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m s\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39ms\u001b[33m<\u001b[39m\u001b[33mi\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39ms\u001b[33m++\u001b[39m)o[e\u001b[33m.\u001b[39mcolumns[s]]\u001b[33m=\u001b[39mmr(e\u001b[33m.\u001b[39mtypes[s]\u001b[33m,\u001b[39mi[s])\u001b[33m;\u001b[39mr\u001b[33m.\u001b[39mpush(o)}\u001b[36mreturn\u001b[39m r}\u001b[36mfunction\u001b[39m \u001b[33mCf\u001b[39m(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m{}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mt\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mcolumns\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mt\u001b[33m++\u001b[39m)r[e\u001b[33m.\u001b[39mcolumns[t]]\u001b[33m=\u001b[39m\u001b[36mnull\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r}\u001b[36mvar\u001b[39m \u001b[33mAf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mN\u001b[39m(\u001b[32m\"prisma:client:request_handler\"\u001b[39m)\u001b[33m,\u001b[39m\u001b[33mZn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{client\u001b[33m;\u001b[39mdataloader\u001b[33m;\u001b[39mlogEmitter\u001b[33m;\u001b[39mconstructor(r\u001b[33m,\u001b[39mt){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m=\u001b[39mt\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m=\u001b[39mr\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mYn\u001b[39m({batchLoader\u001b[33m:\u001b[39mol(\u001b[36masync\u001b[39m({requests\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi})\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m{transaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39motelParentCtx\u001b[33m:\u001b[39ms}\u001b[33m=\u001b[39mn[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mmap(p\u001b[33m=>\u001b[39mp\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent(s)\u001b[33m,\u001b[39mu\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39msome(p\u001b[33m=>\u001b[39m\u001b[33mOo\u001b[39m(p\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction))\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m(\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequestBatch(a\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39ml\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39m\u001b[33mIf\u001b[39m(o)\u001b[33m,\u001b[39mcontainsWrite\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi}))\u001b[33m.\u001b[39mmap((p\u001b[33m,\u001b[39md)\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(p \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mreturn\u001b[39m p\u001b[33m;\u001b[39m\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n[d]\u001b[33m,\u001b[39mp)}\u001b[36mcatch\u001b[39m(f){\u001b[36mreturn\u001b[39m f}})})\u001b[33m,\u001b[39msingleLoader\u001b[33m:\u001b[39m\u001b[36masync\u001b[39m n\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39meu(n\u001b[33m.\u001b[39mtransaction)\u001b[33m:\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequest(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent()\u001b[33m,\u001b[39minteractiveTransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39misWrite\u001b[33m:\u001b[39m\u001b[33mOo\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction)\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mn\u001b[33m.\u001b[39mcustomDataProxyFetch})\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n\u001b[33m,\u001b[39mo)}\u001b[33m,\u001b[39mbatchBy\u001b[33m:\u001b[39mn\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mid\u001b[33m?\u001b[39m\u001b[32m`transaction-${n.transaction.id}`\u001b[39m\u001b[33m:\u001b[39m\u001b[33mZl\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39mbatchOrder(n\u001b[33m,\u001b[39mi){\u001b[36mreturn\u001b[39m n\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m?\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m-\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m:\u001b[39m\u001b[35m0\u001b[39m}})}\u001b[36masync\u001b[39m request(r){\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m.\u001b[39mrequest(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mlet\u001b[39m{clientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma}\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleAndLogRequestError({error\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mglobalOmit})}}mapQueryEngineResult({dataPath\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39munpacker\u001b[33m:\u001b[39mt}\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mdata\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39munpack(i\u001b[33m,\u001b[39mr\u001b[33m,\u001b[39mt)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mPRISMA_CLIENT_GET_TIME\u001b[39m\u001b[33m?\u001b[39m{data\u001b[33m:\u001b[39mo}\u001b[33m:\u001b[39mo}handleAndLogRequestError(r){\u001b[36mtry\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleRequestError(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mthrow\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m.\u001b[39memit(\u001b[32m\"error\"\u001b[39m\u001b[33m,\u001b[39m{message\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mmessage\u001b[33m,\u001b[39mtarget\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mclientMethod\u001b[33m,\u001b[39mtimestamp\u001b[33m:\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m})\u001b[33m,\u001b[39mt}}handleRequestError({error\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma}){\u001b[36mif\u001b[39m(\u001b[33mAf\u001b[39m(r)\u001b[33m,\u001b[39mkf(r\u001b[33m,\u001b[39mi))\u001b[36mthrow\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m z\u001b[33m&&\u001b[39m\u001b[33mOf\u001b[39m(r)){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39mru(r\u001b[33m.\u001b[39mmeta)\u001b[33m;\u001b[39mkn({args\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39m[u]\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39merrorFormat\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma})}\u001b[36mlet\u001b[39m l\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mmessage\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m(l\u001b[33m=\u001b[39mwn({callsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39misPanic\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39misPanic\u001b[33m,\u001b[39mshowColors\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m===\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39mmessage\u001b[33m:\u001b[39ml}))\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39msanitizeMessage(l)\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mcode){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39ms\u001b[33m?\u001b[39m{modelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr\u001b[33m.\u001b[39mmeta}\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mmeta\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m z(l\u001b[33m,\u001b[39m{code\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mcode\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mmeta\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})}\u001b[36melse\u001b[39m{\u001b[36mif\u001b[39m(r\u001b[33m.\u001b[39misPanic)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m j)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m j(l\u001b[33m,\u001b[39m{clientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m \u001b[33mT\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mT\u001b[39m(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m le)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)}\u001b[36mthrow\u001b[39m r\u001b[33m.\u001b[39mclientVersion\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mr}sanitizeMessage(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m!==\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m?\u001b[39m(\u001b[35m0\u001b[39m\u001b[33m,\u001b[39m\u001b[33mXl\u001b[39m\u001b[33m.\u001b[39m\u001b[36mdefault\u001b[39m)(r)\u001b[33m:\u001b[39mr}unpack(r\u001b[33m,\u001b[39mt\u001b[33m,\u001b[39mn){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m||\u001b[39m(r\u001b[33m.\u001b[39mdata\u001b[33m&&\u001b[39m(r\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mdata)\u001b[33m,\u001b[39m\u001b[33m!\u001b[39mr))\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mvalues(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ms\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mfilter(u\u001b[33m=>\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"select\"\u001b[39m\u001b[33m&&\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"include\"\u001b[39m)\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mio(o\u001b[33m,\u001b[39ms)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39mi\u001b[33m===\u001b[39m\u001b[32m\"queryRaw\"\u001b[39m\u001b[33m?\u001b[39mzn(a)\u001b[33m:\u001b[39m\u001b[33mTr\u001b[39m(a)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m?\u001b[39mn(l)\u001b[33m:\u001b[39ml}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"RequestHandler\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mIf\u001b[39m(e){\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39m{isolationLevel\u001b[33m:\u001b[39me\u001b[33m.\u001b[39misolationLevel}}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39meu(e)}\u001b[33m;\u001b[39m_e(e\u001b[33m,\u001b[39m\u001b[32m\"Unknown transaction kind\"\u001b[39m)}}\u001b[36mfunction\u001b[39m eu(e){\u001b[36mreturn\u001b[39m{id\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39mpayload\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mpayload}}\u001b[36mfunction\u001b[39m kf(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m \u001b[33mKn\u001b[39m(e)\u001b[33m&&\u001b[39mr\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m!==\u001b[39mr\u001b[33m.\u001b[39mindex}\u001b[36mfunction\u001b[39m \u001b[33mOf\u001b[39m(e){\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2009\"\u001b[39m\u001b[33m||\u001b[39me\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2012\"\u001b[39m}\u001b[36mfunction\u001b[39m ru(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"Union\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"Union\"\u001b[39m\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39me\u001b[33m.\u001b[39merrors\u001b[33m.\u001b[39mmap(ru)}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e\u001b[33m.\u001b[39mselectionPath)){\u001b[36mlet\u001b[39m[\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr]\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mselectionPath\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[33m...\u001b[39me\u001b[33m,\u001b[39mselectionPath\u001b[33m:\u001b[39mr}}\u001b[36mreturn\u001b[39m e}\u001b[36mvar\u001b[39m tu\u001b[33m=\u001b[39m\u001b[33mSl\u001b[39m\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m au\u001b[33m=\u001b[39mk(\u001b[33mQi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mD\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mError\u001b[39m{constructor(r){\u001b[36msuper\u001b[39m(r\u001b[33m+\u001b[39m\u001b[32m`\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 125 |\u001b[39m \u001b[32mRead more at https://pris.ly/d/client-constructor`\u001b[39m)\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mname\u001b[33m=\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}}\u001b[33m;\u001b[39mx(\u001b[33mD\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m nu\u001b[33m=\u001b[39m[\u001b[32m\"datasources\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"datasourceUrl\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"errorFormat\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"adapter\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"log\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"transactionOptions\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"omit\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"__internal\"\u001b[39m]\u001b[33m,\u001b[39miu\u001b[33m=\u001b[39m[\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"colorless\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"minimal\"\u001b[39m]\u001b[33m,\u001b[39mou\u001b[33m=\u001b[39m[\u001b[32m\"info\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"warn\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"error\"\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mDf\u001b[39m\u001b[33m=\u001b[39m{datasources\u001b[33m:\u001b[39m(e\u001b[33m,\u001b[39m{datasourceNames\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m e\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for \"datasources\" provided to PrismaClient constructor`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[t\u001b[33m,\u001b[39mn]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(e)){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m.\u001b[39mincludes(t)){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mWr\u001b[39m(t\u001b[33m,\u001b[39mr)\u001b[33m||\u001b[39m\u001b[32m` Available datasources: ${r.join(\", \")}`\u001b[39m\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Unknown datasource ${t} provided to PrismaClient constructor.${i}`\u001b[39m)}\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m n\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(n))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 126 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m\u001b[36mtypeof\u001b[39m n\u001b[33m==\u001b[39m\u001b[32m\"object\"\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[i\u001b[33m,\u001b[39mo]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(n)){\u001b[36mif\u001b[39m(i\u001b[33m!==\u001b[39m\u001b[32m\"url\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 127 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m o\u001b[33m!=\u001b[39m\u001b[32m\"string\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(o)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:7459)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError [as handleAndLogRequestError] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6784)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleAndLogRequestError [as request] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6491)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat l (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:133:9778)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/lib/services/connectionService.integration.test.ts\u001b[39m\u001b[0m\u001b[2m:22:22)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mConnectionService (integration) › should find connection by oauth state\u001b[39m\u001b[22m\n\n    PrismaClientUnknownRequestError: \n    Invalid `prisma.apiConnection.deleteMany()` invocation in\n    /Users/connorbowen/apiq-mvp/tests/integration/lib/services/connectionService.integration.test.ts:40:32\n\n      37 \n      38 afterEach(async () => {\n      39   // Clean up after each test\n    → 40   await prisma.apiConnection.deleteMany(\n    Error occurred during query execution:\n    ConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"25P02\", message: \"current transaction is aborted, commands ignored until end of transaction block\", severity: \"ERROR\", detail: None, column: None, hint: None }), transient: false })\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 122 |\u001b[39m \u001b[32m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 123 |\u001b[39m \u001b[32mMore Information: https://pris.ly/d/execute-raw\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 124 |\u001b[39m \u001b[32m`\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mCo\u001b[39m\u001b[33m=\u001b[39m({clientMethod\u001b[33m:\u001b[39me\u001b[33m,\u001b[39mactiveProvider\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39mt\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[32m\"\"\u001b[39m\u001b[33m,\u001b[39mi\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mFn\u001b[39m(t))n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(t)){\u001b[36mlet\u001b[39m[o\u001b[33m,\u001b[39m\u001b[33m...\u001b[39ms]\u001b[33m=\u001b[39mt\u001b[33m;\u001b[39mn\u001b[33m=\u001b[39mo\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(s\u001b[33m||\u001b[39m[])\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}}\u001b[36melse\u001b[39m \u001b[36mswitch\u001b[39m(r){\u001b[36mcase\u001b[39m\u001b[32m\"sqlite\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"mysql\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"cockroachdb\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgresql\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgres\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mtext\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"sqlserver\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mjl(t)\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`The ${r} provider does not support ${e}`\u001b[39m)}\u001b[36mreturn\u001b[39m i\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mvalues\u001b[33m?\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n}, ${i.values})`\u001b[39m)\u001b[33m:\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n})`\u001b[39m)\u001b[33m,\u001b[39m{query\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mparameters\u001b[33m:\u001b[39mi}}\u001b[33m,\u001b[39m\u001b[33mWl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e\u001b[33m.\u001b[39mstrings\u001b[33m,\u001b[39m\u001b[33m...\u001b[39me\u001b[33m.\u001b[39mvalues]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mlet\u001b[39m[r\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mt]\u001b[33m=\u001b[39me\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m oe(r\u001b[33m,\u001b[39mt)}}\u001b[33m,\u001b[39m\u001b[33mJl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mreturn\u001b[39m e[\u001b[35m0\u001b[39m]}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mAo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mfunction\u001b[39m(t\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m(s\u001b[33m=\u001b[39me)\u001b[33m=>\u001b[39m{\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m s\u001b[33m===\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m||\u001b[39ms\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33m=\u001b[39m\u001b[33mHl\u001b[39m(t(s))\u001b[33m:\u001b[39m\u001b[33mHl\u001b[39m(t(s))}\u001b[36mcatch\u001b[39m(a){\u001b[36mreturn\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mreject(a)}}\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[36mget\u001b[39m spec(){\u001b[36mreturn\u001b[39m n}\u001b[33m,\u001b[39mthen(s\u001b[33m,\u001b[39ma){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39mthen(s\u001b[33m,\u001b[39ma)}\u001b[33m,\u001b[39m\u001b[36mcatch\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(s)}\u001b[33m,\u001b[39m\u001b[36mfinally\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mfinally\u001b[39m(s)}\u001b[33m,\u001b[39mrequestTransaction(s){\u001b[36mlet\u001b[39m a\u001b[33m=\u001b[39mo(s)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m a\u001b[33m.\u001b[39mrequestTransaction\u001b[33m?\u001b[39ma\u001b[33m.\u001b[39mrequestTransaction(s)\u001b[33m:\u001b[39ma}\u001b[33m,\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag]\u001b[33m:\u001b[39m\u001b[32m\"PrismaPromise\"\u001b[39m}}}\u001b[36mfunction\u001b[39m \u001b[33mHl\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mthen\u001b[33m==\u001b[39m\u001b[32m\"function\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39m\u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mresolve(e)}\u001b[36mvar\u001b[39m \u001b[33mTf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mEi\u001b[39m\u001b[33m.\u001b[39msplit(\u001b[32m\".\"\u001b[39m)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mSf\u001b[39m\u001b[33m=\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m}\u001b[33m,\u001b[39mgetTraceParent(){\u001b[36mreturn\u001b[39m\u001b[32m\"00-10-10-00\"\u001b[39m}\u001b[33m,\u001b[39mdispatchEngineSpans(){}\u001b[33m,\u001b[39mgetActiveContext(){}\u001b[33m,\u001b[39mrunInChildSpan(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m r()}}\u001b[33m,\u001b[39m\u001b[33mIo\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39misEnabled()}getTraceParent(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetTraceParent(r)}dispatchEngineSpans(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mdispatchEngineSpans(r)}getActiveContext(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetActiveContext()}runInChildSpan(r\u001b[33m,\u001b[39mt){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mrunInChildSpan(r\u001b[33m,\u001b[39mt)}getGlobalTracingHelper(){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39mglobalThis[\u001b[32m`V${Tf}_PRISMA_INSTRUMENTATION`\u001b[39m]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39mglobalThis\u001b[33m.\u001b[39m\u001b[33mPRISMA_INSTRUMENTATION\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33mSf\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKl\u001b[39m(){\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mIo\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mYl\u001b[39m(e\u001b[33m,\u001b[39mr\u001b[33m=\u001b[39m()\u001b[33m=>\u001b[39m{}){\u001b[36mlet\u001b[39m t\u001b[33m,\u001b[39mn\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m(i\u001b[33m=>\u001b[39mt\u001b[33m=\u001b[39mi)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{then(i){\u001b[36mreturn\u001b[39m\u001b[33m--\u001b[39me\u001b[33m===\u001b[39m\u001b[35m0\u001b[39m\u001b[33m&&\u001b[39mt(r())\u001b[33m,\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m.\u001b[39m(n)}}}\u001b[36mfunction\u001b[39m zl(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mreduce((r\u001b[33m,\u001b[39mt)\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[36mtypeof\u001b[39m t\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mlevel\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m===\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m?\u001b[39mr\u001b[33m:\u001b[39mr\u001b[33m&&\u001b[39m(t\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m||\u001b[39mr\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m)\u001b[33m?\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m:\u001b[39mn}\u001b[33m,\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mHn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{_middlewares\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39muse(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mpush(r)}\u001b[36mget\u001b[39m(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}has(r){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[33m!\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}length(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mlength}}\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mXl\u001b[39m\u001b[33m=\u001b[39mk(\u001b[33mOi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKn\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m==\u001b[39m\u001b[32m\"number\"\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mZl\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUnique\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUniqueOrThrow\"\u001b[39m)\u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mmodelName\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(e\u001b[33m.\u001b[39mmodelName)\u001b[33m,\u001b[39me\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39mselection))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mjoin(\u001b[32m\"\"\u001b[39m)}\u001b[36mfunction\u001b[39m ko(e){\u001b[36mreturn\u001b[39m\u001b[32m`(${Object.keys(e).sort().map(t=>{let n=e[t];return typeof n==\"object\"&&n!==null?`(${t} ${ko(n)})`:t}).join(\" \")})`\u001b[39m}\u001b[36mvar\u001b[39m \u001b[33mRf\u001b[39m\u001b[33m=\u001b[39m{aggregate\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39maggregateRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mcreateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mexecuteRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mfindFirst\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindFirstOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUnique\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUniqueOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mgroupBy\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mqueryRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mrunCommandRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupsertOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mOo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[33mRf\u001b[39m[e]}\u001b[36mvar\u001b[39m \u001b[33mYn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{constructor(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches\u001b[33m=\u001b[39m{}}batches\u001b[33m;\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m;\u001b[39mrequest(r){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchBy(r)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m t\u001b[33m?\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mprocess\u001b[33m.\u001b[39mnextTick(()\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdispatchBatches()\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m})))\u001b[33m,\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m.\u001b[39mpush({request\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mresolve\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mreject\u001b[33m:\u001b[39mi})}))\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(r)}dispatchBatches(){\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m r \u001b[36min\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m;\u001b[39m\u001b[36mdelete\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m,\u001b[39mt\u001b[33m.\u001b[39mlength\u001b[33m===\u001b[39m\u001b[35m1\u001b[39m\u001b[33m?\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mrequest)\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)\u001b[33m:\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mresolve(n)})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)})\u001b[33m:\u001b[39m(t\u001b[33m.\u001b[39msort((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchOrder(n\u001b[33m.\u001b[39mrequest\u001b[33m,\u001b[39mi\u001b[33m.\u001b[39mrequest))\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchLoader(t\u001b[33m.\u001b[39mmap(n\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mrequest))\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m o\u001b[33m=\u001b[39mn[i]\u001b[33m;\u001b[39mo \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[i]\u001b[33m.\u001b[39mreject(o)\u001b[33m:\u001b[39mt[i]\u001b[33m.\u001b[39mresolve(o)}})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)}))}}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"DataLoader\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m mr(e\u001b[33m,\u001b[39mr){\u001b[36mif\u001b[39m(r\u001b[33m===\u001b[39m\u001b[36mnull\u001b[39m)\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mswitch\u001b[39m(e){\u001b[36mcase\u001b[39m\u001b[32m\"bigint\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[33mBigInt\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes\"\u001b[39m\u001b[33m:\u001b[39m{\u001b[36mlet\u001b[39m{buffer\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mbyteOffset\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mbyteLength\u001b[33m:\u001b[39mi}\u001b[33m=\u001b[39m\u001b[33mBuffer\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m(r\u001b[33m,\u001b[39m\u001b[32m\"base64\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mUint8Array\u001b[39m(t\u001b[33m,\u001b[39mn\u001b[33m,\u001b[39mi)}\u001b[36mcase\u001b[39m\u001b[32m\"decimal\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mPe\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(\u001b[32m`1970-01-01T${r}Z`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bigint-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bigint\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bytes\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"decimal-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"decimal\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"datetime\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"date\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"time\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r}}\u001b[36mfunction\u001b[39m zn(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39m\u001b[33mCf\u001b[39m(e)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mn\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mrows\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mn\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mrows[n]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m{\u001b[33m...\u001b[39mt}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m s\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39ms\u001b[33m<\u001b[39m\u001b[33mi\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39ms\u001b[33m++\u001b[39m)o[e\u001b[33m.\u001b[39mcolumns[s]]\u001b[33m=\u001b[39mmr(e\u001b[33m.\u001b[39mtypes[s]\u001b[33m,\u001b[39mi[s])\u001b[33m;\u001b[39mr\u001b[33m.\u001b[39mpush(o)}\u001b[36mreturn\u001b[39m r}\u001b[36mfunction\u001b[39m \u001b[33mCf\u001b[39m(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m{}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mt\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mcolumns\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mt\u001b[33m++\u001b[39m)r[e\u001b[33m.\u001b[39mcolumns[t]]\u001b[33m=\u001b[39m\u001b[36mnull\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r}\u001b[36mvar\u001b[39m \u001b[33mAf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mN\u001b[39m(\u001b[32m\"prisma:client:request_handler\"\u001b[39m)\u001b[33m,\u001b[39m\u001b[33mZn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{client\u001b[33m;\u001b[39mdataloader\u001b[33m;\u001b[39mlogEmitter\u001b[33m;\u001b[39mconstructor(r\u001b[33m,\u001b[39mt){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m=\u001b[39mt\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m=\u001b[39mr\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mYn\u001b[39m({batchLoader\u001b[33m:\u001b[39mol(\u001b[36masync\u001b[39m({requests\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi})\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m{transaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39motelParentCtx\u001b[33m:\u001b[39ms}\u001b[33m=\u001b[39mn[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mmap(p\u001b[33m=>\u001b[39mp\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent(s)\u001b[33m,\u001b[39mu\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39msome(p\u001b[33m=>\u001b[39m\u001b[33mOo\u001b[39m(p\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction))\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m(\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequestBatch(a\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39ml\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39m\u001b[33mIf\u001b[39m(o)\u001b[33m,\u001b[39mcontainsWrite\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi}))\u001b[33m.\u001b[39mmap((p\u001b[33m,\u001b[39md)\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(p \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mreturn\u001b[39m p\u001b[33m;\u001b[39m\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n[d]\u001b[33m,\u001b[39mp)}\u001b[36mcatch\u001b[39m(f){\u001b[36mreturn\u001b[39m f}})})\u001b[33m,\u001b[39msingleLoader\u001b[33m:\u001b[39m\u001b[36masync\u001b[39m n\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39meu(n\u001b[33m.\u001b[39mtransaction)\u001b[33m:\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequest(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent()\u001b[33m,\u001b[39minteractiveTransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39misWrite\u001b[33m:\u001b[39m\u001b[33mOo\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction)\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mn\u001b[33m.\u001b[39mcustomDataProxyFetch})\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n\u001b[33m,\u001b[39mo)}\u001b[33m,\u001b[39mbatchBy\u001b[33m:\u001b[39mn\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mid\u001b[33m?\u001b[39m\u001b[32m`transaction-${n.transaction.id}`\u001b[39m\u001b[33m:\u001b[39m\u001b[33mZl\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39mbatchOrder(n\u001b[33m,\u001b[39mi){\u001b[36mreturn\u001b[39m n\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m?\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m-\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m:\u001b[39m\u001b[35m0\u001b[39m}})}\u001b[36masync\u001b[39m request(r){\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m.\u001b[39mrequest(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mlet\u001b[39m{clientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma}\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleAndLogRequestError({error\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mglobalOmit})}}mapQueryEngineResult({dataPath\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39munpacker\u001b[33m:\u001b[39mt}\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mdata\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39munpack(i\u001b[33m,\u001b[39mr\u001b[33m,\u001b[39mt)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mPRISMA_CLIENT_GET_TIME\u001b[39m\u001b[33m?\u001b[39m{data\u001b[33m:\u001b[39mo}\u001b[33m:\u001b[39mo}handleAndLogRequestError(r){\u001b[36mtry\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleRequestError(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mthrow\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m.\u001b[39memit(\u001b[32m\"error\"\u001b[39m\u001b[33m,\u001b[39m{message\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mmessage\u001b[33m,\u001b[39mtarget\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mclientMethod\u001b[33m,\u001b[39mtimestamp\u001b[33m:\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m})\u001b[33m,\u001b[39mt}}handleRequestError({error\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma}){\u001b[36mif\u001b[39m(\u001b[33mAf\u001b[39m(r)\u001b[33m,\u001b[39mkf(r\u001b[33m,\u001b[39mi))\u001b[36mthrow\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m z\u001b[33m&&\u001b[39m\u001b[33mOf\u001b[39m(r)){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39mru(r\u001b[33m.\u001b[39mmeta)\u001b[33m;\u001b[39mkn({args\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39m[u]\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39merrorFormat\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma})}\u001b[36mlet\u001b[39m l\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mmessage\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m(l\u001b[33m=\u001b[39mwn({callsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39misPanic\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39misPanic\u001b[33m,\u001b[39mshowColors\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m===\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39mmessage\u001b[33m:\u001b[39ml}))\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39msanitizeMessage(l)\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mcode){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39ms\u001b[33m?\u001b[39m{modelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr\u001b[33m.\u001b[39mmeta}\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mmeta\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m z(l\u001b[33m,\u001b[39m{code\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mcode\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mmeta\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})}\u001b[36melse\u001b[39m{\u001b[36mif\u001b[39m(r\u001b[33m.\u001b[39misPanic)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m j)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m j(l\u001b[33m,\u001b[39m{clientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m \u001b[33mT\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mT\u001b[39m(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m le)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)}\u001b[36mthrow\u001b[39m r\u001b[33m.\u001b[39mclientVersion\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mr}sanitizeMessage(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m!==\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m?\u001b[39m(\u001b[35m0\u001b[39m\u001b[33m,\u001b[39m\u001b[33mXl\u001b[39m\u001b[33m.\u001b[39m\u001b[36mdefault\u001b[39m)(r)\u001b[33m:\u001b[39mr}unpack(r\u001b[33m,\u001b[39mt\u001b[33m,\u001b[39mn){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m||\u001b[39m(r\u001b[33m.\u001b[39mdata\u001b[33m&&\u001b[39m(r\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mdata)\u001b[33m,\u001b[39m\u001b[33m!\u001b[39mr))\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mvalues(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ms\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mfilter(u\u001b[33m=>\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"select\"\u001b[39m\u001b[33m&&\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"include\"\u001b[39m)\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mio(o\u001b[33m,\u001b[39ms)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39mi\u001b[33m===\u001b[39m\u001b[32m\"queryRaw\"\u001b[39m\u001b[33m?\u001b[39mzn(a)\u001b[33m:\u001b[39m\u001b[33mTr\u001b[39m(a)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m?\u001b[39mn(l)\u001b[33m:\u001b[39ml}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"RequestHandler\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mIf\u001b[39m(e){\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39m{isolationLevel\u001b[33m:\u001b[39me\u001b[33m.\u001b[39misolationLevel}}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39meu(e)}\u001b[33m;\u001b[39m_e(e\u001b[33m,\u001b[39m\u001b[32m\"Unknown transaction kind\"\u001b[39m)}}\u001b[36mfunction\u001b[39m eu(e){\u001b[36mreturn\u001b[39m{id\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39mpayload\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mpayload}}\u001b[36mfunction\u001b[39m kf(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m \u001b[33mKn\u001b[39m(e)\u001b[33m&&\u001b[39mr\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m!==\u001b[39mr\u001b[33m.\u001b[39mindex}\u001b[36mfunction\u001b[39m \u001b[33mOf\u001b[39m(e){\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2009\"\u001b[39m\u001b[33m||\u001b[39me\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2012\"\u001b[39m}\u001b[36mfunction\u001b[39m ru(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"Union\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"Union\"\u001b[39m\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39me\u001b[33m.\u001b[39merrors\u001b[33m.\u001b[39mmap(ru)}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e\u001b[33m.\u001b[39mselectionPath)){\u001b[36mlet\u001b[39m[\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr]\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mselectionPath\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[33m...\u001b[39me\u001b[33m,\u001b[39mselectionPath\u001b[33m:\u001b[39mr}}\u001b[36mreturn\u001b[39m e}\u001b[36mvar\u001b[39m tu\u001b[33m=\u001b[39m\u001b[33mSl\u001b[39m\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m au\u001b[33m=\u001b[39mk(\u001b[33mQi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mD\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mError\u001b[39m{constructor(r){\u001b[36msuper\u001b[39m(r\u001b[33m+\u001b[39m\u001b[32m`\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 125 |\u001b[39m \u001b[32mRead more at https://pris.ly/d/client-constructor`\u001b[39m)\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mname\u001b[33m=\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}}\u001b[33m;\u001b[39mx(\u001b[33mD\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m nu\u001b[33m=\u001b[39m[\u001b[32m\"datasources\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"datasourceUrl\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"errorFormat\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"adapter\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"log\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"transactionOptions\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"omit\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"__internal\"\u001b[39m]\u001b[33m,\u001b[39miu\u001b[33m=\u001b[39m[\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"colorless\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"minimal\"\u001b[39m]\u001b[33m,\u001b[39mou\u001b[33m=\u001b[39m[\u001b[32m\"info\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"warn\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"error\"\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mDf\u001b[39m\u001b[33m=\u001b[39m{datasources\u001b[33m:\u001b[39m(e\u001b[33m,\u001b[39m{datasourceNames\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m e\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for \"datasources\" provided to PrismaClient constructor`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[t\u001b[33m,\u001b[39mn]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(e)){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m.\u001b[39mincludes(t)){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mWr\u001b[39m(t\u001b[33m,\u001b[39mr)\u001b[33m||\u001b[39m\u001b[32m` Available datasources: ${r.join(\", \")}`\u001b[39m\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Unknown datasource ${t} provided to PrismaClient constructor.${i}`\u001b[39m)}\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m n\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(n))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 126 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m\u001b[36mtypeof\u001b[39m n\u001b[33m==\u001b[39m\u001b[32m\"object\"\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[i\u001b[33m,\u001b[39mo]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(n)){\u001b[36mif\u001b[39m(i\u001b[33m!==\u001b[39m\u001b[32m\"url\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 127 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m o\u001b[33m!=\u001b[39m\u001b[32m\"string\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(o)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:7649)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError [as handleAndLogRequestError] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6784)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleAndLogRequestError [as request] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6491)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat l (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:133:9778)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/lib/services/connectionService.integration.test.ts\u001b[39m\u001b[0m\u001b[2m:40:5)\u001b[22m\u001b[2m\u001b[22m\n","name":"/Users/connorbowen/apiq-mvp/tests/integration/lib/services/connectionService.integration.test.ts","startTime":1751471237804,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Workflow API Integration"],"duration":311,"failureDetails":[],"failureMessages":[],"fullName":"Workflow API Integration should create a workflow","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should create a workflow"},{"ancestorTitles":["Workflow API Integration"],"duration":191,"failureDetails":[],"failureMessages":[],"fullName":"Workflow API Integration should not allow duplicate workflow names for the same user","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should not allow duplicate workflow names for the same user"},{"ancestorTitles":["Workflow API Integration"],"duration":176,"failureDetails":[],"failureMessages":[],"fullName":"Workflow API Integration should list workflows","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should list workflows"},{"ancestorTitles":["Workflow API Integration"],"duration":188,"failureDetails":[],"failureMessages":[],"fullName":"Workflow API Integration should get a workflow by ID","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should get a workflow by ID"},{"ancestorTitles":["Workflow API Integration"],"duration":174,"failureDetails":[],"failureMessages":[],"fullName":"Workflow API Integration should update a workflow","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should update a workflow"},{"ancestorTitles":["Workflow API Integration"],"duration":165,"failureDetails":[],"failureMessages":[],"fullName":"Workflow API Integration should not update to a duplicate name","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should not update to a duplicate name"},{"ancestorTitles":["Workflow API Integration"],"duration":171,"failureDetails":[],"failureMessages":[],"fullName":"Workflow API Integration should delete a workflow","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should delete a workflow"},{"ancestorTitles":["Workflow API Integration"],"duration":227,"failureDetails":[],"failureMessages":[],"fullName":"Workflow API Integration should return 404 for non-existent workflow","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should return 404 for non-existent workflow"},{"ancestorTitles":["Workflow API Integration","Workflow Execution"],"duration":251,"failureDetails":[],"failureMessages":[],"fullName":"Workflow API Integration Workflow Execution should execute a workflow","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should execute a workflow"},{"ancestorTitles":["Workflow API Integration","Workflow Execution"],"duration":252,"failureDetails":[],"failureMessages":[],"fullName":"Workflow API Integration Workflow Execution should not execute a workflow with no steps","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should not execute a workflow with no steps"},{"ancestorTitles":["Workflow API Integration","Workflow Execution"],"duration":211,"failureDetails":[],"failureMessages":[],"fullName":"Workflow API Integration Workflow Execution should not execute a workflow that is not active","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should not execute a workflow that is not active"},{"ancestorTitles":["Workflow API Integration","Workflow Execution"],"duration":184,"failureDetails":[],"failureMessages":[],"fullName":"Workflow API Integration Workflow Execution should return 404 for non-existent workflow execution","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should return 404 for non-existent workflow execution"},{"ancestorTitles":["Workflow API Integration","End-to-End Workflow Execution"],"duration":243,"failureDetails":[],"failureMessages":[],"fullName":"Workflow API Integration End-to-End Workflow Execution should execute a multi-step workflow and track state/logs","invocations":1,"location":null,"numPassingAsserts":11,"retryReasons":[],"status":"passed","title":"should execute a multi-step workflow and track state/logs"},{"ancestorTitles":["Workflow API Integration","End-to-End Workflow Execution"],"duration":206,"failureDetails":[],"failureMessages":[],"fullName":"Workflow API Integration End-to-End Workflow Execution should retry a failed step and eventually succeed","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"status":"passed","title":"should retry a failed step and eventually succeed"}],"endTime":1751471238612,"message":"","name":"/Users/connorbowen/apiq-mvp/tests/integration/api/workflows.test.ts","startTime":1751471235005,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Slack OAuth2 Flow Integration Tests","Slack OAuth2 Authorization"],"duration":16,"failureDetails":[],"failureMessages":[],"fullName":"Slack OAuth2 Flow Integration Tests Slack OAuth2 Authorization should generate valid Slack authorization URL","invocations":1,"location":null,"numPassingAsserts":10,"retryReasons":[],"status":"passed","title":"should generate valid Slack authorization URL"},{"ancestorTitles":["Slack OAuth2 Flow Integration Tests","Slack OAuth2 Authorization"],"duration":22,"failureDetails":[],"failureMessages":[],"fullName":"Slack OAuth2 Flow Integration Tests Slack OAuth2 Authorization should validate Slack OAuth2 configuration","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should validate Slack OAuth2 configuration"},{"ancestorTitles":["Slack OAuth2 Flow Integration Tests","Slack OAuth2 Authorization"],"duration":14,"failureDetails":[],"failureMessages":[],"fullName":"Slack OAuth2 Flow Integration Tests Slack OAuth2 Authorization should handle Slack channels scope","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle Slack channels scope"},{"ancestorTitles":["Slack OAuth2 Flow Integration Tests","Slack OAuth2 Authorization"],"duration":13,"failureDetails":[],"failureMessages":[],"fullName":"Slack OAuth2 Flow Integration Tests Slack OAuth2 Authorization should handle Slack chat scope","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle Slack chat scope"},{"ancestorTitles":["Slack OAuth2 Flow Integration Tests","Slack OAuth2 Callback"],"duration":7,"failureDetails":[{"matcherResult":{"actual":400,"expected":200,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m400\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m400\u001b[39m\n    at Object.toBe (/Users/connorbowen/apiq-mvp/tests/integration/api/oauth2-slack.test.ts:139:36)"],"fullName":"Slack OAuth2 Flow Integration Tests Slack OAuth2 Callback should handle successful Slack OAuth2 callback","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle successful Slack OAuth2 callback"},{"ancestorTitles":["Slack OAuth2 Flow Integration Tests","Slack OAuth2 Callback"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Slack OAuth2 Flow Integration Tests Slack OAuth2 Callback should handle Slack OAuth2 access denied error","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should handle Slack OAuth2 access denied error"},{"ancestorTitles":["Slack OAuth2 Flow Integration Tests","Slack OAuth2 Callback"],"duration":3,"failureDetails":[{"matcherResult":{"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoContain\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // indexOf\u001b[22m\n\nExpected substring: \u001b[32m\"Token exchange failed\"\u001b[39m\nReceived string:    \u001b[31m\"Invalid OAuth state - connection not found\"\u001b[39m","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoContain\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // indexOf\u001b[22m\n\nExpected substring: \u001b[32m\"Token exchange failed\"\u001b[39m\nReceived string:    \u001b[31m\"Invalid OAuth state - connection not found\"\u001b[39m\n    at Object.toContain (/Users/connorbowen/apiq-mvp/tests/integration/api/oauth2-slack.test.ts:172:26)"],"fullName":"Slack OAuth2 Flow Integration Tests Slack OAuth2 Callback should handle Slack OAuth2 invalid code error","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"failed","title":"should handle Slack OAuth2 invalid code error"},{"ancestorTitles":["Slack OAuth2 Flow Integration Tests","Slack OAuth2 Token Refresh"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Slack OAuth2 Flow Integration Tests Slack OAuth2 Token Refresh should refresh expired Slack OAuth2 tokens","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should refresh expired Slack OAuth2 tokens"},{"ancestorTitles":["Slack OAuth2 Flow Integration Tests","Slack OAuth2 Token Refresh"],"duration":21,"failureDetails":[],"failureMessages":[],"fullName":"Slack OAuth2 Flow Integration Tests Slack OAuth2 Token Refresh should handle Slack OAuth2 token refresh failure","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle Slack OAuth2 token refresh failure"},{"ancestorTitles":["Slack OAuth2 Flow Integration Tests","Slack OAuth2 Security"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Slack OAuth2 Flow Integration Tests Slack OAuth2 Security should validate CSRF state parameter","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should validate CSRF state parameter"},{"ancestorTitles":["Slack OAuth2 Flow Integration Tests","Slack OAuth2 Security"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Slack OAuth2 Flow Integration Tests Slack OAuth2 Security should require authentication for token refresh","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should require authentication for token refresh"},{"ancestorTitles":["Slack OAuth2 Flow Integration Tests","Slack OAuth2 Security"],"duration":11,"failureDetails":[],"failureMessages":[],"fullName":"Slack OAuth2 Flow Integration Tests Slack OAuth2 Security should validate Slack OAuth2 scopes","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should validate Slack OAuth2 scopes"},{"ancestorTitles":["Slack OAuth2 Flow Integration Tests","Slack OAuth2 Error Scenarios"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Slack OAuth2 Flow Integration Tests Slack OAuth2 Error Scenarios should handle network errors during token exchange","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle network errors during token exchange"},{"ancestorTitles":["Slack OAuth2 Flow Integration Tests","Slack OAuth2 Error Scenarios"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Slack OAuth2 Flow Integration Tests Slack OAuth2 Error Scenarios should handle Slack API rate limiting","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle Slack API rate limiting"},{"ancestorTitles":["Slack OAuth2 Flow Integration Tests","Slack OAuth2 Error Scenarios"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Slack OAuth2 Flow Integration Tests Slack OAuth2 Error Scenarios should handle Slack API server errors","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle Slack API server errors"},{"ancestorTitles":["Slack OAuth2 Flow Integration Tests","Slack OAuth2 Error Scenarios"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Slack OAuth2 Flow Integration Tests Slack OAuth2 Error Scenarios should handle Slack workspace access restrictions","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle Slack workspace access restrictions"},{"ancestorTitles":["Slack OAuth2 Flow Integration Tests","Slack OAuth2 Integration"],"duration":16,"failureDetails":[{"matcherResult":{"actual":400,"expected":200,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m400\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m400\u001b[39m\n    at Object.toBe (/Users/connorbowen/apiq-mvp/tests/integration/api/oauth2-slack.test.ts:325:48)"],"fullName":"Slack OAuth2 Flow Integration Tests Slack OAuth2 Integration should complete full Slack OAuth2 flow with channels scope","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"failed","title":"should complete full Slack OAuth2 flow with channels scope"},{"ancestorTitles":["Slack OAuth2 Flow Integration Tests","Slack OAuth2 Integration"],"duration":13,"failureDetails":[{"matcherResult":{"actual":400,"expected":200,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m400\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m400\u001b[39m\n    at Object.toBe (/Users/connorbowen/apiq-mvp/tests/integration/api/oauth2-slack.test.ts:356:48)"],"fullName":"Slack OAuth2 Flow Integration Tests Slack OAuth2 Integration should complete full Slack OAuth2 flow with chat scope","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"failed","title":"should complete full Slack OAuth2 flow with chat scope"}],"endTime":1751471239075,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mSlack OAuth2 Flow Integration Tests › Slack OAuth2 Callback › should handle successful Slack OAuth2 callback\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32m200\u001b[39m\n    Received: \u001b[31m400\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 137 |\u001b[39m       })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 138 |\u001b[39m       \u001b[36mawait\u001b[39m callbackHandler(req \u001b[36mas\u001b[39m any\u001b[33m,\u001b[39m res \u001b[36mas\u001b[39m any)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 139 |\u001b[39m       expect(res\u001b[33m.\u001b[39m_getStatusCode())\u001b[33m.\u001b[39mtoBe(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 140 |\u001b[39m       \u001b[36mconst\u001b[39m data \u001b[33m=\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(res\u001b[33m.\u001b[39m_getData())\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 141 |\u001b[39m       expect(data\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 142 |\u001b[39m       expect(data\u001b[33m.\u001b[39mdata\u001b[33m.\u001b[39mmessage)\u001b[33m.\u001b[39mtoContain(\u001b[32m'OAuth2 authorization completed successfully'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/oauth2-slack.test.ts\u001b[39m\u001b[0m\u001b[2m:139:36)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mSlack OAuth2 Flow Integration Tests › Slack OAuth2 Callback › should handle Slack OAuth2 invalid code error\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoContain\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // indexOf\u001b[22m\n\n    Expected substring: \u001b[32m\"Token exchange failed\"\u001b[39m\n    Received string:    \u001b[31m\"Invalid OAuth state - connection not found\"\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 170 |\u001b[39m       \u001b[36mconst\u001b[39m data \u001b[33m=\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(res\u001b[33m.\u001b[39m_getData())\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 171 |\u001b[39m       expect(data\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 172 |\u001b[39m       expect(data\u001b[33m.\u001b[39merror)\u001b[33m.\u001b[39mtoContain(\u001b[32m'Token exchange failed'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 173 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 174 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 175 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toContain (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/oauth2-slack.test.ts\u001b[39m\u001b[0m\u001b[2m:172:26)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mSlack OAuth2 Flow Integration Tests › Slack OAuth2 Integration › should complete full Slack OAuth2 flow with channels scope\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32m200\u001b[39m\n    Received: \u001b[31m400\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 323 |\u001b[39m       })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 324 |\u001b[39m       \u001b[36mawait\u001b[39m callbackHandler(callbackReq\u001b[33m.\u001b[39mreq \u001b[36mas\u001b[39m any\u001b[33m,\u001b[39m callbackReq\u001b[33m.\u001b[39mres \u001b[36mas\u001b[39m any)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 325 |\u001b[39m       expect(callbackReq\u001b[33m.\u001b[39mres\u001b[33m.\u001b[39m_getStatusCode())\u001b[33m.\u001b[39mtoBe(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 326 |\u001b[39m       \u001b[36mconst\u001b[39m callbackData \u001b[33m=\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(callbackReq\u001b[33m.\u001b[39mres\u001b[33m.\u001b[39m_getData())\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 327 |\u001b[39m       expect(callbackData\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 328 |\u001b[39m       expect(callbackData\u001b[33m.\u001b[39mdata\u001b[33m.\u001b[39misTest)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/oauth2-slack.test.ts\u001b[39m\u001b[0m\u001b[2m:325:48)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mSlack OAuth2 Flow Integration Tests › Slack OAuth2 Integration › should complete full Slack OAuth2 flow with chat scope\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32m200\u001b[39m\n    Received: \u001b[31m400\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 354 |\u001b[39m       })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 355 |\u001b[39m       \u001b[36mawait\u001b[39m callbackHandler(callbackReq\u001b[33m.\u001b[39mreq \u001b[36mas\u001b[39m any\u001b[33m,\u001b[39m callbackReq\u001b[33m.\u001b[39mres \u001b[36mas\u001b[39m any)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 356 |\u001b[39m       expect(callbackReq\u001b[33m.\u001b[39mres\u001b[33m.\u001b[39m_getStatusCode())\u001b[33m.\u001b[39mtoBe(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 357 |\u001b[39m       \u001b[36mconst\u001b[39m callbackData \u001b[33m=\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(callbackReq\u001b[33m.\u001b[39mres\u001b[33m.\u001b[39m_getData())\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 358 |\u001b[39m       expect(callbackData\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 359 |\u001b[39m       expect(callbackData\u001b[33m.\u001b[39mdata\u001b[33m.\u001b[39misTest)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/oauth2-slack.test.ts\u001b[39m\u001b[0m\u001b[2m:356:48)\u001b[22m\u001b[2m\u001b[22m\n","name":"/Users/connorbowen/apiq-mvp/tests/integration/api/oauth2-slack.test.ts","startTime":1751471238618,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["GitHub OAuth2 Flow Integration Tests","GitHub OAuth2 Authorization"],"duration":13,"failureDetails":[],"failureMessages":[],"fullName":"GitHub OAuth2 Flow Integration Tests GitHub OAuth2 Authorization should generate valid GitHub authorization URL","invocations":1,"location":null,"numPassingAsserts":10,"retryReasons":[],"status":"passed","title":"should generate valid GitHub authorization URL"},{"ancestorTitles":["GitHub OAuth2 Flow Integration Tests","GitHub OAuth2 Authorization"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"GitHub OAuth2 Flow Integration Tests GitHub OAuth2 Authorization should validate GitHub OAuth2 configuration","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should validate GitHub OAuth2 configuration"},{"ancestorTitles":["GitHub OAuth2 Flow Integration Tests","GitHub OAuth2 Authorization"],"duration":1076,"failureDetails":[],"failureMessages":[],"fullName":"GitHub OAuth2 Flow Integration Tests GitHub OAuth2 Authorization should reject unsupported GitHub scopes","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject unsupported GitHub scopes"},{"ancestorTitles":["GitHub OAuth2 Flow Integration Tests","GitHub OAuth2 Callback"],"duration":12,"failureDetails":[{"matcherResult":{"actual":400,"expected":200,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m400\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m400\u001b[39m\n    at Object.toBe (/Users/connorbowen/apiq-mvp/tests/integration/api/oauth2-github.test.ts:144:36)"],"fullName":"GitHub OAuth2 Flow Integration Tests GitHub OAuth2 Callback should handle successful GitHub OAuth2 callback","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle successful GitHub OAuth2 callback"},{"ancestorTitles":["GitHub OAuth2 Flow Integration Tests","GitHub OAuth2 Callback"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"GitHub OAuth2 Flow Integration Tests GitHub OAuth2 Callback should handle GitHub OAuth2 access denied error","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should handle GitHub OAuth2 access denied error"},{"ancestorTitles":["GitHub OAuth2 Flow Integration Tests","GitHub OAuth2 Callback"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"GitHub OAuth2 Flow Integration Tests GitHub OAuth2 Callback should handle GitHub OAuth2 invalid state parameter","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should handle GitHub OAuth2 invalid state parameter"},{"ancestorTitles":["GitHub OAuth2 Flow Integration Tests","GitHub OAuth2 Callback"],"duration":9,"failureDetails":[{"matcherResult":{"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoContain\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // indexOf\u001b[22m\n\nExpected substring: \u001b[32m\"Token exchange failed\"\u001b[39m\nReceived string:    \u001b[31m\"Invalid OAuth state - connection not found\"\u001b[39m","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoContain\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // indexOf\u001b[22m\n\nExpected substring: \u001b[32m\"Token exchange failed\"\u001b[39m\nReceived string:    \u001b[31m\"Invalid OAuth state - connection not found\"\u001b[39m\n    at Object.toContain (/Users/connorbowen/apiq-mvp/tests/integration/api/oauth2-github.test.ts:203:26)"],"fullName":"GitHub OAuth2 Flow Integration Tests GitHub OAuth2 Callback should handle GitHub OAuth2 token exchange failure","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"failed","title":"should handle GitHub OAuth2 token exchange failure"},{"ancestorTitles":["GitHub OAuth2 Flow Integration Tests","GitHub OAuth2 Token Refresh"],"duration":22,"failureDetails":[{"matcherResult":{"actual":400,"expected":200,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m400\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m400\u001b[39m\n    at Object.toBe (/Users/connorbowen/apiq-mvp/tests/integration/api/oauth2-github.test.ts:221:36)"],"fullName":"GitHub OAuth2 Flow Integration Tests GitHub OAuth2 Token Refresh should refresh expired GitHub OAuth2 tokens","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should refresh expired GitHub OAuth2 tokens"},{"ancestorTitles":["GitHub OAuth2 Flow Integration Tests","GitHub OAuth2 Token Refresh"],"duration":15,"failureDetails":[],"failureMessages":[],"fullName":"GitHub OAuth2 Flow Integration Tests GitHub OAuth2 Token Refresh should handle GitHub OAuth2 token refresh failure","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle GitHub OAuth2 token refresh failure"},{"ancestorTitles":["GitHub OAuth2 Flow Integration Tests","GitHub OAuth2 Security"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"GitHub OAuth2 Flow Integration Tests GitHub OAuth2 Security should validate CSRF state parameter","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should validate CSRF state parameter"},{"ancestorTitles":["GitHub OAuth2 Flow Integration Tests","GitHub OAuth2 Security"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"GitHub OAuth2 Flow Integration Tests GitHub OAuth2 Security should handle expired state parameter","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle expired state parameter"},{"ancestorTitles":["GitHub OAuth2 Flow Integration Tests","GitHub OAuth2 Security"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"GitHub OAuth2 Flow Integration Tests GitHub OAuth2 Security should require authentication for token refresh","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should require authentication for token refresh"},{"ancestorTitles":["GitHub OAuth2 Flow Integration Tests","GitHub OAuth2 Error Scenarios"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"GitHub OAuth2 Flow Integration Tests GitHub OAuth2 Error Scenarios should handle network errors during token exchange","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle network errors during token exchange"},{"ancestorTitles":["GitHub OAuth2 Flow Integration Tests","GitHub OAuth2 Error Scenarios"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"GitHub OAuth2 Flow Integration Tests GitHub OAuth2 Error Scenarios should handle invalid authorization code","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle invalid authorization code"},{"ancestorTitles":["GitHub OAuth2 Flow Integration Tests","GitHub OAuth2 Error Scenarios"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"GitHub OAuth2 Flow Integration Tests GitHub OAuth2 Error Scenarios should handle rate limiting from GitHub API","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle rate limiting from GitHub API"},{"ancestorTitles":["GitHub OAuth2 Flow Integration Tests","GitHub OAuth2 Integration"],"duration":87,"failureDetails":[{"matcherResult":{"actual":400,"expected":200,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m400\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m400\u001b[39m\n    at Object.toBe (/Users/connorbowen/apiq-mvp/tests/integration/api/oauth2-github.test.ts:393:48)"],"fullName":"GitHub OAuth2 Flow Integration Tests GitHub OAuth2 Integration should complete full GitHub OAuth2 flow","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"failed","title":"should complete full GitHub OAuth2 flow"}],"endTime":1751471243263,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mGitHub OAuth2 Flow Integration Tests › GitHub OAuth2 Callback › should handle successful GitHub OAuth2 callback\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32m200\u001b[39m\n    Received: \u001b[31m400\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 142 |\u001b[39m       \u001b[36mawait\u001b[39m callbackHandler(req \u001b[36mas\u001b[39m any\u001b[33m,\u001b[39m res \u001b[36mas\u001b[39m any)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 143 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 144 |\u001b[39m       expect(res\u001b[33m.\u001b[39m_getStatusCode())\u001b[33m.\u001b[39mtoBe(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 145 |\u001b[39m       \u001b[36mconst\u001b[39m data \u001b[33m=\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(res\u001b[33m.\u001b[39m_getData())\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 146 |\u001b[39m       expect(data\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 147 |\u001b[39m       expect(data\u001b[33m.\u001b[39mdata\u001b[33m.\u001b[39mmessage)\u001b[33m.\u001b[39mtoContain(\u001b[32m'OAuth2 authorization completed successfully'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/oauth2-github.test.ts\u001b[39m\u001b[0m\u001b[2m:144:36)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mGitHub OAuth2 Flow Integration Tests › GitHub OAuth2 Callback › should handle GitHub OAuth2 token exchange failure\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoContain\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // indexOf\u001b[22m\n\n    Expected substring: \u001b[32m\"Token exchange failed\"\u001b[39m\n    Received string:    \u001b[31m\"Invalid OAuth state - connection not found\"\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 201 |\u001b[39m       \u001b[36mconst\u001b[39m data \u001b[33m=\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(res\u001b[33m.\u001b[39m_getData())\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 202 |\u001b[39m       expect(data\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 203 |\u001b[39m       expect(data\u001b[33m.\u001b[39merror)\u001b[33m.\u001b[39mtoContain(\u001b[32m'Token exchange failed'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 204 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 205 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 206 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toContain (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/oauth2-github.test.ts\u001b[39m\u001b[0m\u001b[2m:203:26)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mGitHub OAuth2 Flow Integration Tests › GitHub OAuth2 Token Refresh › should refresh expired GitHub OAuth2 tokens\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32m200\u001b[39m\n    Received: \u001b[31m400\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 219 |\u001b[39m       \u001b[36mawait\u001b[39m refreshHandler(req \u001b[36mas\u001b[39m any\u001b[33m,\u001b[39m res \u001b[36mas\u001b[39m any)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 220 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 221 |\u001b[39m       expect(res\u001b[33m.\u001b[39m_getStatusCode())\u001b[33m.\u001b[39mtoBe(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 222 |\u001b[39m       \u001b[36mconst\u001b[39m data \u001b[33m=\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(res\u001b[33m.\u001b[39m_getData())\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 223 |\u001b[39m       expect(data\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 224 |\u001b[39m       expect(data\u001b[33m.\u001b[39mdata\u001b[33m.\u001b[39mmessage)\u001b[33m.\u001b[39mtoContain(\u001b[32m'OAuth2 token refreshed successfully'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/oauth2-github.test.ts\u001b[39m\u001b[0m\u001b[2m:221:36)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mGitHub OAuth2 Flow Integration Tests › GitHub OAuth2 Integration › should complete full GitHub OAuth2 flow\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32m200\u001b[39m\n    Received: \u001b[31m400\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 391 |\u001b[39m       \u001b[36mawait\u001b[39m callbackHandler(callbackReq\u001b[33m.\u001b[39mreq \u001b[36mas\u001b[39m any\u001b[33m,\u001b[39m callbackReq\u001b[33m.\u001b[39mres \u001b[36mas\u001b[39m any)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 392 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 393 |\u001b[39m       expect(callbackReq\u001b[33m.\u001b[39mres\u001b[33m.\u001b[39m_getStatusCode())\u001b[33m.\u001b[39mtoBe(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 394 |\u001b[39m       \u001b[36mconst\u001b[39m callbackData \u001b[33m=\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(callbackReq\u001b[33m.\u001b[39mres\u001b[33m.\u001b[39m_getData())\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 395 |\u001b[39m       expect(callbackData\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 396 |\u001b[39m       expect(callbackData\u001b[33m.\u001b[39mdata\u001b[33m.\u001b[39misTest)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/oauth2-github.test.ts\u001b[39m\u001b[0m\u001b[2m:393:48)\u001b[22m\u001b[2m\u001b[22m\n","name":"/Users/connorbowen/apiq-mvp/tests/integration/api/oauth2-github.test.ts","startTime":1751471238438,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["API Connections Integration Tests","POST /api/connections"],"duration":175,"failureDetails":[],"failureMessages":[],"fullName":"API Connections Integration Tests POST /api/connections should create a basic API connection without OpenAPI spec","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should create a basic API connection without OpenAPI spec"},{"ancestorTitles":["API Connections Integration Tests","POST /api/connections"],"duration":170,"failureDetails":[],"failureMessages":[],"fullName":"API Connections Integration Tests POST /api/connections should create API connection with OpenAPI spec and extract endpoints","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should create API connection with OpenAPI spec and extract endpoints"},{"ancestorTitles":["API Connections Integration Tests","POST /api/connections"],"duration":224,"failureDetails":[],"failureMessages":[],"fullName":"API Connections Integration Tests POST /api/connections should handle OpenAPI parsing errors gracefully","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should handle OpenAPI parsing errors gracefully"},{"ancestorTitles":["API Connections Integration Tests","POST /api/connections"],"duration":156,"failureDetails":[],"failureMessages":[],"fullName":"API Connections Integration Tests POST /api/connections should prevent duplicate connection names for the same user","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should prevent duplicate connection names for the same user"},{"ancestorTitles":["API Connections Integration Tests","POST /api/connections"],"duration":151,"failureDetails":[],"failureMessages":[],"fullName":"API Connections Integration Tests POST /api/connections should validate required fields","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should validate required fields"},{"ancestorTitles":["API Connections Integration Tests","POST /api/connections"],"duration":148,"failureDetails":[],"failureMessages":[],"fullName":"API Connections Integration Tests POST /api/connections should handle invalid auth type","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle invalid auth type"},{"ancestorTitles":["API Connections Integration Tests","POST /api/connections"],"duration":163,"failureDetails":[],"failureMessages":[],"fullName":"API Connections Integration Tests POST /api/connections should reject unauthenticated requests","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should reject unauthenticated requests"},{"ancestorTitles":["API Connections Integration Tests","GET /api/connections"],"duration":188,"failureDetails":[],"failureMessages":[],"fullName":"API Connections Integration Tests GET /api/connections should retrieve all connections for a user","invocations":1,"location":null,"numPassingAsserts":9,"retryReasons":[],"status":"passed","title":"should retrieve all connections for a user"},{"ancestorTitles":["API Connections Integration Tests","GET /api/connections"],"duration":165,"failureDetails":[],"failureMessages":[],"fullName":"API Connections Integration Tests GET /api/connections should reject unauthenticated requests","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should reject unauthenticated requests"}],"endTime":1751471245167,"message":"","name":"/Users/connorbowen/apiq-mvp/tests/integration/api/connections.test.ts","startTime":1751471243269,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Authentication Integration Tests","POST /api/auth/login"],"duration":529,"failureDetails":[],"failureMessages":[],"fullName":"Authentication Integration Tests POST /api/auth/login should login with valid credentials","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should login with valid credentials"},{"ancestorTitles":["Authentication Integration Tests","POST /api/auth/login"],"duration":459,"failureDetails":[],"failureMessages":[],"fullName":"Authentication Integration Tests POST /api/auth/login should reject invalid credentials","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should reject invalid credentials"},{"ancestorTitles":["Authentication Integration Tests","POST /api/auth/login"],"duration":476,"failureDetails":[],"failureMessages":[],"fullName":"Authentication Integration Tests POST /api/auth/login should reject missing credentials","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should reject missing credentials"},{"ancestorTitles":["Authentication Integration Tests","POST /api/auth/login"],"duration":427,"failureDetails":[],"failureMessages":[],"fullName":"Authentication Integration Tests POST /api/auth/login should reject wrong HTTP method","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should reject wrong HTTP method"},{"ancestorTitles":["Authentication Integration Tests","POST /api/auth/refresh"],"duration":541,"failureDetails":[],"failureMessages":[],"fullName":"Authentication Integration Tests POST /api/auth/refresh should refresh token with valid refresh token","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should refresh token with valid refresh token"},{"ancestorTitles":["Authentication Integration Tests","POST /api/auth/refresh"],"duration":443,"failureDetails":[],"failureMessages":[],"fullName":"Authentication Integration Tests POST /api/auth/refresh should reject invalid refresh token","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should reject invalid refresh token"},{"ancestorTitles":["Authentication Integration Tests","POST /api/auth/refresh"],"duration":523,"failureDetails":[],"failureMessages":[],"fullName":"Authentication Integration Tests POST /api/auth/refresh should reject missing refresh token","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should reject missing refresh token"},{"ancestorTitles":["Authentication Integration Tests","GET /api/auth/me"],"duration":455,"failureDetails":[],"failureMessages":[],"fullName":"Authentication Integration Tests GET /api/auth/me should return current user with valid token","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should return current user with valid token"},{"ancestorTitles":["Authentication Integration Tests","GET /api/auth/me"],"duration":684,"failureDetails":[],"failureMessages":[],"fullName":"Authentication Integration Tests GET /api/auth/me should reject request without token","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should reject request without token"},{"ancestorTitles":["Authentication Integration Tests","GET /api/auth/me"],"duration":449,"failureDetails":[],"failureMessages":[],"fullName":"Authentication Integration Tests GET /api/auth/me should reject invalid token","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should reject invalid token"},{"ancestorTitles":["Authentication Integration Tests","GET /api/auth/me"],"duration":457,"failureDetails":[],"failureMessages":[],"fullName":"Authentication Integration Tests GET /api/auth/me should reject wrong HTTP method","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should reject wrong HTTP method"},{"ancestorTitles":["Authentication Integration Tests","User Roles"],"duration":727,"failureDetails":[],"failureMessages":[],"fullName":"Authentication Integration Tests User Roles should support different user roles","invocations":1,"location":null,"numPassingAsserts":15,"retryReasons":[],"status":"passed","title":"should support different user roles"}],"endTime":1751471245290,"message":"","name":"/Users/connorbowen/apiq-mvp/tests/integration/api/auth.test.ts","startTime":1751471239081,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["RBAC Integration: Endpoint Deletion"],"duration":1695,"failureDetails":[{"name":"PrismaClientUnknownRequestError","clientVersion":"6.10.1"}],"failureMessages":["PrismaClientUnknownRequestError: \nInvalid `prisma.user.deleteMany()` invocation in\n/Users/connorbowen/apiq-mvp/tests/integration/api/endpoints.rbac.test.ts:46:23\n\n  43     }\n  44   }\n  45 });\n→ 46 await prisma.user.deleteMany(\nError occurred during query execution:\nConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28405 waits for ShareLock on transaction 54197; blocked by process 28328.\\nProcess 28328 waits for ShareLock on transaction 54192; blocked by process 28405.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n    at Zn.handleRequestError (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:7649)\n    at Zn.handleRequestError [as handleAndLogRequestError] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6784)\n    at Zn.handleAndLogRequestError [as request] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6491)\n    at l (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:133:9778)\n    at Object.<anonymous> (/Users/connorbowen/apiq-mvp/tests/integration/api/endpoints.rbac.test.ts:46:5)"],"fullName":"RBAC Integration: Endpoint Deletion should forbid non-admin users from deleting endpoints","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should forbid non-admin users from deleting endpoints"},{"ancestorTitles":["RBAC Integration: Endpoint Deletion"],"duration":1081,"failureDetails":[{"name":"PrismaClientUnknownRequestError","clientVersion":"6.10.1"}],"failureMessages":["PrismaClientUnknownRequestError: \nInvalid `prisma.apiConnection.deleteMany()` invocation in\n/Users/connorbowen/apiq-mvp/tests/integration/api/endpoints.rbac.test.ts:36:32\n\n  33     }\n  34   }\n  35 });\n→ 36 await prisma.apiConnection.deleteMany(\nError occurred during query execution:\nConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28405 waits for AccessExclusiveLock on tuple (0,19) of relation 33235 of database 21992; blocked by process 28324.\\nProcess 28324 waits for ShareLock on transaction 54200; blocked by process 28404.\\nProcess 28404 waits for ShareLock on transaction 54205; blocked by process 28326.\\nProcess 28326 waits for AccessExclusiveLock on tuple (0,19) of relation 33235 of database 21992; blocked by process 28405.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n    at Zn.handleRequestError (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:7649)\n    at Zn.handleRequestError [as handleAndLogRequestError] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6784)\n    at Zn.handleAndLogRequestError [as request] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6491)\n    at l (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:133:9778)\n    at Object.<anonymous> (/Users/connorbowen/apiq-mvp/tests/integration/api/endpoints.rbac.test.ts:36:5)"],"fullName":"RBAC Integration: Endpoint Deletion should allow ADMIN users to delete endpoints","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should allow ADMIN users to delete endpoints"}],"endTime":1751471248256,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mRBAC Integration: Endpoint Deletion › should forbid non-admin users from deleting endpoints\u001b[39m\u001b[22m\n\n    PrismaClientUnknownRequestError: \n    Invalid `prisma.user.deleteMany()` invocation in\n    /Users/connorbowen/apiq-mvp/tests/integration/api/endpoints.rbac.test.ts:46:23\n\n      43     }\n      44   }\n      45 });\n    → 46 await prisma.user.deleteMany(\n    Error occurred during query execution:\n    ConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28405 waits for ShareLock on transaction 54197; blocked by process 28328.\\nProcess 28328 waits for ShareLock on transaction 54192; blocked by process 28405.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 122 |\u001b[39m \u001b[32m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 123 |\u001b[39m \u001b[32mMore Information: https://pris.ly/d/execute-raw\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 124 |\u001b[39m \u001b[32m`\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mCo\u001b[39m\u001b[33m=\u001b[39m({clientMethod\u001b[33m:\u001b[39me\u001b[33m,\u001b[39mactiveProvider\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39mt\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[32m\"\"\u001b[39m\u001b[33m,\u001b[39mi\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mFn\u001b[39m(t))n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(t)){\u001b[36mlet\u001b[39m[o\u001b[33m,\u001b[39m\u001b[33m...\u001b[39ms]\u001b[33m=\u001b[39mt\u001b[33m;\u001b[39mn\u001b[33m=\u001b[39mo\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(s\u001b[33m||\u001b[39m[])\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}}\u001b[36melse\u001b[39m \u001b[36mswitch\u001b[39m(r){\u001b[36mcase\u001b[39m\u001b[32m\"sqlite\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"mysql\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"cockroachdb\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgresql\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgres\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mtext\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"sqlserver\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mjl(t)\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`The ${r} provider does not support ${e}`\u001b[39m)}\u001b[36mreturn\u001b[39m i\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mvalues\u001b[33m?\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n}, ${i.values})`\u001b[39m)\u001b[33m:\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n})`\u001b[39m)\u001b[33m,\u001b[39m{query\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mparameters\u001b[33m:\u001b[39mi}}\u001b[33m,\u001b[39m\u001b[33mWl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e\u001b[33m.\u001b[39mstrings\u001b[33m,\u001b[39m\u001b[33m...\u001b[39me\u001b[33m.\u001b[39mvalues]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mlet\u001b[39m[r\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mt]\u001b[33m=\u001b[39me\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m oe(r\u001b[33m,\u001b[39mt)}}\u001b[33m,\u001b[39m\u001b[33mJl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mreturn\u001b[39m e[\u001b[35m0\u001b[39m]}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mAo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mfunction\u001b[39m(t\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m(s\u001b[33m=\u001b[39me)\u001b[33m=>\u001b[39m{\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m s\u001b[33m===\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m||\u001b[39ms\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33m=\u001b[39m\u001b[33mHl\u001b[39m(t(s))\u001b[33m:\u001b[39m\u001b[33mHl\u001b[39m(t(s))}\u001b[36mcatch\u001b[39m(a){\u001b[36mreturn\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mreject(a)}}\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[36mget\u001b[39m spec(){\u001b[36mreturn\u001b[39m n}\u001b[33m,\u001b[39mthen(s\u001b[33m,\u001b[39ma){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39mthen(s\u001b[33m,\u001b[39ma)}\u001b[33m,\u001b[39m\u001b[36mcatch\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(s)}\u001b[33m,\u001b[39m\u001b[36mfinally\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mfinally\u001b[39m(s)}\u001b[33m,\u001b[39mrequestTransaction(s){\u001b[36mlet\u001b[39m a\u001b[33m=\u001b[39mo(s)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m a\u001b[33m.\u001b[39mrequestTransaction\u001b[33m?\u001b[39ma\u001b[33m.\u001b[39mrequestTransaction(s)\u001b[33m:\u001b[39ma}\u001b[33m,\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag]\u001b[33m:\u001b[39m\u001b[32m\"PrismaPromise\"\u001b[39m}}}\u001b[36mfunction\u001b[39m \u001b[33mHl\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mthen\u001b[33m==\u001b[39m\u001b[32m\"function\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39m\u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mresolve(e)}\u001b[36mvar\u001b[39m \u001b[33mTf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mEi\u001b[39m\u001b[33m.\u001b[39msplit(\u001b[32m\".\"\u001b[39m)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mSf\u001b[39m\u001b[33m=\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m}\u001b[33m,\u001b[39mgetTraceParent(){\u001b[36mreturn\u001b[39m\u001b[32m\"00-10-10-00\"\u001b[39m}\u001b[33m,\u001b[39mdispatchEngineSpans(){}\u001b[33m,\u001b[39mgetActiveContext(){}\u001b[33m,\u001b[39mrunInChildSpan(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m r()}}\u001b[33m,\u001b[39m\u001b[33mIo\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39misEnabled()}getTraceParent(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetTraceParent(r)}dispatchEngineSpans(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mdispatchEngineSpans(r)}getActiveContext(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetActiveContext()}runInChildSpan(r\u001b[33m,\u001b[39mt){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mrunInChildSpan(r\u001b[33m,\u001b[39mt)}getGlobalTracingHelper(){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39mglobalThis[\u001b[32m`V${Tf}_PRISMA_INSTRUMENTATION`\u001b[39m]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39mglobalThis\u001b[33m.\u001b[39m\u001b[33mPRISMA_INSTRUMENTATION\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33mSf\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKl\u001b[39m(){\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mIo\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mYl\u001b[39m(e\u001b[33m,\u001b[39mr\u001b[33m=\u001b[39m()\u001b[33m=>\u001b[39m{}){\u001b[36mlet\u001b[39m t\u001b[33m,\u001b[39mn\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m(i\u001b[33m=>\u001b[39mt\u001b[33m=\u001b[39mi)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{then(i){\u001b[36mreturn\u001b[39m\u001b[33m--\u001b[39me\u001b[33m===\u001b[39m\u001b[35m0\u001b[39m\u001b[33m&&\u001b[39mt(r())\u001b[33m,\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m.\u001b[39m(n)}}}\u001b[36mfunction\u001b[39m zl(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mreduce((r\u001b[33m,\u001b[39mt)\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[36mtypeof\u001b[39m t\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mlevel\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m===\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m?\u001b[39mr\u001b[33m:\u001b[39mr\u001b[33m&&\u001b[39m(t\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m||\u001b[39mr\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m)\u001b[33m?\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m:\u001b[39mn}\u001b[33m,\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mHn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{_middlewares\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39muse(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mpush(r)}\u001b[36mget\u001b[39m(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}has(r){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[33m!\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}length(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mlength}}\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mXl\u001b[39m\u001b[33m=\u001b[39mk(\u001b[33mOi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKn\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m==\u001b[39m\u001b[32m\"number\"\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mZl\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUnique\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUniqueOrThrow\"\u001b[39m)\u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mmodelName\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(e\u001b[33m.\u001b[39mmodelName)\u001b[33m,\u001b[39me\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39mselection))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mjoin(\u001b[32m\"\"\u001b[39m)}\u001b[36mfunction\u001b[39m ko(e){\u001b[36mreturn\u001b[39m\u001b[32m`(${Object.keys(e).sort().map(t=>{let n=e[t];return typeof n==\"object\"&&n!==null?`(${t} ${ko(n)})`:t}).join(\" \")})`\u001b[39m}\u001b[36mvar\u001b[39m \u001b[33mRf\u001b[39m\u001b[33m=\u001b[39m{aggregate\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39maggregateRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mcreateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mexecuteRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mfindFirst\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindFirstOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUnique\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUniqueOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mgroupBy\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mqueryRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mrunCommandRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupsertOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mOo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[33mRf\u001b[39m[e]}\u001b[36mvar\u001b[39m \u001b[33mYn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{constructor(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches\u001b[33m=\u001b[39m{}}batches\u001b[33m;\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m;\u001b[39mrequest(r){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchBy(r)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m t\u001b[33m?\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mprocess\u001b[33m.\u001b[39mnextTick(()\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdispatchBatches()\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m})))\u001b[33m,\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m.\u001b[39mpush({request\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mresolve\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mreject\u001b[33m:\u001b[39mi})}))\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(r)}dispatchBatches(){\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m r \u001b[36min\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m;\u001b[39m\u001b[36mdelete\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m,\u001b[39mt\u001b[33m.\u001b[39mlength\u001b[33m===\u001b[39m\u001b[35m1\u001b[39m\u001b[33m?\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mrequest)\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)\u001b[33m:\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mresolve(n)})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)})\u001b[33m:\u001b[39m(t\u001b[33m.\u001b[39msort((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchOrder(n\u001b[33m.\u001b[39mrequest\u001b[33m,\u001b[39mi\u001b[33m.\u001b[39mrequest))\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchLoader(t\u001b[33m.\u001b[39mmap(n\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mrequest))\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m o\u001b[33m=\u001b[39mn[i]\u001b[33m;\u001b[39mo \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[i]\u001b[33m.\u001b[39mreject(o)\u001b[33m:\u001b[39mt[i]\u001b[33m.\u001b[39mresolve(o)}})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)}))}}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"DataLoader\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m mr(e\u001b[33m,\u001b[39mr){\u001b[36mif\u001b[39m(r\u001b[33m===\u001b[39m\u001b[36mnull\u001b[39m)\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mswitch\u001b[39m(e){\u001b[36mcase\u001b[39m\u001b[32m\"bigint\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[33mBigInt\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes\"\u001b[39m\u001b[33m:\u001b[39m{\u001b[36mlet\u001b[39m{buffer\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mbyteOffset\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mbyteLength\u001b[33m:\u001b[39mi}\u001b[33m=\u001b[39m\u001b[33mBuffer\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m(r\u001b[33m,\u001b[39m\u001b[32m\"base64\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mUint8Array\u001b[39m(t\u001b[33m,\u001b[39mn\u001b[33m,\u001b[39mi)}\u001b[36mcase\u001b[39m\u001b[32m\"decimal\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mPe\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(\u001b[32m`1970-01-01T${r}Z`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bigint-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bigint\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bytes\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"decimal-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"decimal\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"datetime\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"date\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"time\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r}}\u001b[36mfunction\u001b[39m zn(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39m\u001b[33mCf\u001b[39m(e)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mn\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mrows\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mn\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mrows[n]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m{\u001b[33m...\u001b[39mt}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m s\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39ms\u001b[33m<\u001b[39m\u001b[33mi\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39ms\u001b[33m++\u001b[39m)o[e\u001b[33m.\u001b[39mcolumns[s]]\u001b[33m=\u001b[39mmr(e\u001b[33m.\u001b[39mtypes[s]\u001b[33m,\u001b[39mi[s])\u001b[33m;\u001b[39mr\u001b[33m.\u001b[39mpush(o)}\u001b[36mreturn\u001b[39m r}\u001b[36mfunction\u001b[39m \u001b[33mCf\u001b[39m(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m{}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mt\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mcolumns\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mt\u001b[33m++\u001b[39m)r[e\u001b[33m.\u001b[39mcolumns[t]]\u001b[33m=\u001b[39m\u001b[36mnull\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r}\u001b[36mvar\u001b[39m \u001b[33mAf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mN\u001b[39m(\u001b[32m\"prisma:client:request_handler\"\u001b[39m)\u001b[33m,\u001b[39m\u001b[33mZn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{client\u001b[33m;\u001b[39mdataloader\u001b[33m;\u001b[39mlogEmitter\u001b[33m;\u001b[39mconstructor(r\u001b[33m,\u001b[39mt){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m=\u001b[39mt\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m=\u001b[39mr\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mYn\u001b[39m({batchLoader\u001b[33m:\u001b[39mol(\u001b[36masync\u001b[39m({requests\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi})\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m{transaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39motelParentCtx\u001b[33m:\u001b[39ms}\u001b[33m=\u001b[39mn[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mmap(p\u001b[33m=>\u001b[39mp\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent(s)\u001b[33m,\u001b[39mu\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39msome(p\u001b[33m=>\u001b[39m\u001b[33mOo\u001b[39m(p\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction))\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m(\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequestBatch(a\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39ml\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39m\u001b[33mIf\u001b[39m(o)\u001b[33m,\u001b[39mcontainsWrite\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi}))\u001b[33m.\u001b[39mmap((p\u001b[33m,\u001b[39md)\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(p \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mreturn\u001b[39m p\u001b[33m;\u001b[39m\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n[d]\u001b[33m,\u001b[39mp)}\u001b[36mcatch\u001b[39m(f){\u001b[36mreturn\u001b[39m f}})})\u001b[33m,\u001b[39msingleLoader\u001b[33m:\u001b[39m\u001b[36masync\u001b[39m n\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39meu(n\u001b[33m.\u001b[39mtransaction)\u001b[33m:\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequest(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent()\u001b[33m,\u001b[39minteractiveTransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39misWrite\u001b[33m:\u001b[39m\u001b[33mOo\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction)\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mn\u001b[33m.\u001b[39mcustomDataProxyFetch})\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n\u001b[33m,\u001b[39mo)}\u001b[33m,\u001b[39mbatchBy\u001b[33m:\u001b[39mn\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mid\u001b[33m?\u001b[39m\u001b[32m`transaction-${n.transaction.id}`\u001b[39m\u001b[33m:\u001b[39m\u001b[33mZl\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39mbatchOrder(n\u001b[33m,\u001b[39mi){\u001b[36mreturn\u001b[39m n\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m?\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m-\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m:\u001b[39m\u001b[35m0\u001b[39m}})}\u001b[36masync\u001b[39m request(r){\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m.\u001b[39mrequest(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mlet\u001b[39m{clientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma}\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleAndLogRequestError({error\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mglobalOmit})}}mapQueryEngineResult({dataPath\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39munpacker\u001b[33m:\u001b[39mt}\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mdata\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39munpack(i\u001b[33m,\u001b[39mr\u001b[33m,\u001b[39mt)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mPRISMA_CLIENT_GET_TIME\u001b[39m\u001b[33m?\u001b[39m{data\u001b[33m:\u001b[39mo}\u001b[33m:\u001b[39mo}handleAndLogRequestError(r){\u001b[36mtry\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleRequestError(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mthrow\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m.\u001b[39memit(\u001b[32m\"error\"\u001b[39m\u001b[33m,\u001b[39m{message\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mmessage\u001b[33m,\u001b[39mtarget\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mclientMethod\u001b[33m,\u001b[39mtimestamp\u001b[33m:\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m})\u001b[33m,\u001b[39mt}}handleRequestError({error\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma}){\u001b[36mif\u001b[39m(\u001b[33mAf\u001b[39m(r)\u001b[33m,\u001b[39mkf(r\u001b[33m,\u001b[39mi))\u001b[36mthrow\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m z\u001b[33m&&\u001b[39m\u001b[33mOf\u001b[39m(r)){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39mru(r\u001b[33m.\u001b[39mmeta)\u001b[33m;\u001b[39mkn({args\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39m[u]\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39merrorFormat\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma})}\u001b[36mlet\u001b[39m l\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mmessage\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m(l\u001b[33m=\u001b[39mwn({callsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39misPanic\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39misPanic\u001b[33m,\u001b[39mshowColors\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m===\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39mmessage\u001b[33m:\u001b[39ml}))\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39msanitizeMessage(l)\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mcode){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39ms\u001b[33m?\u001b[39m{modelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr\u001b[33m.\u001b[39mmeta}\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mmeta\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m z(l\u001b[33m,\u001b[39m{code\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mcode\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mmeta\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})}\u001b[36melse\u001b[39m{\u001b[36mif\u001b[39m(r\u001b[33m.\u001b[39misPanic)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m j)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m j(l\u001b[33m,\u001b[39m{clientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m \u001b[33mT\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mT\u001b[39m(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m le)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)}\u001b[36mthrow\u001b[39m r\u001b[33m.\u001b[39mclientVersion\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mr}sanitizeMessage(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m!==\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m?\u001b[39m(\u001b[35m0\u001b[39m\u001b[33m,\u001b[39m\u001b[33mXl\u001b[39m\u001b[33m.\u001b[39m\u001b[36mdefault\u001b[39m)(r)\u001b[33m:\u001b[39mr}unpack(r\u001b[33m,\u001b[39mt\u001b[33m,\u001b[39mn){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m||\u001b[39m(r\u001b[33m.\u001b[39mdata\u001b[33m&&\u001b[39m(r\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mdata)\u001b[33m,\u001b[39m\u001b[33m!\u001b[39mr))\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mvalues(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ms\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mfilter(u\u001b[33m=>\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"select\"\u001b[39m\u001b[33m&&\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"include\"\u001b[39m)\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mio(o\u001b[33m,\u001b[39ms)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39mi\u001b[33m===\u001b[39m\u001b[32m\"queryRaw\"\u001b[39m\u001b[33m?\u001b[39mzn(a)\u001b[33m:\u001b[39m\u001b[33mTr\u001b[39m(a)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m?\u001b[39mn(l)\u001b[33m:\u001b[39ml}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"RequestHandler\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mIf\u001b[39m(e){\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39m{isolationLevel\u001b[33m:\u001b[39me\u001b[33m.\u001b[39misolationLevel}}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39meu(e)}\u001b[33m;\u001b[39m_e(e\u001b[33m,\u001b[39m\u001b[32m\"Unknown transaction kind\"\u001b[39m)}}\u001b[36mfunction\u001b[39m eu(e){\u001b[36mreturn\u001b[39m{id\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39mpayload\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mpayload}}\u001b[36mfunction\u001b[39m kf(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m \u001b[33mKn\u001b[39m(e)\u001b[33m&&\u001b[39mr\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m!==\u001b[39mr\u001b[33m.\u001b[39mindex}\u001b[36mfunction\u001b[39m \u001b[33mOf\u001b[39m(e){\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2009\"\u001b[39m\u001b[33m||\u001b[39me\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2012\"\u001b[39m}\u001b[36mfunction\u001b[39m ru(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"Union\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"Union\"\u001b[39m\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39me\u001b[33m.\u001b[39merrors\u001b[33m.\u001b[39mmap(ru)}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e\u001b[33m.\u001b[39mselectionPath)){\u001b[36mlet\u001b[39m[\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr]\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mselectionPath\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[33m...\u001b[39me\u001b[33m,\u001b[39mselectionPath\u001b[33m:\u001b[39mr}}\u001b[36mreturn\u001b[39m e}\u001b[36mvar\u001b[39m tu\u001b[33m=\u001b[39m\u001b[33mSl\u001b[39m\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m au\u001b[33m=\u001b[39mk(\u001b[33mQi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mD\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mError\u001b[39m{constructor(r){\u001b[36msuper\u001b[39m(r\u001b[33m+\u001b[39m\u001b[32m`\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 125 |\u001b[39m \u001b[32mRead more at https://pris.ly/d/client-constructor`\u001b[39m)\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mname\u001b[33m=\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}}\u001b[33m;\u001b[39mx(\u001b[33mD\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m nu\u001b[33m=\u001b[39m[\u001b[32m\"datasources\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"datasourceUrl\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"errorFormat\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"adapter\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"log\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"transactionOptions\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"omit\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"__internal\"\u001b[39m]\u001b[33m,\u001b[39miu\u001b[33m=\u001b[39m[\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"colorless\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"minimal\"\u001b[39m]\u001b[33m,\u001b[39mou\u001b[33m=\u001b[39m[\u001b[32m\"info\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"warn\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"error\"\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mDf\u001b[39m\u001b[33m=\u001b[39m{datasources\u001b[33m:\u001b[39m(e\u001b[33m,\u001b[39m{datasourceNames\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m e\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for \"datasources\" provided to PrismaClient constructor`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[t\u001b[33m,\u001b[39mn]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(e)){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m.\u001b[39mincludes(t)){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mWr\u001b[39m(t\u001b[33m,\u001b[39mr)\u001b[33m||\u001b[39m\u001b[32m` Available datasources: ${r.join(\", \")}`\u001b[39m\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Unknown datasource ${t} provided to PrismaClient constructor.${i}`\u001b[39m)}\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m n\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(n))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 126 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m\u001b[36mtypeof\u001b[39m n\u001b[33m==\u001b[39m\u001b[32m\"object\"\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[i\u001b[33m,\u001b[39mo]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(n)){\u001b[36mif\u001b[39m(i\u001b[33m!==\u001b[39m\u001b[32m\"url\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 127 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m o\u001b[33m!=\u001b[39m\u001b[32m\"string\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(o)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:7649)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError [as handleAndLogRequestError] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6784)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleAndLogRequestError [as request] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6491)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat l (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:133:9778)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/endpoints.rbac.test.ts\u001b[39m\u001b[0m\u001b[2m:46:5)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mRBAC Integration: Endpoint Deletion › should allow ADMIN users to delete endpoints\u001b[39m\u001b[22m\n\n    PrismaClientUnknownRequestError: \n    Invalid `prisma.apiConnection.deleteMany()` invocation in\n    /Users/connorbowen/apiq-mvp/tests/integration/api/endpoints.rbac.test.ts:36:32\n\n      33     }\n      34   }\n      35 });\n    → 36 await prisma.apiConnection.deleteMany(\n    Error occurred during query execution:\n    ConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28405 waits for AccessExclusiveLock on tuple (0,19) of relation 33235 of database 21992; blocked by process 28324.\\nProcess 28324 waits for ShareLock on transaction 54200; blocked by process 28404.\\nProcess 28404 waits for ShareLock on transaction 54205; blocked by process 28326.\\nProcess 28326 waits for AccessExclusiveLock on tuple (0,19) of relation 33235 of database 21992; blocked by process 28405.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 122 |\u001b[39m \u001b[32m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 123 |\u001b[39m \u001b[32mMore Information: https://pris.ly/d/execute-raw\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 124 |\u001b[39m \u001b[32m`\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mCo\u001b[39m\u001b[33m=\u001b[39m({clientMethod\u001b[33m:\u001b[39me\u001b[33m,\u001b[39mactiveProvider\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39mt\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[32m\"\"\u001b[39m\u001b[33m,\u001b[39mi\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mFn\u001b[39m(t))n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(t)){\u001b[36mlet\u001b[39m[o\u001b[33m,\u001b[39m\u001b[33m...\u001b[39ms]\u001b[33m=\u001b[39mt\u001b[33m;\u001b[39mn\u001b[33m=\u001b[39mo\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(s\u001b[33m||\u001b[39m[])\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}}\u001b[36melse\u001b[39m \u001b[36mswitch\u001b[39m(r){\u001b[36mcase\u001b[39m\u001b[32m\"sqlite\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"mysql\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"cockroachdb\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgresql\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgres\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mtext\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"sqlserver\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mjl(t)\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`The ${r} provider does not support ${e}`\u001b[39m)}\u001b[36mreturn\u001b[39m i\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mvalues\u001b[33m?\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n}, ${i.values})`\u001b[39m)\u001b[33m:\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n})`\u001b[39m)\u001b[33m,\u001b[39m{query\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mparameters\u001b[33m:\u001b[39mi}}\u001b[33m,\u001b[39m\u001b[33mWl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e\u001b[33m.\u001b[39mstrings\u001b[33m,\u001b[39m\u001b[33m...\u001b[39me\u001b[33m.\u001b[39mvalues]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mlet\u001b[39m[r\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mt]\u001b[33m=\u001b[39me\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m oe(r\u001b[33m,\u001b[39mt)}}\u001b[33m,\u001b[39m\u001b[33mJl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mreturn\u001b[39m e[\u001b[35m0\u001b[39m]}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mAo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mfunction\u001b[39m(t\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m(s\u001b[33m=\u001b[39me)\u001b[33m=>\u001b[39m{\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m s\u001b[33m===\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m||\u001b[39ms\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33m=\u001b[39m\u001b[33mHl\u001b[39m(t(s))\u001b[33m:\u001b[39m\u001b[33mHl\u001b[39m(t(s))}\u001b[36mcatch\u001b[39m(a){\u001b[36mreturn\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mreject(a)}}\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[36mget\u001b[39m spec(){\u001b[36mreturn\u001b[39m n}\u001b[33m,\u001b[39mthen(s\u001b[33m,\u001b[39ma){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39mthen(s\u001b[33m,\u001b[39ma)}\u001b[33m,\u001b[39m\u001b[36mcatch\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(s)}\u001b[33m,\u001b[39m\u001b[36mfinally\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mfinally\u001b[39m(s)}\u001b[33m,\u001b[39mrequestTransaction(s){\u001b[36mlet\u001b[39m a\u001b[33m=\u001b[39mo(s)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m a\u001b[33m.\u001b[39mrequestTransaction\u001b[33m?\u001b[39ma\u001b[33m.\u001b[39mrequestTransaction(s)\u001b[33m:\u001b[39ma}\u001b[33m,\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag]\u001b[33m:\u001b[39m\u001b[32m\"PrismaPromise\"\u001b[39m}}}\u001b[36mfunction\u001b[39m \u001b[33mHl\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mthen\u001b[33m==\u001b[39m\u001b[32m\"function\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39m\u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mresolve(e)}\u001b[36mvar\u001b[39m \u001b[33mTf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mEi\u001b[39m\u001b[33m.\u001b[39msplit(\u001b[32m\".\"\u001b[39m)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mSf\u001b[39m\u001b[33m=\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m}\u001b[33m,\u001b[39mgetTraceParent(){\u001b[36mreturn\u001b[39m\u001b[32m\"00-10-10-00\"\u001b[39m}\u001b[33m,\u001b[39mdispatchEngineSpans(){}\u001b[33m,\u001b[39mgetActiveContext(){}\u001b[33m,\u001b[39mrunInChildSpan(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m r()}}\u001b[33m,\u001b[39m\u001b[33mIo\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39misEnabled()}getTraceParent(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetTraceParent(r)}dispatchEngineSpans(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mdispatchEngineSpans(r)}getActiveContext(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetActiveContext()}runInChildSpan(r\u001b[33m,\u001b[39mt){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mrunInChildSpan(r\u001b[33m,\u001b[39mt)}getGlobalTracingHelper(){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39mglobalThis[\u001b[32m`V${Tf}_PRISMA_INSTRUMENTATION`\u001b[39m]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39mglobalThis\u001b[33m.\u001b[39m\u001b[33mPRISMA_INSTRUMENTATION\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33mSf\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKl\u001b[39m(){\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mIo\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mYl\u001b[39m(e\u001b[33m,\u001b[39mr\u001b[33m=\u001b[39m()\u001b[33m=>\u001b[39m{}){\u001b[36mlet\u001b[39m t\u001b[33m,\u001b[39mn\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m(i\u001b[33m=>\u001b[39mt\u001b[33m=\u001b[39mi)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{then(i){\u001b[36mreturn\u001b[39m\u001b[33m--\u001b[39me\u001b[33m===\u001b[39m\u001b[35m0\u001b[39m\u001b[33m&&\u001b[39mt(r())\u001b[33m,\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m.\u001b[39m(n)}}}\u001b[36mfunction\u001b[39m zl(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mreduce((r\u001b[33m,\u001b[39mt)\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[36mtypeof\u001b[39m t\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mlevel\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m===\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m?\u001b[39mr\u001b[33m:\u001b[39mr\u001b[33m&&\u001b[39m(t\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m||\u001b[39mr\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m)\u001b[33m?\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m:\u001b[39mn}\u001b[33m,\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mHn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{_middlewares\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39muse(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mpush(r)}\u001b[36mget\u001b[39m(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}has(r){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[33m!\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}length(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mlength}}\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mXl\u001b[39m\u001b[33m=\u001b[39mk(\u001b[33mOi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKn\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m==\u001b[39m\u001b[32m\"number\"\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mZl\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUnique\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUniqueOrThrow\"\u001b[39m)\u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mmodelName\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(e\u001b[33m.\u001b[39mmodelName)\u001b[33m,\u001b[39me\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39mselection))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mjoin(\u001b[32m\"\"\u001b[39m)}\u001b[36mfunction\u001b[39m ko(e){\u001b[36mreturn\u001b[39m\u001b[32m`(${Object.keys(e).sort().map(t=>{let n=e[t];return typeof n==\"object\"&&n!==null?`(${t} ${ko(n)})`:t}).join(\" \")})`\u001b[39m}\u001b[36mvar\u001b[39m \u001b[33mRf\u001b[39m\u001b[33m=\u001b[39m{aggregate\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39maggregateRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mcreateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mexecuteRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mfindFirst\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindFirstOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUnique\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUniqueOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mgroupBy\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mqueryRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mrunCommandRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupsertOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mOo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[33mRf\u001b[39m[e]}\u001b[36mvar\u001b[39m \u001b[33mYn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{constructor(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches\u001b[33m=\u001b[39m{}}batches\u001b[33m;\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m;\u001b[39mrequest(r){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchBy(r)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m t\u001b[33m?\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mprocess\u001b[33m.\u001b[39mnextTick(()\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdispatchBatches()\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m})))\u001b[33m,\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m.\u001b[39mpush({request\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mresolve\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mreject\u001b[33m:\u001b[39mi})}))\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(r)}dispatchBatches(){\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m r \u001b[36min\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m;\u001b[39m\u001b[36mdelete\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m,\u001b[39mt\u001b[33m.\u001b[39mlength\u001b[33m===\u001b[39m\u001b[35m1\u001b[39m\u001b[33m?\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mrequest)\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)\u001b[33m:\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mresolve(n)})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)})\u001b[33m:\u001b[39m(t\u001b[33m.\u001b[39msort((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchOrder(n\u001b[33m.\u001b[39mrequest\u001b[33m,\u001b[39mi\u001b[33m.\u001b[39mrequest))\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchLoader(t\u001b[33m.\u001b[39mmap(n\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mrequest))\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m o\u001b[33m=\u001b[39mn[i]\u001b[33m;\u001b[39mo \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[i]\u001b[33m.\u001b[39mreject(o)\u001b[33m:\u001b[39mt[i]\u001b[33m.\u001b[39mresolve(o)}})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)}))}}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"DataLoader\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m mr(e\u001b[33m,\u001b[39mr){\u001b[36mif\u001b[39m(r\u001b[33m===\u001b[39m\u001b[36mnull\u001b[39m)\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mswitch\u001b[39m(e){\u001b[36mcase\u001b[39m\u001b[32m\"bigint\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[33mBigInt\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes\"\u001b[39m\u001b[33m:\u001b[39m{\u001b[36mlet\u001b[39m{buffer\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mbyteOffset\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mbyteLength\u001b[33m:\u001b[39mi}\u001b[33m=\u001b[39m\u001b[33mBuffer\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m(r\u001b[33m,\u001b[39m\u001b[32m\"base64\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mUint8Array\u001b[39m(t\u001b[33m,\u001b[39mn\u001b[33m,\u001b[39mi)}\u001b[36mcase\u001b[39m\u001b[32m\"decimal\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mPe\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(\u001b[32m`1970-01-01T${r}Z`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bigint-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bigint\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bytes\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"decimal-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"decimal\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"datetime\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"date\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"time\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r}}\u001b[36mfunction\u001b[39m zn(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39m\u001b[33mCf\u001b[39m(e)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mn\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mrows\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mn\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mrows[n]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m{\u001b[33m...\u001b[39mt}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m s\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39ms\u001b[33m<\u001b[39m\u001b[33mi\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39ms\u001b[33m++\u001b[39m)o[e\u001b[33m.\u001b[39mcolumns[s]]\u001b[33m=\u001b[39mmr(e\u001b[33m.\u001b[39mtypes[s]\u001b[33m,\u001b[39mi[s])\u001b[33m;\u001b[39mr\u001b[33m.\u001b[39mpush(o)}\u001b[36mreturn\u001b[39m r}\u001b[36mfunction\u001b[39m \u001b[33mCf\u001b[39m(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m{}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mt\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mcolumns\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mt\u001b[33m++\u001b[39m)r[e\u001b[33m.\u001b[39mcolumns[t]]\u001b[33m=\u001b[39m\u001b[36mnull\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r}\u001b[36mvar\u001b[39m \u001b[33mAf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mN\u001b[39m(\u001b[32m\"prisma:client:request_handler\"\u001b[39m)\u001b[33m,\u001b[39m\u001b[33mZn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{client\u001b[33m;\u001b[39mdataloader\u001b[33m;\u001b[39mlogEmitter\u001b[33m;\u001b[39mconstructor(r\u001b[33m,\u001b[39mt){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m=\u001b[39mt\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m=\u001b[39mr\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mYn\u001b[39m({batchLoader\u001b[33m:\u001b[39mol(\u001b[36masync\u001b[39m({requests\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi})\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m{transaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39motelParentCtx\u001b[33m:\u001b[39ms}\u001b[33m=\u001b[39mn[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mmap(p\u001b[33m=>\u001b[39mp\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent(s)\u001b[33m,\u001b[39mu\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39msome(p\u001b[33m=>\u001b[39m\u001b[33mOo\u001b[39m(p\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction))\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m(\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequestBatch(a\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39ml\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39m\u001b[33mIf\u001b[39m(o)\u001b[33m,\u001b[39mcontainsWrite\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi}))\u001b[33m.\u001b[39mmap((p\u001b[33m,\u001b[39md)\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(p \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mreturn\u001b[39m p\u001b[33m;\u001b[39m\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n[d]\u001b[33m,\u001b[39mp)}\u001b[36mcatch\u001b[39m(f){\u001b[36mreturn\u001b[39m f}})})\u001b[33m,\u001b[39msingleLoader\u001b[33m:\u001b[39m\u001b[36masync\u001b[39m n\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39meu(n\u001b[33m.\u001b[39mtransaction)\u001b[33m:\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequest(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent()\u001b[33m,\u001b[39minteractiveTransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39misWrite\u001b[33m:\u001b[39m\u001b[33mOo\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction)\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mn\u001b[33m.\u001b[39mcustomDataProxyFetch})\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n\u001b[33m,\u001b[39mo)}\u001b[33m,\u001b[39mbatchBy\u001b[33m:\u001b[39mn\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mid\u001b[33m?\u001b[39m\u001b[32m`transaction-${n.transaction.id}`\u001b[39m\u001b[33m:\u001b[39m\u001b[33mZl\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39mbatchOrder(n\u001b[33m,\u001b[39mi){\u001b[36mreturn\u001b[39m n\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m?\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m-\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m:\u001b[39m\u001b[35m0\u001b[39m}})}\u001b[36masync\u001b[39m request(r){\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m.\u001b[39mrequest(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mlet\u001b[39m{clientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma}\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleAndLogRequestError({error\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mglobalOmit})}}mapQueryEngineResult({dataPath\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39munpacker\u001b[33m:\u001b[39mt}\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mdata\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39munpack(i\u001b[33m,\u001b[39mr\u001b[33m,\u001b[39mt)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mPRISMA_CLIENT_GET_TIME\u001b[39m\u001b[33m?\u001b[39m{data\u001b[33m:\u001b[39mo}\u001b[33m:\u001b[39mo}handleAndLogRequestError(r){\u001b[36mtry\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleRequestError(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mthrow\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m.\u001b[39memit(\u001b[32m\"error\"\u001b[39m\u001b[33m,\u001b[39m{message\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mmessage\u001b[33m,\u001b[39mtarget\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mclientMethod\u001b[33m,\u001b[39mtimestamp\u001b[33m:\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m})\u001b[33m,\u001b[39mt}}handleRequestError({error\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma}){\u001b[36mif\u001b[39m(\u001b[33mAf\u001b[39m(r)\u001b[33m,\u001b[39mkf(r\u001b[33m,\u001b[39mi))\u001b[36mthrow\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m z\u001b[33m&&\u001b[39m\u001b[33mOf\u001b[39m(r)){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39mru(r\u001b[33m.\u001b[39mmeta)\u001b[33m;\u001b[39mkn({args\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39m[u]\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39merrorFormat\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma})}\u001b[36mlet\u001b[39m l\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mmessage\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m(l\u001b[33m=\u001b[39mwn({callsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39misPanic\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39misPanic\u001b[33m,\u001b[39mshowColors\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m===\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39mmessage\u001b[33m:\u001b[39ml}))\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39msanitizeMessage(l)\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mcode){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39ms\u001b[33m?\u001b[39m{modelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr\u001b[33m.\u001b[39mmeta}\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mmeta\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m z(l\u001b[33m,\u001b[39m{code\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mcode\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mmeta\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})}\u001b[36melse\u001b[39m{\u001b[36mif\u001b[39m(r\u001b[33m.\u001b[39misPanic)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m j)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m j(l\u001b[33m,\u001b[39m{clientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m \u001b[33mT\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mT\u001b[39m(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m le)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)}\u001b[36mthrow\u001b[39m r\u001b[33m.\u001b[39mclientVersion\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mr}sanitizeMessage(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m!==\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m?\u001b[39m(\u001b[35m0\u001b[39m\u001b[33m,\u001b[39m\u001b[33mXl\u001b[39m\u001b[33m.\u001b[39m\u001b[36mdefault\u001b[39m)(r)\u001b[33m:\u001b[39mr}unpack(r\u001b[33m,\u001b[39mt\u001b[33m,\u001b[39mn){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m||\u001b[39m(r\u001b[33m.\u001b[39mdata\u001b[33m&&\u001b[39m(r\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mdata)\u001b[33m,\u001b[39m\u001b[33m!\u001b[39mr))\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mvalues(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ms\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mfilter(u\u001b[33m=>\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"select\"\u001b[39m\u001b[33m&&\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"include\"\u001b[39m)\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mio(o\u001b[33m,\u001b[39ms)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39mi\u001b[33m===\u001b[39m\u001b[32m\"queryRaw\"\u001b[39m\u001b[33m?\u001b[39mzn(a)\u001b[33m:\u001b[39m\u001b[33mTr\u001b[39m(a)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m?\u001b[39mn(l)\u001b[33m:\u001b[39ml}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"RequestHandler\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mIf\u001b[39m(e){\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39m{isolationLevel\u001b[33m:\u001b[39me\u001b[33m.\u001b[39misolationLevel}}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39meu(e)}\u001b[33m;\u001b[39m_e(e\u001b[33m,\u001b[39m\u001b[32m\"Unknown transaction kind\"\u001b[39m)}}\u001b[36mfunction\u001b[39m eu(e){\u001b[36mreturn\u001b[39m{id\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39mpayload\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mpayload}}\u001b[36mfunction\u001b[39m kf(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m \u001b[33mKn\u001b[39m(e)\u001b[33m&&\u001b[39mr\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m!==\u001b[39mr\u001b[33m.\u001b[39mindex}\u001b[36mfunction\u001b[39m \u001b[33mOf\u001b[39m(e){\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2009\"\u001b[39m\u001b[33m||\u001b[39me\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2012\"\u001b[39m}\u001b[36mfunction\u001b[39m ru(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"Union\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"Union\"\u001b[39m\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39me\u001b[33m.\u001b[39merrors\u001b[33m.\u001b[39mmap(ru)}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e\u001b[33m.\u001b[39mselectionPath)){\u001b[36mlet\u001b[39m[\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr]\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mselectionPath\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[33m...\u001b[39me\u001b[33m,\u001b[39mselectionPath\u001b[33m:\u001b[39mr}}\u001b[36mreturn\u001b[39m e}\u001b[36mvar\u001b[39m tu\u001b[33m=\u001b[39m\u001b[33mSl\u001b[39m\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m au\u001b[33m=\u001b[39mk(\u001b[33mQi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mD\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mError\u001b[39m{constructor(r){\u001b[36msuper\u001b[39m(r\u001b[33m+\u001b[39m\u001b[32m`\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 125 |\u001b[39m \u001b[32mRead more at https://pris.ly/d/client-constructor`\u001b[39m)\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mname\u001b[33m=\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}}\u001b[33m;\u001b[39mx(\u001b[33mD\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m nu\u001b[33m=\u001b[39m[\u001b[32m\"datasources\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"datasourceUrl\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"errorFormat\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"adapter\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"log\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"transactionOptions\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"omit\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"__internal\"\u001b[39m]\u001b[33m,\u001b[39miu\u001b[33m=\u001b[39m[\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"colorless\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"minimal\"\u001b[39m]\u001b[33m,\u001b[39mou\u001b[33m=\u001b[39m[\u001b[32m\"info\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"warn\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"error\"\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mDf\u001b[39m\u001b[33m=\u001b[39m{datasources\u001b[33m:\u001b[39m(e\u001b[33m,\u001b[39m{datasourceNames\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m e\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for \"datasources\" provided to PrismaClient constructor`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[t\u001b[33m,\u001b[39mn]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(e)){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m.\u001b[39mincludes(t)){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mWr\u001b[39m(t\u001b[33m,\u001b[39mr)\u001b[33m||\u001b[39m\u001b[32m` Available datasources: ${r.join(\", \")}`\u001b[39m\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Unknown datasource ${t} provided to PrismaClient constructor.${i}`\u001b[39m)}\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m n\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(n))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 126 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m\u001b[36mtypeof\u001b[39m n\u001b[33m==\u001b[39m\u001b[32m\"object\"\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[i\u001b[33m,\u001b[39mo]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(n)){\u001b[36mif\u001b[39m(i\u001b[33m!==\u001b[39m\u001b[32m\"url\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 127 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m o\u001b[33m!=\u001b[39m\u001b[32m\"string\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(o)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:7649)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError [as handleAndLogRequestError] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6784)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleAndLogRequestError [as request] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6491)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat l (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:133:9778)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/endpoints.rbac.test.ts\u001b[39m\u001b[0m\u001b[2m:36:5)\u001b[22m\u001b[2m\u001b[22m\n","name":"/Users/connorbowen/apiq-mvp/tests/integration/api/endpoints.rbac.test.ts","startTime":1751471245297,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Test API Integration","OpenAPI Spec Fetching"],"duration":18,"failureDetails":[],"failureMessages":[],"fullName":"Test API Integration OpenAPI Spec Fetching should fetch and parse OpenAPI spec for Petstore API","invocations":1,"location":null,"numPassingAsserts":9,"retryReasons":[],"status":"passed","title":"should fetch and parse OpenAPI spec for Petstore API"},{"ancestorTitles":["Test API Integration","OpenAPI Spec Fetching"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Test API Integration OpenAPI Spec Fetching should handle non-OpenAPI JSON for HTTPBin","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle non-OpenAPI JSON for HTTPBin"},{"ancestorTitles":["Test API Integration","OpenAPI Spec Fetching"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Test API Integration OpenAPI Spec Fetching should handle non-OpenAPI JSON for JSONPlaceholder","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle non-OpenAPI JSON for JSONPlaceholder"},{"ancestorTitles":["Test API Integration","OpenAPI Spec Fetching"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Test API Integration OpenAPI Spec Fetching should handle non-OpenAPI JSON for GitHub API","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle non-OpenAPI JSON for GitHub API"},{"ancestorTitles":["Test API Integration","API Health Checks"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Test API Integration API Health Checks should reach base URL for Petstore API","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reach base URL for Petstore API"},{"ancestorTitles":["Test API Integration","API Health Checks"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Test API Integration API Health Checks should reach base URL for HTTPBin","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reach base URL for HTTPBin"},{"ancestorTitles":["Test API Integration","API Health Checks"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Test API Integration API Health Checks should reach base URL for JSONPlaceholder","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reach base URL for JSONPlaceholder"},{"ancestorTitles":["Test API Integration","API Health Checks"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Test API Integration API Health Checks should reach base URL for GitHub API","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reach base URL for GitHub API"},{"ancestorTitles":["Test API Integration","Rate Limit Simulation"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Test API Integration Rate Limit Simulation should handle rate limiting gracefully","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle rate limiting gracefully"},{"ancestorTitles":["Test API Integration","Error Handling"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Test API Integration Error Handling should handle invalid spec URLs gracefully","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle invalid spec URLs gracefully"},{"ancestorTitles":["Test API Integration","Error Handling"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Test API Integration Error Handling should handle malformed JSON gracefully","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle malformed JSON gracefully"}],"endTime":1751471248444,"message":"","name":"/Users/connorbowen/apiq-mvp/tests/integration/api/testApis.test.ts","startTime":1751471248272,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["SAML/OIDC Authentication Integration Tests","GET /api/auth/saml/{provider}"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"SAML/OIDC Authentication Integration Tests GET /api/auth/saml/{provider} should initiate SAML SSO flow for Okta","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should initiate SAML SSO flow for Okta"},{"ancestorTitles":["SAML/OIDC Authentication Integration Tests","GET /api/auth/saml/{provider}"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SAML/OIDC Authentication Integration Tests GET /api/auth/saml/{provider} should initiate SAML SSO flow for Azure AD","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should initiate SAML SSO flow for Azure AD"},{"ancestorTitles":["SAML/OIDC Authentication Integration Tests","GET /api/auth/saml/{provider}"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SAML/OIDC Authentication Integration Tests GET /api/auth/saml/{provider} should reject unsupported SAML provider","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should reject unsupported SAML provider"},{"ancestorTitles":["SAML/OIDC Authentication Integration Tests","POST /api/auth/saml/callback"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SAML/OIDC Authentication Integration Tests POST /api/auth/saml/callback should process valid SAML assertion","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should process valid SAML assertion"},{"ancestorTitles":["SAML/OIDC Authentication Integration Tests","POST /api/auth/saml/callback"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SAML/OIDC Authentication Integration Tests POST /api/auth/saml/callback should reject invalid SAML signature","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should reject invalid SAML signature"},{"ancestorTitles":["SAML/OIDC Authentication Integration Tests","POST /api/auth/saml/callback"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SAML/OIDC Authentication Integration Tests POST /api/auth/saml/callback should reject missing SAML response","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should reject missing SAML response"},{"ancestorTitles":["SAML/OIDC Authentication Integration Tests","GET /api/auth/oidc/{provider}"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SAML/OIDC Authentication Integration Tests GET /api/auth/oidc/{provider} should initiate OIDC flow for Okta","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should initiate OIDC flow for Okta"},{"ancestorTitles":["SAML/OIDC Authentication Integration Tests","GET /api/auth/oidc/{provider}"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SAML/OIDC Authentication Integration Tests GET /api/auth/oidc/{provider} should initiate OIDC flow for Azure AD","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should initiate OIDC flow for Azure AD"},{"ancestorTitles":["SAML/OIDC Authentication Integration Tests","GET /api/auth/oidc/callback"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SAML/OIDC Authentication Integration Tests GET /api/auth/oidc/callback should process valid OIDC callback","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should process valid OIDC callback"},{"ancestorTitles":["SAML/OIDC Authentication Integration Tests","GET /api/auth/oidc/callback"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SAML/OIDC Authentication Integration Tests GET /api/auth/oidc/callback should reject missing OIDC parameters","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should reject missing OIDC parameters"}],"endTime":1751471248685,"message":"","name":"/Users/connorbowen/apiq-mvp/tests/integration/api/saml-oidc.test.ts","startTime":1751471248447,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Debug Authentication Issue"],"duration":169,"failureDetails":[],"failureMessages":[],"fullName":"Debug Authentication Issue should create and authenticate a test user","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should create and authenticate a test user"}],"endTime":1751471248909,"message":"","name":"/Users/connorbowen/apiq-mvp/tests/integration/debug-auth.test.ts","startTime":1751471248688,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Database Integration Tests"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"Database Integration Tests should connect to the database","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should connect to the database"},{"ancestorTitles":["Database Integration Tests"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Database Integration Tests should find existing users","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should find existing users"},{"ancestorTitles":["Database Integration Tests"],"duration":158,"failureDetails":[],"failureMessages":[],"fullName":"Database Integration Tests should create and delete test data","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should create and delete test data"}],"endTime":1751471249136,"message":"","name":"/Users/connorbowen/apiq-mvp/tests/integration/database.test.ts","startTime":1751471248912,"status":"passed","summary":""},{"assertionResults":[],"coverage":{},"endTime":1751471418399,"message":"  \u001b[1m● \u001b[22mTest suite failed to run\n\n    Cannot find module '../../helpers/test-db' from 'tests/integration/queue/queueService.integration.test.ts'\n\n    \u001b[0m \u001b[90m 4 |\u001b[39m\n     \u001b[90m 5 |\u001b[39m describe(\u001b[32m'QueueService Integration Tests'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 6 |\u001b[39m   \u001b[36mlet\u001b[39m queueService\u001b[33m:\u001b[39m \u001b[33mQueueService\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m   |\u001b[39m                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 7 |\u001b[39m   \u001b[36mlet\u001b[39m testConfig\u001b[33m:\u001b[39m \u001b[33mQueueServiceConfig\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 8 |\u001b[39m   \u001b[36mlet\u001b[39m testDb\u001b[33m:\u001b[39m any\u001b[33m;\u001b[39m\n     \u001b[90m 9 |\u001b[39m   \u001b[36mlet\u001b[39m prisma\u001b[33m:\u001b[39m \u001b[33mPrismaClient\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\n      \u001b[2mat Resolver._throwModNotFoundError (\u001b[22mnode_modules/jest-resolve/build/resolver.js\u001b[2m:427:11)\u001b[22m\n      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[0m\u001b[36mtests/integration/queue/queueService.integration.test.ts\u001b[39m\u001b[0m\u001b[2m:6:17)\u001b[22m\n","name":"/Users/connorbowen/apiq-mvp/tests/integration/queue/queueService.integration.test.ts","startTime":1751471418399,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Real API Connections Integration Tests","POST /api/connections - Real API Tests"],"duration":1320,"failureDetails":[{"name":"PrismaClientUnknownRequestError","clientVersion":"6.10.1"}],"failureMessages":["PrismaClientUnknownRequestError: \nInvalid `prisma.apiConnection.deleteMany()` invocation in\n/Users/connorbowen/apiq-mvp/tests/integration/api/real-api-connections.test.ts:60:32\n\n  57     }\n  58   }\n  59 });\n→ 60 await prisma.apiConnection.deleteMany(\nError occurred during query execution:\nConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28404 waits for AccessExclusiveLock on tuple (0,19) of relation 33235 of database 21992; blocked by process 28324.\\nProcess 28324 waits for ShareLock on transaction 54192; blocked by process 28405.\\nProcess 28405 waits for ShareLock on transaction 54197; blocked by process 28328.\\nProcess 28328 waits for AccessShareLock on tuple (0,19) of relation 33235 of database 21992; blocked by process 28404.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n    at Zn.handleRequestError (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:7649)\n    at Zn.handleRequestError [as handleAndLogRequestError] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6784)\n    at Zn.handleAndLogRequestError [as request] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6491)\n    at l (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:133:9778)\n    at Object.<anonymous> (/Users/connorbowen/apiq-mvp/tests/integration/api/real-api-connections.test.ts:60:5)"],"fullName":"Real API Connections Integration Tests POST /api/connections - Real API Tests should create API connection with real Petstore OpenAPI spec","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should create API connection with real Petstore OpenAPI spec"},{"ancestorTitles":["Real API Connections Integration Tests","POST /api/connections - Real API Tests"],"duration":1700,"failureDetails":[],"failureMessages":[],"fullName":"Real API Connections Integration Tests POST /api/connections - Real API Tests should handle missing OpenAPI spec gracefully","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should handle missing OpenAPI spec gracefully"},{"ancestorTitles":["Real API Connections Integration Tests","POST /api/connections - Real API Tests"],"duration":1464,"failureDetails":[],"failureMessages":[],"fullName":"Real API Connections Integration Tests POST /api/connections - Real API Tests should handle network errors gracefully","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should handle network errors gracefully"}],"endTime":1751471250152,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mReal API Connections Integration Tests › POST /api/connections - Real API Tests › should create API connection with real Petstore OpenAPI spec\u001b[39m\u001b[22m\n\n    PrismaClientUnknownRequestError: \n    Invalid `prisma.apiConnection.deleteMany()` invocation in\n    /Users/connorbowen/apiq-mvp/tests/integration/api/real-api-connections.test.ts:60:32\n\n      57     }\n      58   }\n      59 });\n    → 60 await prisma.apiConnection.deleteMany(\n    Error occurred during query execution:\n    ConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28404 waits for AccessExclusiveLock on tuple (0,19) of relation 33235 of database 21992; blocked by process 28324.\\nProcess 28324 waits for ShareLock on transaction 54192; blocked by process 28405.\\nProcess 28405 waits for ShareLock on transaction 54197; blocked by process 28328.\\nProcess 28328 waits for AccessShareLock on tuple (0,19) of relation 33235 of database 21992; blocked by process 28404.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 122 |\u001b[39m \u001b[32m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 123 |\u001b[39m \u001b[32mMore Information: https://pris.ly/d/execute-raw\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 124 |\u001b[39m \u001b[32m`\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mCo\u001b[39m\u001b[33m=\u001b[39m({clientMethod\u001b[33m:\u001b[39me\u001b[33m,\u001b[39mactiveProvider\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39mt\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[32m\"\"\u001b[39m\u001b[33m,\u001b[39mi\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mFn\u001b[39m(t))n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(t)){\u001b[36mlet\u001b[39m[o\u001b[33m,\u001b[39m\u001b[33m...\u001b[39ms]\u001b[33m=\u001b[39mt\u001b[33m;\u001b[39mn\u001b[33m=\u001b[39mo\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(s\u001b[33m||\u001b[39m[])\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}}\u001b[36melse\u001b[39m \u001b[36mswitch\u001b[39m(r){\u001b[36mcase\u001b[39m\u001b[32m\"sqlite\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"mysql\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"cockroachdb\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgresql\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgres\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mtext\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"sqlserver\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mjl(t)\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`The ${r} provider does not support ${e}`\u001b[39m)}\u001b[36mreturn\u001b[39m i\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mvalues\u001b[33m?\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n}, ${i.values})`\u001b[39m)\u001b[33m:\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n})`\u001b[39m)\u001b[33m,\u001b[39m{query\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mparameters\u001b[33m:\u001b[39mi}}\u001b[33m,\u001b[39m\u001b[33mWl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e\u001b[33m.\u001b[39mstrings\u001b[33m,\u001b[39m\u001b[33m...\u001b[39me\u001b[33m.\u001b[39mvalues]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mlet\u001b[39m[r\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mt]\u001b[33m=\u001b[39me\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m oe(r\u001b[33m,\u001b[39mt)}}\u001b[33m,\u001b[39m\u001b[33mJl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mreturn\u001b[39m e[\u001b[35m0\u001b[39m]}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mAo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mfunction\u001b[39m(t\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m(s\u001b[33m=\u001b[39me)\u001b[33m=>\u001b[39m{\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m s\u001b[33m===\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m||\u001b[39ms\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33m=\u001b[39m\u001b[33mHl\u001b[39m(t(s))\u001b[33m:\u001b[39m\u001b[33mHl\u001b[39m(t(s))}\u001b[36mcatch\u001b[39m(a){\u001b[36mreturn\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mreject(a)}}\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[36mget\u001b[39m spec(){\u001b[36mreturn\u001b[39m n}\u001b[33m,\u001b[39mthen(s\u001b[33m,\u001b[39ma){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39mthen(s\u001b[33m,\u001b[39ma)}\u001b[33m,\u001b[39m\u001b[36mcatch\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(s)}\u001b[33m,\u001b[39m\u001b[36mfinally\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mfinally\u001b[39m(s)}\u001b[33m,\u001b[39mrequestTransaction(s){\u001b[36mlet\u001b[39m a\u001b[33m=\u001b[39mo(s)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m a\u001b[33m.\u001b[39mrequestTransaction\u001b[33m?\u001b[39ma\u001b[33m.\u001b[39mrequestTransaction(s)\u001b[33m:\u001b[39ma}\u001b[33m,\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag]\u001b[33m:\u001b[39m\u001b[32m\"PrismaPromise\"\u001b[39m}}}\u001b[36mfunction\u001b[39m \u001b[33mHl\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mthen\u001b[33m==\u001b[39m\u001b[32m\"function\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39m\u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mresolve(e)}\u001b[36mvar\u001b[39m \u001b[33mTf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mEi\u001b[39m\u001b[33m.\u001b[39msplit(\u001b[32m\".\"\u001b[39m)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mSf\u001b[39m\u001b[33m=\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m}\u001b[33m,\u001b[39mgetTraceParent(){\u001b[36mreturn\u001b[39m\u001b[32m\"00-10-10-00\"\u001b[39m}\u001b[33m,\u001b[39mdispatchEngineSpans(){}\u001b[33m,\u001b[39mgetActiveContext(){}\u001b[33m,\u001b[39mrunInChildSpan(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m r()}}\u001b[33m,\u001b[39m\u001b[33mIo\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39misEnabled()}getTraceParent(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetTraceParent(r)}dispatchEngineSpans(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mdispatchEngineSpans(r)}getActiveContext(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetActiveContext()}runInChildSpan(r\u001b[33m,\u001b[39mt){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mrunInChildSpan(r\u001b[33m,\u001b[39mt)}getGlobalTracingHelper(){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39mglobalThis[\u001b[32m`V${Tf}_PRISMA_INSTRUMENTATION`\u001b[39m]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39mglobalThis\u001b[33m.\u001b[39m\u001b[33mPRISMA_INSTRUMENTATION\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33mSf\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKl\u001b[39m(){\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mIo\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mYl\u001b[39m(e\u001b[33m,\u001b[39mr\u001b[33m=\u001b[39m()\u001b[33m=>\u001b[39m{}){\u001b[36mlet\u001b[39m t\u001b[33m,\u001b[39mn\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m(i\u001b[33m=>\u001b[39mt\u001b[33m=\u001b[39mi)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{then(i){\u001b[36mreturn\u001b[39m\u001b[33m--\u001b[39me\u001b[33m===\u001b[39m\u001b[35m0\u001b[39m\u001b[33m&&\u001b[39mt(r())\u001b[33m,\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m.\u001b[39m(n)}}}\u001b[36mfunction\u001b[39m zl(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mreduce((r\u001b[33m,\u001b[39mt)\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[36mtypeof\u001b[39m t\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mlevel\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m===\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m?\u001b[39mr\u001b[33m:\u001b[39mr\u001b[33m&&\u001b[39m(t\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m||\u001b[39mr\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m)\u001b[33m?\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m:\u001b[39mn}\u001b[33m,\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mHn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{_middlewares\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39muse(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mpush(r)}\u001b[36mget\u001b[39m(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}has(r){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[33m!\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}length(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mlength}}\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mXl\u001b[39m\u001b[33m=\u001b[39mk(\u001b[33mOi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKn\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m==\u001b[39m\u001b[32m\"number\"\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mZl\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUnique\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUniqueOrThrow\"\u001b[39m)\u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mmodelName\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(e\u001b[33m.\u001b[39mmodelName)\u001b[33m,\u001b[39me\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39mselection))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mjoin(\u001b[32m\"\"\u001b[39m)}\u001b[36mfunction\u001b[39m ko(e){\u001b[36mreturn\u001b[39m\u001b[32m`(${Object.keys(e).sort().map(t=>{let n=e[t];return typeof n==\"object\"&&n!==null?`(${t} ${ko(n)})`:t}).join(\" \")})`\u001b[39m}\u001b[36mvar\u001b[39m \u001b[33mRf\u001b[39m\u001b[33m=\u001b[39m{aggregate\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39maggregateRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mcreateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mexecuteRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mfindFirst\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindFirstOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUnique\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUniqueOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mgroupBy\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mqueryRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mrunCommandRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupsertOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mOo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[33mRf\u001b[39m[e]}\u001b[36mvar\u001b[39m \u001b[33mYn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{constructor(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches\u001b[33m=\u001b[39m{}}batches\u001b[33m;\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m;\u001b[39mrequest(r){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchBy(r)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m t\u001b[33m?\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mprocess\u001b[33m.\u001b[39mnextTick(()\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdispatchBatches()\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m})))\u001b[33m,\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m.\u001b[39mpush({request\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mresolve\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mreject\u001b[33m:\u001b[39mi})}))\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(r)}dispatchBatches(){\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m r \u001b[36min\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m;\u001b[39m\u001b[36mdelete\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m,\u001b[39mt\u001b[33m.\u001b[39mlength\u001b[33m===\u001b[39m\u001b[35m1\u001b[39m\u001b[33m?\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mrequest)\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)\u001b[33m:\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mresolve(n)})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)})\u001b[33m:\u001b[39m(t\u001b[33m.\u001b[39msort((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchOrder(n\u001b[33m.\u001b[39mrequest\u001b[33m,\u001b[39mi\u001b[33m.\u001b[39mrequest))\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchLoader(t\u001b[33m.\u001b[39mmap(n\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mrequest))\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m o\u001b[33m=\u001b[39mn[i]\u001b[33m;\u001b[39mo \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[i]\u001b[33m.\u001b[39mreject(o)\u001b[33m:\u001b[39mt[i]\u001b[33m.\u001b[39mresolve(o)}})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)}))}}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"DataLoader\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m mr(e\u001b[33m,\u001b[39mr){\u001b[36mif\u001b[39m(r\u001b[33m===\u001b[39m\u001b[36mnull\u001b[39m)\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mswitch\u001b[39m(e){\u001b[36mcase\u001b[39m\u001b[32m\"bigint\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[33mBigInt\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes\"\u001b[39m\u001b[33m:\u001b[39m{\u001b[36mlet\u001b[39m{buffer\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mbyteOffset\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mbyteLength\u001b[33m:\u001b[39mi}\u001b[33m=\u001b[39m\u001b[33mBuffer\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m(r\u001b[33m,\u001b[39m\u001b[32m\"base64\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mUint8Array\u001b[39m(t\u001b[33m,\u001b[39mn\u001b[33m,\u001b[39mi)}\u001b[36mcase\u001b[39m\u001b[32m\"decimal\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mPe\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(\u001b[32m`1970-01-01T${r}Z`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bigint-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bigint\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bytes\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"decimal-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"decimal\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"datetime\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"date\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"time\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r}}\u001b[36mfunction\u001b[39m zn(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39m\u001b[33mCf\u001b[39m(e)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mn\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mrows\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mn\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mrows[n]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m{\u001b[33m...\u001b[39mt}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m s\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39ms\u001b[33m<\u001b[39m\u001b[33mi\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39ms\u001b[33m++\u001b[39m)o[e\u001b[33m.\u001b[39mcolumns[s]]\u001b[33m=\u001b[39mmr(e\u001b[33m.\u001b[39mtypes[s]\u001b[33m,\u001b[39mi[s])\u001b[33m;\u001b[39mr\u001b[33m.\u001b[39mpush(o)}\u001b[36mreturn\u001b[39m r}\u001b[36mfunction\u001b[39m \u001b[33mCf\u001b[39m(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m{}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mt\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mcolumns\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mt\u001b[33m++\u001b[39m)r[e\u001b[33m.\u001b[39mcolumns[t]]\u001b[33m=\u001b[39m\u001b[36mnull\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r}\u001b[36mvar\u001b[39m \u001b[33mAf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mN\u001b[39m(\u001b[32m\"prisma:client:request_handler\"\u001b[39m)\u001b[33m,\u001b[39m\u001b[33mZn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{client\u001b[33m;\u001b[39mdataloader\u001b[33m;\u001b[39mlogEmitter\u001b[33m;\u001b[39mconstructor(r\u001b[33m,\u001b[39mt){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m=\u001b[39mt\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m=\u001b[39mr\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mYn\u001b[39m({batchLoader\u001b[33m:\u001b[39mol(\u001b[36masync\u001b[39m({requests\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi})\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m{transaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39motelParentCtx\u001b[33m:\u001b[39ms}\u001b[33m=\u001b[39mn[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mmap(p\u001b[33m=>\u001b[39mp\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent(s)\u001b[33m,\u001b[39mu\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39msome(p\u001b[33m=>\u001b[39m\u001b[33mOo\u001b[39m(p\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction))\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m(\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequestBatch(a\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39ml\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39m\u001b[33mIf\u001b[39m(o)\u001b[33m,\u001b[39mcontainsWrite\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi}))\u001b[33m.\u001b[39mmap((p\u001b[33m,\u001b[39md)\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(p \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mreturn\u001b[39m p\u001b[33m;\u001b[39m\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n[d]\u001b[33m,\u001b[39mp)}\u001b[36mcatch\u001b[39m(f){\u001b[36mreturn\u001b[39m f}})})\u001b[33m,\u001b[39msingleLoader\u001b[33m:\u001b[39m\u001b[36masync\u001b[39m n\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39meu(n\u001b[33m.\u001b[39mtransaction)\u001b[33m:\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequest(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent()\u001b[33m,\u001b[39minteractiveTransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39misWrite\u001b[33m:\u001b[39m\u001b[33mOo\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction)\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mn\u001b[33m.\u001b[39mcustomDataProxyFetch})\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n\u001b[33m,\u001b[39mo)}\u001b[33m,\u001b[39mbatchBy\u001b[33m:\u001b[39mn\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mid\u001b[33m?\u001b[39m\u001b[32m`transaction-${n.transaction.id}`\u001b[39m\u001b[33m:\u001b[39m\u001b[33mZl\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39mbatchOrder(n\u001b[33m,\u001b[39mi){\u001b[36mreturn\u001b[39m n\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m?\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m-\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m:\u001b[39m\u001b[35m0\u001b[39m}})}\u001b[36masync\u001b[39m request(r){\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m.\u001b[39mrequest(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mlet\u001b[39m{clientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma}\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleAndLogRequestError({error\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mglobalOmit})}}mapQueryEngineResult({dataPath\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39munpacker\u001b[33m:\u001b[39mt}\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mdata\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39munpack(i\u001b[33m,\u001b[39mr\u001b[33m,\u001b[39mt)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mPRISMA_CLIENT_GET_TIME\u001b[39m\u001b[33m?\u001b[39m{data\u001b[33m:\u001b[39mo}\u001b[33m:\u001b[39mo}handleAndLogRequestError(r){\u001b[36mtry\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleRequestError(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mthrow\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m.\u001b[39memit(\u001b[32m\"error\"\u001b[39m\u001b[33m,\u001b[39m{message\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mmessage\u001b[33m,\u001b[39mtarget\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mclientMethod\u001b[33m,\u001b[39mtimestamp\u001b[33m:\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m})\u001b[33m,\u001b[39mt}}handleRequestError({error\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma}){\u001b[36mif\u001b[39m(\u001b[33mAf\u001b[39m(r)\u001b[33m,\u001b[39mkf(r\u001b[33m,\u001b[39mi))\u001b[36mthrow\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m z\u001b[33m&&\u001b[39m\u001b[33mOf\u001b[39m(r)){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39mru(r\u001b[33m.\u001b[39mmeta)\u001b[33m;\u001b[39mkn({args\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39m[u]\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39merrorFormat\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma})}\u001b[36mlet\u001b[39m l\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mmessage\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m(l\u001b[33m=\u001b[39mwn({callsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39misPanic\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39misPanic\u001b[33m,\u001b[39mshowColors\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m===\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39mmessage\u001b[33m:\u001b[39ml}))\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39msanitizeMessage(l)\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mcode){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39ms\u001b[33m?\u001b[39m{modelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr\u001b[33m.\u001b[39mmeta}\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mmeta\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m z(l\u001b[33m,\u001b[39m{code\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mcode\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mmeta\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})}\u001b[36melse\u001b[39m{\u001b[36mif\u001b[39m(r\u001b[33m.\u001b[39misPanic)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m j)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m j(l\u001b[33m,\u001b[39m{clientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m \u001b[33mT\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mT\u001b[39m(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m le)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)}\u001b[36mthrow\u001b[39m r\u001b[33m.\u001b[39mclientVersion\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mr}sanitizeMessage(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m!==\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m?\u001b[39m(\u001b[35m0\u001b[39m\u001b[33m,\u001b[39m\u001b[33mXl\u001b[39m\u001b[33m.\u001b[39m\u001b[36mdefault\u001b[39m)(r)\u001b[33m:\u001b[39mr}unpack(r\u001b[33m,\u001b[39mt\u001b[33m,\u001b[39mn){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m||\u001b[39m(r\u001b[33m.\u001b[39mdata\u001b[33m&&\u001b[39m(r\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mdata)\u001b[33m,\u001b[39m\u001b[33m!\u001b[39mr))\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mvalues(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ms\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mfilter(u\u001b[33m=>\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"select\"\u001b[39m\u001b[33m&&\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"include\"\u001b[39m)\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mio(o\u001b[33m,\u001b[39ms)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39mi\u001b[33m===\u001b[39m\u001b[32m\"queryRaw\"\u001b[39m\u001b[33m?\u001b[39mzn(a)\u001b[33m:\u001b[39m\u001b[33mTr\u001b[39m(a)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m?\u001b[39mn(l)\u001b[33m:\u001b[39ml}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"RequestHandler\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mIf\u001b[39m(e){\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39m{isolationLevel\u001b[33m:\u001b[39me\u001b[33m.\u001b[39misolationLevel}}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39meu(e)}\u001b[33m;\u001b[39m_e(e\u001b[33m,\u001b[39m\u001b[32m\"Unknown transaction kind\"\u001b[39m)}}\u001b[36mfunction\u001b[39m eu(e){\u001b[36mreturn\u001b[39m{id\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39mpayload\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mpayload}}\u001b[36mfunction\u001b[39m kf(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m \u001b[33mKn\u001b[39m(e)\u001b[33m&&\u001b[39mr\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m!==\u001b[39mr\u001b[33m.\u001b[39mindex}\u001b[36mfunction\u001b[39m \u001b[33mOf\u001b[39m(e){\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2009\"\u001b[39m\u001b[33m||\u001b[39me\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2012\"\u001b[39m}\u001b[36mfunction\u001b[39m ru(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"Union\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"Union\"\u001b[39m\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39me\u001b[33m.\u001b[39merrors\u001b[33m.\u001b[39mmap(ru)}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e\u001b[33m.\u001b[39mselectionPath)){\u001b[36mlet\u001b[39m[\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr]\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mselectionPath\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[33m...\u001b[39me\u001b[33m,\u001b[39mselectionPath\u001b[33m:\u001b[39mr}}\u001b[36mreturn\u001b[39m e}\u001b[36mvar\u001b[39m tu\u001b[33m=\u001b[39m\u001b[33mSl\u001b[39m\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m au\u001b[33m=\u001b[39mk(\u001b[33mQi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mD\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mError\u001b[39m{constructor(r){\u001b[36msuper\u001b[39m(r\u001b[33m+\u001b[39m\u001b[32m`\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 125 |\u001b[39m \u001b[32mRead more at https://pris.ly/d/client-constructor`\u001b[39m)\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mname\u001b[33m=\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}}\u001b[33m;\u001b[39mx(\u001b[33mD\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m nu\u001b[33m=\u001b[39m[\u001b[32m\"datasources\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"datasourceUrl\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"errorFormat\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"adapter\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"log\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"transactionOptions\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"omit\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"__internal\"\u001b[39m]\u001b[33m,\u001b[39miu\u001b[33m=\u001b[39m[\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"colorless\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"minimal\"\u001b[39m]\u001b[33m,\u001b[39mou\u001b[33m=\u001b[39m[\u001b[32m\"info\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"warn\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"error\"\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mDf\u001b[39m\u001b[33m=\u001b[39m{datasources\u001b[33m:\u001b[39m(e\u001b[33m,\u001b[39m{datasourceNames\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m e\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for \"datasources\" provided to PrismaClient constructor`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[t\u001b[33m,\u001b[39mn]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(e)){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m.\u001b[39mincludes(t)){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mWr\u001b[39m(t\u001b[33m,\u001b[39mr)\u001b[33m||\u001b[39m\u001b[32m` Available datasources: ${r.join(\", \")}`\u001b[39m\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Unknown datasource ${t} provided to PrismaClient constructor.${i}`\u001b[39m)}\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m n\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(n))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 126 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m\u001b[36mtypeof\u001b[39m n\u001b[33m==\u001b[39m\u001b[32m\"object\"\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[i\u001b[33m,\u001b[39mo]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(n)){\u001b[36mif\u001b[39m(i\u001b[33m!==\u001b[39m\u001b[32m\"url\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 127 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m o\u001b[33m!=\u001b[39m\u001b[32m\"string\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(o)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:7649)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError [as handleAndLogRequestError] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6784)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleAndLogRequestError [as request] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6491)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat l (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:133:9778)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/real-api-connections.test.ts\u001b[39m\u001b[0m\u001b[2m:60:5)\u001b[22m\u001b[2m\u001b[22m\n","name":"/Users/connorbowen/apiq-mvp/tests/integration/api/real-api-connections.test.ts","startTime":1751471245170,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["OAuth2 Flow Integration Tests","GET /api/oauth/providers"],"duration":1515,"failureDetails":[{"name":"PrismaClientUnknownRequestError","clientVersion":"6.10.1"}],"failureMessages":["PrismaClientUnknownRequestError: \nInvalid `prisma.apiConnection.deleteMany()` invocation in\n/Users/connorbowen/apiq-mvp/tests/integration/api/oauth2.test.ts:40:32\n\n  37     }\n  38   }\n  39 });\n→ 40 await prisma.apiConnection.deleteMany(\nError occurred during query execution:\nConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28326 waits for AccessExclusiveLock on tuple (4,1) of relation 33244 of database 21992; blocked by process 28328.\\nProcess 28328 waits for ShareLock on transaction 54052; blocked by process 28324.\\nProcess 28324 waits for ShareLock on transaction 54055; blocked by process 28326.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n    at Zn.handleRequestError (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:7649)\n    at Zn.handleRequestError [as handleAndLogRequestError] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6784)\n    at Zn.handleAndLogRequestError [as request] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6491)\n    at l (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:133:9778)\n    at Object.<anonymous> (/Users/connorbowen/apiq-mvp/tests/integration/api/oauth2.test.ts:40:5)"],"fullName":"OAuth2 Flow Integration Tests GET /api/oauth/providers should return supported OAuth2 providers","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return supported OAuth2 providers"},{"ancestorTitles":["OAuth2 Flow Integration Tests","GET /api/oauth/providers"],"duration":2676,"failureDetails":[{"name":"PrismaClientUnknownRequestError","clientVersion":"6.10.1"}],"failureMessages":["PrismaClientUnknownRequestError: \nInvalid `prisma.user.deleteMany()` invocation in\n/Users/connorbowen/apiq-mvp/tests/integration/api/oauth2.test.ts:50:23\n\n  47     }\n  48   }\n  49 });\n→ 50 await prisma.user.deleteMany(\nError occurred during query execution:\nConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28326 waits for ShareLock on transaction 54062; blocked by process 28323.\\nProcess 28323 waits for ShareLock on transaction 54089; blocked by process 28326.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n    at Zn.handleRequestError (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:7649)\n    at Zn.handleRequestError [as handleAndLogRequestError] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6784)\n    at Zn.handleAndLogRequestError [as request] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6491)\n    at l (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:133:9778)\n    at Object.<anonymous> (/Users/connorbowen/apiq-mvp/tests/integration/api/oauth2.test.ts:50:5)"],"fullName":"OAuth2 Flow Integration Tests GET /api/oauth/providers should not require authentication","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should not require authentication"},{"ancestorTitles":["OAuth2 Flow Integration Tests","GET /api/oauth/authorize"],"duration":1234,"failureDetails":[{"name":"PrismaClientUnknownRequestError","clientVersion":"6.10.1"}],"failureMessages":["PrismaClientUnknownRequestError: \nInvalid `prisma.apiConnection.deleteMany()` invocation in\n/Users/connorbowen/apiq-mvp/tests/integration/api/oauth2.test.ts:40:32\n\n  37     }\n  38   }\n  39 });\n→ 40 await prisma.apiConnection.deleteMany(\nError occurred during query execution:\nConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28326 waits for ShareLock on transaction 54087; blocked by process 28324.\\nProcess 28324 waits for ShareLock on transaction 54146; blocked by process 28328.\\nProcess 28328 waits for AccessExclusiveLock on tuple (0,15) of relation 33235 of database 21992; blocked by process 28326.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n    at Zn.handleRequestError (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:7649)\n    at Zn.handleRequestError [as handleAndLogRequestError] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6784)\n    at Zn.handleAndLogRequestError [as request] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6491)\n    at l (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:133:9778)\n    at Object.<anonymous> (/Users/connorbowen/apiq-mvp/tests/integration/api/oauth2.test.ts:40:5)"],"fullName":"OAuth2 Flow Integration Tests GET /api/oauth/authorize should generate authorization URL for valid request","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should generate authorization URL for valid request"},{"ancestorTitles":["OAuth2 Flow Integration Tests","GET /api/oauth/authorize"],"duration":4542,"failureDetails":[],"failureMessages":[],"fullName":"OAuth2 Flow Integration Tests GET /api/oauth/authorize should validate required parameters","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should validate required parameters"},{"ancestorTitles":["OAuth2 Flow Integration Tests","GET /api/oauth/authorize"],"duration":329,"failureDetails":[],"failureMessages":[],"fullName":"OAuth2 Flow Integration Tests GET /api/oauth/authorize should validate OAuth2 configuration","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should validate OAuth2 configuration"},{"ancestorTitles":["OAuth2 Flow Integration Tests","GET /api/oauth/authorize"],"duration":1273,"failureDetails":[{"matcherResult":{"actual":404,"expected":400,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m400\u001b[39m\nReceived: \u001b[31m404\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m400\u001b[39m\nReceived: \u001b[31m404\u001b[39m\n    at Object.toBe (/Users/connorbowen/apiq-mvp/tests/integration/api/oauth2.test.ts:205:36)"],"fullName":"OAuth2 Flow Integration Tests GET /api/oauth/authorize should reject unsupported providers","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should reject unsupported providers"},{"ancestorTitles":["OAuth2 Flow Integration Tests","GET /api/oauth/callback"],"duration":1239,"failureDetails":[{"name":"PrismaClientUnknownRequestError","clientVersion":"6.10.1"}],"failureMessages":["PrismaClientUnknownRequestError: \nInvalid `prisma.apiConnection.deleteMany()` invocation in\n/Users/connorbowen/apiq-mvp/tests/integration/api/oauth2.test.ts:40:32\n\n  37     }\n  38   }\n  39 });\n→ 40 await prisma.apiConnection.deleteMany(\nError occurred during query execution:\nConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28326 waits for AccessExclusiveLock on tuple (0,19) of relation 33235 of database 21992; blocked by process 28324.\\nProcess 28324 waits for ShareLock on transaction 54200; blocked by process 28404.\\nProcess 28404 waits for ShareLock on transaction 54205; blocked by process 28326.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n    at Zn.handleRequestError (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:7649)\n    at Zn.handleRequestError [as handleAndLogRequestError] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6784)\n    at Zn.handleAndLogRequestError [as request] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6491)\n    at l (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:133:9778)\n    at Object.<anonymous> (/Users/connorbowen/apiq-mvp/tests/integration/api/oauth2.test.ts:40:5)"],"fullName":"OAuth2 Flow Integration Tests GET /api/oauth/callback should process successful OAuth2 callback","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should process successful OAuth2 callback"},{"ancestorTitles":["OAuth2 Flow Integration Tests","GET /api/oauth/callback"],"duration":1487,"failureDetails":[],"failureMessages":[],"fullName":"OAuth2 Flow Integration Tests GET /api/oauth/callback should handle OAuth2 errors","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should handle OAuth2 errors"},{"ancestorTitles":["OAuth2 Flow Integration Tests","GET /api/oauth/callback"],"duration":2316,"failureDetails":[{"name":"PrismaClientUnknownRequestError","clientVersion":"6.10.1"}],"failureMessages":["PrismaClientUnknownRequestError: \nInvalid `prisma.apiConnection.deleteMany()` invocation in\n/Users/connorbowen/apiq-mvp/tests/integration/api/oauth2.test.ts:40:32\n\n  37     }\n  38   }\n  39 });\n→ 40 await prisma.apiConnection.deleteMany(\nError occurred during query execution:\nConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28326 waits for ShareLock on transaction 54219; blocked by process 28323.\\nProcess 28323 waits for ShareLock on transaction 54221; blocked by process 28326.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n    at Zn.handleRequestError (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:7649)\n    at Zn.handleRequestError [as handleAndLogRequestError] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6784)\n    at Zn.handleAndLogRequestError [as request] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6491)\n    at l (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:133:9778)\n    at Object.<anonymous> (/Users/connorbowen/apiq-mvp/tests/integration/api/oauth2.test.ts:40:5)"],"fullName":"OAuth2 Flow Integration Tests GET /api/oauth/callback should validate required parameters","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should validate required parameters"},{"ancestorTitles":["OAuth2 Flow Integration Tests","POST /api/oauth/refresh"],"duration":1278,"failureDetails":[{"name":"PrismaClientUnknownRequestError","clientVersion":"6.10.1"}],"failureMessages":["PrismaClientUnknownRequestError: \nInvalid `prisma.apiConnection.deleteMany()` invocation in\n/Users/connorbowen/apiq-mvp/tests/integration/api/oauth2.test.ts:40:32\n\n  37     }\n  38   }\n  39 });\n→ 40 await prisma.apiConnection.deleteMany(\nError occurred during query execution:\nConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28469 waits for AccessExclusiveLock on tuple (0,19) of relation 33235 of database 21992; blocked by process 28465.\\nProcess 28465 waits for ShareLock on transaction 54222; blocked by process 28463.\\nProcess 28463 waits for ShareLock on transaction 54224; blocked by process 28469.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n    at Zn.handleRequestError (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:7649)\n    at Zn.handleRequestError [as handleAndLogRequestError] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6784)\n    at Zn.handleAndLogRequestError [as request] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6491)\n    at l (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:133:9778)\n    at Object.<anonymous> (/Users/connorbowen/apiq-mvp/tests/integration/api/oauth2.test.ts:40:5)"],"fullName":"OAuth2 Flow Integration Tests POST /api/oauth/refresh should refresh OAuth2 token successfully","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should refresh OAuth2 token successfully"},{"ancestorTitles":["OAuth2 Flow Integration Tests","POST /api/oauth/refresh"],"duration":1263,"failureDetails":[{"matcherResult":{"actual":404,"expected":400,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m400\u001b[39m\nReceived: \u001b[31m404\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m400\u001b[39m\nReceived: \u001b[31m404\u001b[39m\n    at Object.toBe (/Users/connorbowen/apiq-mvp/tests/integration/api/oauth2.test.ts:297:36)"],"fullName":"OAuth2 Flow Integration Tests POST /api/oauth/refresh should handle refresh failure","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle refresh failure"},{"ancestorTitles":["OAuth2 Flow Integration Tests","POST /api/oauth/refresh"],"duration":1270,"failureDetails":[],"failureMessages":[],"fullName":"OAuth2 Flow Integration Tests POST /api/oauth/refresh should validate required parameters","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should validate required parameters"},{"ancestorTitles":["OAuth2 Flow Integration Tests","GET /api/oauth/token"],"duration":2148,"failureDetails":[{"name":"PrismaClientUnknownRequestError","clientVersion":"6.10.1"}],"failureMessages":["PrismaClientUnknownRequestError: \nInvalid `prisma.apiConnection.deleteMany()` invocation in\n/Users/connorbowen/apiq-mvp/tests/integration/api/oauth2.test.ts:40:32\n\n  37     }\n  38   }\n  39 });\n→ 40 await prisma.apiConnection.deleteMany(\nError occurred during query execution:\nConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28469 waits for ShareLock on transaction 54233; blocked by process 28465.\\nProcess 28465 waits for ShareLock on transaction 54234; blocked by process 28469.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n    at Zn.handleRequestError (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:7649)\n    at Zn.handleRequestError [as handleAndLogRequestError] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6784)\n    at Zn.handleAndLogRequestError [as request] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6491)\n    at l (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:133:9778)\n    at Object.<anonymous> (/Users/connorbowen/apiq-mvp/tests/integration/api/oauth2.test.ts:40:5)"],"fullName":"OAuth2 Flow Integration Tests GET /api/oauth/token should return OAuth2 access token","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return OAuth2 access token"},{"ancestorTitles":["OAuth2 Flow Integration Tests","GET /api/oauth/token"],"duration":1410,"failureDetails":[{"matcherResult":{"actual":"API connection not found","expected":"No valid OAuth2 access token found","message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m\"\u001b[7mNo valid OAuth2 access token\u001b[27m found\"\u001b[39m\nReceived: \u001b[31m\"\u001b[7mAPI connection not\u001b[27m found\"\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m\"\u001b[7mNo valid OAuth2 access token\u001b[27m found\"\u001b[39m\nReceived: \u001b[31m\"\u001b[7mAPI connection not\u001b[27m found\"\u001b[39m\n    at Object.toBe (/Users/connorbowen/apiq-mvp/tests/integration/api/oauth2.test.ts:351:26)"],"fullName":"OAuth2 Flow Integration Tests GET /api/oauth/token should handle missing token","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"failed","title":"should handle missing token"},{"ancestorTitles":["OAuth2 Flow Integration Tests","GET /api/oauth/token"],"duration":3693,"failureDetails":[{"matcherResult":{"actual":404,"expected":400,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m400\u001b[39m\nReceived: \u001b[31m404\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m400\u001b[39m\nReceived: \u001b[31m404\u001b[39m\n    at Object.toBe (/Users/connorbowen/apiq-mvp/tests/integration/api/oauth2.test.ts:382:36)"],"fullName":"OAuth2 Flow Integration Tests GET /api/oauth/token should reject non-OAuth2 API connections","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should reject non-OAuth2 API connections"},{"ancestorTitles":["OAuth2 Flow Integration Tests","OAuth2 Service Integration"],"duration":2298,"failureDetails":[],"failureMessages":[],"fullName":"OAuth2 Flow Integration Tests OAuth2 Service Integration should store and retrieve OAuth2 tokens securely","invocations":1,"location":null,"numPassingAsserts":9,"retryReasons":[],"status":"passed","title":"should store and retrieve OAuth2 tokens securely"}],"endTime":1751471265808,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mOAuth2 Flow Integration Tests › GET /api/oauth/providers › should return supported OAuth2 providers\u001b[39m\u001b[22m\n\n    PrismaClientUnknownRequestError: \n    Invalid `prisma.apiConnection.deleteMany()` invocation in\n    /Users/connorbowen/apiq-mvp/tests/integration/api/oauth2.test.ts:40:32\n\n      37     }\n      38   }\n      39 });\n    → 40 await prisma.apiConnection.deleteMany(\n    Error occurred during query execution:\n    ConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28326 waits for AccessExclusiveLock on tuple (4,1) of relation 33244 of database 21992; blocked by process 28328.\\nProcess 28328 waits for ShareLock on transaction 54052; blocked by process 28324.\\nProcess 28324 waits for ShareLock on transaction 54055; blocked by process 28326.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 122 |\u001b[39m \u001b[32m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 123 |\u001b[39m \u001b[32mMore Information: https://pris.ly/d/execute-raw\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 124 |\u001b[39m \u001b[32m`\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mCo\u001b[39m\u001b[33m=\u001b[39m({clientMethod\u001b[33m:\u001b[39me\u001b[33m,\u001b[39mactiveProvider\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39mt\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[32m\"\"\u001b[39m\u001b[33m,\u001b[39mi\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mFn\u001b[39m(t))n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(t)){\u001b[36mlet\u001b[39m[o\u001b[33m,\u001b[39m\u001b[33m...\u001b[39ms]\u001b[33m=\u001b[39mt\u001b[33m;\u001b[39mn\u001b[33m=\u001b[39mo\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(s\u001b[33m||\u001b[39m[])\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}}\u001b[36melse\u001b[39m \u001b[36mswitch\u001b[39m(r){\u001b[36mcase\u001b[39m\u001b[32m\"sqlite\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"mysql\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"cockroachdb\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgresql\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgres\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mtext\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"sqlserver\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mjl(t)\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`The ${r} provider does not support ${e}`\u001b[39m)}\u001b[36mreturn\u001b[39m i\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mvalues\u001b[33m?\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n}, ${i.values})`\u001b[39m)\u001b[33m:\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n})`\u001b[39m)\u001b[33m,\u001b[39m{query\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mparameters\u001b[33m:\u001b[39mi}}\u001b[33m,\u001b[39m\u001b[33mWl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e\u001b[33m.\u001b[39mstrings\u001b[33m,\u001b[39m\u001b[33m...\u001b[39me\u001b[33m.\u001b[39mvalues]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mlet\u001b[39m[r\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mt]\u001b[33m=\u001b[39me\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m oe(r\u001b[33m,\u001b[39mt)}}\u001b[33m,\u001b[39m\u001b[33mJl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mreturn\u001b[39m e[\u001b[35m0\u001b[39m]}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mAo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mfunction\u001b[39m(t\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m(s\u001b[33m=\u001b[39me)\u001b[33m=>\u001b[39m{\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m s\u001b[33m===\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m||\u001b[39ms\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33m=\u001b[39m\u001b[33mHl\u001b[39m(t(s))\u001b[33m:\u001b[39m\u001b[33mHl\u001b[39m(t(s))}\u001b[36mcatch\u001b[39m(a){\u001b[36mreturn\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mreject(a)}}\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[36mget\u001b[39m spec(){\u001b[36mreturn\u001b[39m n}\u001b[33m,\u001b[39mthen(s\u001b[33m,\u001b[39ma){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39mthen(s\u001b[33m,\u001b[39ma)}\u001b[33m,\u001b[39m\u001b[36mcatch\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(s)}\u001b[33m,\u001b[39m\u001b[36mfinally\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mfinally\u001b[39m(s)}\u001b[33m,\u001b[39mrequestTransaction(s){\u001b[36mlet\u001b[39m a\u001b[33m=\u001b[39mo(s)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m a\u001b[33m.\u001b[39mrequestTransaction\u001b[33m?\u001b[39ma\u001b[33m.\u001b[39mrequestTransaction(s)\u001b[33m:\u001b[39ma}\u001b[33m,\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag]\u001b[33m:\u001b[39m\u001b[32m\"PrismaPromise\"\u001b[39m}}}\u001b[36mfunction\u001b[39m \u001b[33mHl\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mthen\u001b[33m==\u001b[39m\u001b[32m\"function\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39m\u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mresolve(e)}\u001b[36mvar\u001b[39m \u001b[33mTf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mEi\u001b[39m\u001b[33m.\u001b[39msplit(\u001b[32m\".\"\u001b[39m)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mSf\u001b[39m\u001b[33m=\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m}\u001b[33m,\u001b[39mgetTraceParent(){\u001b[36mreturn\u001b[39m\u001b[32m\"00-10-10-00\"\u001b[39m}\u001b[33m,\u001b[39mdispatchEngineSpans(){}\u001b[33m,\u001b[39mgetActiveContext(){}\u001b[33m,\u001b[39mrunInChildSpan(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m r()}}\u001b[33m,\u001b[39m\u001b[33mIo\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39misEnabled()}getTraceParent(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetTraceParent(r)}dispatchEngineSpans(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mdispatchEngineSpans(r)}getActiveContext(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetActiveContext()}runInChildSpan(r\u001b[33m,\u001b[39mt){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mrunInChildSpan(r\u001b[33m,\u001b[39mt)}getGlobalTracingHelper(){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39mglobalThis[\u001b[32m`V${Tf}_PRISMA_INSTRUMENTATION`\u001b[39m]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39mglobalThis\u001b[33m.\u001b[39m\u001b[33mPRISMA_INSTRUMENTATION\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33mSf\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKl\u001b[39m(){\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mIo\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mYl\u001b[39m(e\u001b[33m,\u001b[39mr\u001b[33m=\u001b[39m()\u001b[33m=>\u001b[39m{}){\u001b[36mlet\u001b[39m t\u001b[33m,\u001b[39mn\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m(i\u001b[33m=>\u001b[39mt\u001b[33m=\u001b[39mi)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{then(i){\u001b[36mreturn\u001b[39m\u001b[33m--\u001b[39me\u001b[33m===\u001b[39m\u001b[35m0\u001b[39m\u001b[33m&&\u001b[39mt(r())\u001b[33m,\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m.\u001b[39m(n)}}}\u001b[36mfunction\u001b[39m zl(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mreduce((r\u001b[33m,\u001b[39mt)\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[36mtypeof\u001b[39m t\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mlevel\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m===\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m?\u001b[39mr\u001b[33m:\u001b[39mr\u001b[33m&&\u001b[39m(t\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m||\u001b[39mr\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m)\u001b[33m?\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m:\u001b[39mn}\u001b[33m,\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mHn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{_middlewares\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39muse(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mpush(r)}\u001b[36mget\u001b[39m(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}has(r){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[33m!\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}length(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mlength}}\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mXl\u001b[39m\u001b[33m=\u001b[39mk(\u001b[33mOi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKn\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m==\u001b[39m\u001b[32m\"number\"\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mZl\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUnique\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUniqueOrThrow\"\u001b[39m)\u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mmodelName\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(e\u001b[33m.\u001b[39mmodelName)\u001b[33m,\u001b[39me\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39mselection))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mjoin(\u001b[32m\"\"\u001b[39m)}\u001b[36mfunction\u001b[39m ko(e){\u001b[36mreturn\u001b[39m\u001b[32m`(${Object.keys(e).sort().map(t=>{let n=e[t];return typeof n==\"object\"&&n!==null?`(${t} ${ko(n)})`:t}).join(\" \")})`\u001b[39m}\u001b[36mvar\u001b[39m \u001b[33mRf\u001b[39m\u001b[33m=\u001b[39m{aggregate\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39maggregateRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mcreateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mexecuteRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mfindFirst\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindFirstOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUnique\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUniqueOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mgroupBy\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mqueryRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mrunCommandRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupsertOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mOo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[33mRf\u001b[39m[e]}\u001b[36mvar\u001b[39m \u001b[33mYn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{constructor(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches\u001b[33m=\u001b[39m{}}batches\u001b[33m;\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m;\u001b[39mrequest(r){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchBy(r)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m t\u001b[33m?\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mprocess\u001b[33m.\u001b[39mnextTick(()\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdispatchBatches()\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m})))\u001b[33m,\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m.\u001b[39mpush({request\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mresolve\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mreject\u001b[33m:\u001b[39mi})}))\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(r)}dispatchBatches(){\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m r \u001b[36min\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m;\u001b[39m\u001b[36mdelete\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m,\u001b[39mt\u001b[33m.\u001b[39mlength\u001b[33m===\u001b[39m\u001b[35m1\u001b[39m\u001b[33m?\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mrequest)\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)\u001b[33m:\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mresolve(n)})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)})\u001b[33m:\u001b[39m(t\u001b[33m.\u001b[39msort((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchOrder(n\u001b[33m.\u001b[39mrequest\u001b[33m,\u001b[39mi\u001b[33m.\u001b[39mrequest))\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchLoader(t\u001b[33m.\u001b[39mmap(n\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mrequest))\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m o\u001b[33m=\u001b[39mn[i]\u001b[33m;\u001b[39mo \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[i]\u001b[33m.\u001b[39mreject(o)\u001b[33m:\u001b[39mt[i]\u001b[33m.\u001b[39mresolve(o)}})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)}))}}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"DataLoader\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m mr(e\u001b[33m,\u001b[39mr){\u001b[36mif\u001b[39m(r\u001b[33m===\u001b[39m\u001b[36mnull\u001b[39m)\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mswitch\u001b[39m(e){\u001b[36mcase\u001b[39m\u001b[32m\"bigint\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[33mBigInt\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes\"\u001b[39m\u001b[33m:\u001b[39m{\u001b[36mlet\u001b[39m{buffer\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mbyteOffset\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mbyteLength\u001b[33m:\u001b[39mi}\u001b[33m=\u001b[39m\u001b[33mBuffer\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m(r\u001b[33m,\u001b[39m\u001b[32m\"base64\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mUint8Array\u001b[39m(t\u001b[33m,\u001b[39mn\u001b[33m,\u001b[39mi)}\u001b[36mcase\u001b[39m\u001b[32m\"decimal\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mPe\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(\u001b[32m`1970-01-01T${r}Z`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bigint-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bigint\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bytes\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"decimal-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"decimal\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"datetime\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"date\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"time\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r}}\u001b[36mfunction\u001b[39m zn(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39m\u001b[33mCf\u001b[39m(e)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mn\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mrows\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mn\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mrows[n]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m{\u001b[33m...\u001b[39mt}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m s\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39ms\u001b[33m<\u001b[39m\u001b[33mi\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39ms\u001b[33m++\u001b[39m)o[e\u001b[33m.\u001b[39mcolumns[s]]\u001b[33m=\u001b[39mmr(e\u001b[33m.\u001b[39mtypes[s]\u001b[33m,\u001b[39mi[s])\u001b[33m;\u001b[39mr\u001b[33m.\u001b[39mpush(o)}\u001b[36mreturn\u001b[39m r}\u001b[36mfunction\u001b[39m \u001b[33mCf\u001b[39m(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m{}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mt\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mcolumns\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mt\u001b[33m++\u001b[39m)r[e\u001b[33m.\u001b[39mcolumns[t]]\u001b[33m=\u001b[39m\u001b[36mnull\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r}\u001b[36mvar\u001b[39m \u001b[33mAf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mN\u001b[39m(\u001b[32m\"prisma:client:request_handler\"\u001b[39m)\u001b[33m,\u001b[39m\u001b[33mZn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{client\u001b[33m;\u001b[39mdataloader\u001b[33m;\u001b[39mlogEmitter\u001b[33m;\u001b[39mconstructor(r\u001b[33m,\u001b[39mt){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m=\u001b[39mt\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m=\u001b[39mr\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mYn\u001b[39m({batchLoader\u001b[33m:\u001b[39mol(\u001b[36masync\u001b[39m({requests\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi})\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m{transaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39motelParentCtx\u001b[33m:\u001b[39ms}\u001b[33m=\u001b[39mn[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mmap(p\u001b[33m=>\u001b[39mp\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent(s)\u001b[33m,\u001b[39mu\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39msome(p\u001b[33m=>\u001b[39m\u001b[33mOo\u001b[39m(p\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction))\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m(\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequestBatch(a\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39ml\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39m\u001b[33mIf\u001b[39m(o)\u001b[33m,\u001b[39mcontainsWrite\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi}))\u001b[33m.\u001b[39mmap((p\u001b[33m,\u001b[39md)\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(p \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mreturn\u001b[39m p\u001b[33m;\u001b[39m\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n[d]\u001b[33m,\u001b[39mp)}\u001b[36mcatch\u001b[39m(f){\u001b[36mreturn\u001b[39m f}})})\u001b[33m,\u001b[39msingleLoader\u001b[33m:\u001b[39m\u001b[36masync\u001b[39m n\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39meu(n\u001b[33m.\u001b[39mtransaction)\u001b[33m:\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequest(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent()\u001b[33m,\u001b[39minteractiveTransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39misWrite\u001b[33m:\u001b[39m\u001b[33mOo\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction)\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mn\u001b[33m.\u001b[39mcustomDataProxyFetch})\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n\u001b[33m,\u001b[39mo)}\u001b[33m,\u001b[39mbatchBy\u001b[33m:\u001b[39mn\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mid\u001b[33m?\u001b[39m\u001b[32m`transaction-${n.transaction.id}`\u001b[39m\u001b[33m:\u001b[39m\u001b[33mZl\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39mbatchOrder(n\u001b[33m,\u001b[39mi){\u001b[36mreturn\u001b[39m n\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m?\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m-\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m:\u001b[39m\u001b[35m0\u001b[39m}})}\u001b[36masync\u001b[39m request(r){\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m.\u001b[39mrequest(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mlet\u001b[39m{clientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma}\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleAndLogRequestError({error\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mglobalOmit})}}mapQueryEngineResult({dataPath\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39munpacker\u001b[33m:\u001b[39mt}\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mdata\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39munpack(i\u001b[33m,\u001b[39mr\u001b[33m,\u001b[39mt)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mPRISMA_CLIENT_GET_TIME\u001b[39m\u001b[33m?\u001b[39m{data\u001b[33m:\u001b[39mo}\u001b[33m:\u001b[39mo}handleAndLogRequestError(r){\u001b[36mtry\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleRequestError(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mthrow\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m.\u001b[39memit(\u001b[32m\"error\"\u001b[39m\u001b[33m,\u001b[39m{message\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mmessage\u001b[33m,\u001b[39mtarget\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mclientMethod\u001b[33m,\u001b[39mtimestamp\u001b[33m:\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m})\u001b[33m,\u001b[39mt}}handleRequestError({error\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma}){\u001b[36mif\u001b[39m(\u001b[33mAf\u001b[39m(r)\u001b[33m,\u001b[39mkf(r\u001b[33m,\u001b[39mi))\u001b[36mthrow\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m z\u001b[33m&&\u001b[39m\u001b[33mOf\u001b[39m(r)){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39mru(r\u001b[33m.\u001b[39mmeta)\u001b[33m;\u001b[39mkn({args\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39m[u]\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39merrorFormat\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma})}\u001b[36mlet\u001b[39m l\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mmessage\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m(l\u001b[33m=\u001b[39mwn({callsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39misPanic\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39misPanic\u001b[33m,\u001b[39mshowColors\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m===\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39mmessage\u001b[33m:\u001b[39ml}))\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39msanitizeMessage(l)\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mcode){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39ms\u001b[33m?\u001b[39m{modelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr\u001b[33m.\u001b[39mmeta}\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mmeta\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m z(l\u001b[33m,\u001b[39m{code\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mcode\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mmeta\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})}\u001b[36melse\u001b[39m{\u001b[36mif\u001b[39m(r\u001b[33m.\u001b[39misPanic)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m j)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m j(l\u001b[33m,\u001b[39m{clientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m \u001b[33mT\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mT\u001b[39m(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m le)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)}\u001b[36mthrow\u001b[39m r\u001b[33m.\u001b[39mclientVersion\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mr}sanitizeMessage(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m!==\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m?\u001b[39m(\u001b[35m0\u001b[39m\u001b[33m,\u001b[39m\u001b[33mXl\u001b[39m\u001b[33m.\u001b[39m\u001b[36mdefault\u001b[39m)(r)\u001b[33m:\u001b[39mr}unpack(r\u001b[33m,\u001b[39mt\u001b[33m,\u001b[39mn){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m||\u001b[39m(r\u001b[33m.\u001b[39mdata\u001b[33m&&\u001b[39m(r\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mdata)\u001b[33m,\u001b[39m\u001b[33m!\u001b[39mr))\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mvalues(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ms\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mfilter(u\u001b[33m=>\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"select\"\u001b[39m\u001b[33m&&\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"include\"\u001b[39m)\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mio(o\u001b[33m,\u001b[39ms)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39mi\u001b[33m===\u001b[39m\u001b[32m\"queryRaw\"\u001b[39m\u001b[33m?\u001b[39mzn(a)\u001b[33m:\u001b[39m\u001b[33mTr\u001b[39m(a)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m?\u001b[39mn(l)\u001b[33m:\u001b[39ml}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"RequestHandler\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mIf\u001b[39m(e){\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39m{isolationLevel\u001b[33m:\u001b[39me\u001b[33m.\u001b[39misolationLevel}}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39meu(e)}\u001b[33m;\u001b[39m_e(e\u001b[33m,\u001b[39m\u001b[32m\"Unknown transaction kind\"\u001b[39m)}}\u001b[36mfunction\u001b[39m eu(e){\u001b[36mreturn\u001b[39m{id\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39mpayload\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mpayload}}\u001b[36mfunction\u001b[39m kf(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m \u001b[33mKn\u001b[39m(e)\u001b[33m&&\u001b[39mr\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m!==\u001b[39mr\u001b[33m.\u001b[39mindex}\u001b[36mfunction\u001b[39m \u001b[33mOf\u001b[39m(e){\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2009\"\u001b[39m\u001b[33m||\u001b[39me\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2012\"\u001b[39m}\u001b[36mfunction\u001b[39m ru(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"Union\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"Union\"\u001b[39m\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39me\u001b[33m.\u001b[39merrors\u001b[33m.\u001b[39mmap(ru)}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e\u001b[33m.\u001b[39mselectionPath)){\u001b[36mlet\u001b[39m[\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr]\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mselectionPath\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[33m...\u001b[39me\u001b[33m,\u001b[39mselectionPath\u001b[33m:\u001b[39mr}}\u001b[36mreturn\u001b[39m e}\u001b[36mvar\u001b[39m tu\u001b[33m=\u001b[39m\u001b[33mSl\u001b[39m\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m au\u001b[33m=\u001b[39mk(\u001b[33mQi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mD\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mError\u001b[39m{constructor(r){\u001b[36msuper\u001b[39m(r\u001b[33m+\u001b[39m\u001b[32m`\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 125 |\u001b[39m \u001b[32mRead more at https://pris.ly/d/client-constructor`\u001b[39m)\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mname\u001b[33m=\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}}\u001b[33m;\u001b[39mx(\u001b[33mD\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m nu\u001b[33m=\u001b[39m[\u001b[32m\"datasources\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"datasourceUrl\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"errorFormat\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"adapter\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"log\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"transactionOptions\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"omit\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"__internal\"\u001b[39m]\u001b[33m,\u001b[39miu\u001b[33m=\u001b[39m[\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"colorless\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"minimal\"\u001b[39m]\u001b[33m,\u001b[39mou\u001b[33m=\u001b[39m[\u001b[32m\"info\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"warn\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"error\"\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mDf\u001b[39m\u001b[33m=\u001b[39m{datasources\u001b[33m:\u001b[39m(e\u001b[33m,\u001b[39m{datasourceNames\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m e\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for \"datasources\" provided to PrismaClient constructor`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[t\u001b[33m,\u001b[39mn]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(e)){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m.\u001b[39mincludes(t)){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mWr\u001b[39m(t\u001b[33m,\u001b[39mr)\u001b[33m||\u001b[39m\u001b[32m` Available datasources: ${r.join(\", \")}`\u001b[39m\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Unknown datasource ${t} provided to PrismaClient constructor.${i}`\u001b[39m)}\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m n\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(n))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 126 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m\u001b[36mtypeof\u001b[39m n\u001b[33m==\u001b[39m\u001b[32m\"object\"\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[i\u001b[33m,\u001b[39mo]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(n)){\u001b[36mif\u001b[39m(i\u001b[33m!==\u001b[39m\u001b[32m\"url\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 127 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m o\u001b[33m!=\u001b[39m\u001b[32m\"string\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(o)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:7649)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError [as handleAndLogRequestError] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6784)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleAndLogRequestError [as request] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6491)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat l (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:133:9778)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/oauth2.test.ts\u001b[39m\u001b[0m\u001b[2m:40:5)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mOAuth2 Flow Integration Tests › GET /api/oauth/providers › should not require authentication\u001b[39m\u001b[22m\n\n    PrismaClientUnknownRequestError: \n    Invalid `prisma.user.deleteMany()` invocation in\n    /Users/connorbowen/apiq-mvp/tests/integration/api/oauth2.test.ts:50:23\n\n      47     }\n      48   }\n      49 });\n    → 50 await prisma.user.deleteMany(\n    Error occurred during query execution:\n    ConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28326 waits for ShareLock on transaction 54062; blocked by process 28323.\\nProcess 28323 waits for ShareLock on transaction 54089; blocked by process 28326.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 122 |\u001b[39m \u001b[32m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 123 |\u001b[39m \u001b[32mMore Information: https://pris.ly/d/execute-raw\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 124 |\u001b[39m \u001b[32m`\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mCo\u001b[39m\u001b[33m=\u001b[39m({clientMethod\u001b[33m:\u001b[39me\u001b[33m,\u001b[39mactiveProvider\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39mt\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[32m\"\"\u001b[39m\u001b[33m,\u001b[39mi\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mFn\u001b[39m(t))n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(t)){\u001b[36mlet\u001b[39m[o\u001b[33m,\u001b[39m\u001b[33m...\u001b[39ms]\u001b[33m=\u001b[39mt\u001b[33m;\u001b[39mn\u001b[33m=\u001b[39mo\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(s\u001b[33m||\u001b[39m[])\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}}\u001b[36melse\u001b[39m \u001b[36mswitch\u001b[39m(r){\u001b[36mcase\u001b[39m\u001b[32m\"sqlite\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"mysql\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"cockroachdb\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgresql\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgres\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mtext\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"sqlserver\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mjl(t)\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`The ${r} provider does not support ${e}`\u001b[39m)}\u001b[36mreturn\u001b[39m i\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mvalues\u001b[33m?\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n}, ${i.values})`\u001b[39m)\u001b[33m:\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n})`\u001b[39m)\u001b[33m,\u001b[39m{query\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mparameters\u001b[33m:\u001b[39mi}}\u001b[33m,\u001b[39m\u001b[33mWl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e\u001b[33m.\u001b[39mstrings\u001b[33m,\u001b[39m\u001b[33m...\u001b[39me\u001b[33m.\u001b[39mvalues]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mlet\u001b[39m[r\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mt]\u001b[33m=\u001b[39me\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m oe(r\u001b[33m,\u001b[39mt)}}\u001b[33m,\u001b[39m\u001b[33mJl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mreturn\u001b[39m e[\u001b[35m0\u001b[39m]}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mAo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mfunction\u001b[39m(t\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m(s\u001b[33m=\u001b[39me)\u001b[33m=>\u001b[39m{\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m s\u001b[33m===\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m||\u001b[39ms\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33m=\u001b[39m\u001b[33mHl\u001b[39m(t(s))\u001b[33m:\u001b[39m\u001b[33mHl\u001b[39m(t(s))}\u001b[36mcatch\u001b[39m(a){\u001b[36mreturn\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mreject(a)}}\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[36mget\u001b[39m spec(){\u001b[36mreturn\u001b[39m n}\u001b[33m,\u001b[39mthen(s\u001b[33m,\u001b[39ma){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39mthen(s\u001b[33m,\u001b[39ma)}\u001b[33m,\u001b[39m\u001b[36mcatch\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(s)}\u001b[33m,\u001b[39m\u001b[36mfinally\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mfinally\u001b[39m(s)}\u001b[33m,\u001b[39mrequestTransaction(s){\u001b[36mlet\u001b[39m a\u001b[33m=\u001b[39mo(s)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m a\u001b[33m.\u001b[39mrequestTransaction\u001b[33m?\u001b[39ma\u001b[33m.\u001b[39mrequestTransaction(s)\u001b[33m:\u001b[39ma}\u001b[33m,\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag]\u001b[33m:\u001b[39m\u001b[32m\"PrismaPromise\"\u001b[39m}}}\u001b[36mfunction\u001b[39m \u001b[33mHl\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mthen\u001b[33m==\u001b[39m\u001b[32m\"function\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39m\u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mresolve(e)}\u001b[36mvar\u001b[39m \u001b[33mTf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mEi\u001b[39m\u001b[33m.\u001b[39msplit(\u001b[32m\".\"\u001b[39m)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mSf\u001b[39m\u001b[33m=\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m}\u001b[33m,\u001b[39mgetTraceParent(){\u001b[36mreturn\u001b[39m\u001b[32m\"00-10-10-00\"\u001b[39m}\u001b[33m,\u001b[39mdispatchEngineSpans(){}\u001b[33m,\u001b[39mgetActiveContext(){}\u001b[33m,\u001b[39mrunInChildSpan(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m r()}}\u001b[33m,\u001b[39m\u001b[33mIo\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39misEnabled()}getTraceParent(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetTraceParent(r)}dispatchEngineSpans(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mdispatchEngineSpans(r)}getActiveContext(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetActiveContext()}runInChildSpan(r\u001b[33m,\u001b[39mt){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mrunInChildSpan(r\u001b[33m,\u001b[39mt)}getGlobalTracingHelper(){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39mglobalThis[\u001b[32m`V${Tf}_PRISMA_INSTRUMENTATION`\u001b[39m]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39mglobalThis\u001b[33m.\u001b[39m\u001b[33mPRISMA_INSTRUMENTATION\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33mSf\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKl\u001b[39m(){\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mIo\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mYl\u001b[39m(e\u001b[33m,\u001b[39mr\u001b[33m=\u001b[39m()\u001b[33m=>\u001b[39m{}){\u001b[36mlet\u001b[39m t\u001b[33m,\u001b[39mn\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m(i\u001b[33m=>\u001b[39mt\u001b[33m=\u001b[39mi)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{then(i){\u001b[36mreturn\u001b[39m\u001b[33m--\u001b[39me\u001b[33m===\u001b[39m\u001b[35m0\u001b[39m\u001b[33m&&\u001b[39mt(r())\u001b[33m,\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m.\u001b[39m(n)}}}\u001b[36mfunction\u001b[39m zl(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mreduce((r\u001b[33m,\u001b[39mt)\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[36mtypeof\u001b[39m t\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mlevel\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m===\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m?\u001b[39mr\u001b[33m:\u001b[39mr\u001b[33m&&\u001b[39m(t\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m||\u001b[39mr\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m)\u001b[33m?\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m:\u001b[39mn}\u001b[33m,\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mHn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{_middlewares\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39muse(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mpush(r)}\u001b[36mget\u001b[39m(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}has(r){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[33m!\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}length(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mlength}}\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mXl\u001b[39m\u001b[33m=\u001b[39mk(\u001b[33mOi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKn\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m==\u001b[39m\u001b[32m\"number\"\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mZl\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUnique\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUniqueOrThrow\"\u001b[39m)\u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mmodelName\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(e\u001b[33m.\u001b[39mmodelName)\u001b[33m,\u001b[39me\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39mselection))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mjoin(\u001b[32m\"\"\u001b[39m)}\u001b[36mfunction\u001b[39m ko(e){\u001b[36mreturn\u001b[39m\u001b[32m`(${Object.keys(e).sort().map(t=>{let n=e[t];return typeof n==\"object\"&&n!==null?`(${t} ${ko(n)})`:t}).join(\" \")})`\u001b[39m}\u001b[36mvar\u001b[39m \u001b[33mRf\u001b[39m\u001b[33m=\u001b[39m{aggregate\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39maggregateRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mcreateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mexecuteRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mfindFirst\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindFirstOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUnique\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUniqueOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mgroupBy\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mqueryRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mrunCommandRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupsertOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mOo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[33mRf\u001b[39m[e]}\u001b[36mvar\u001b[39m \u001b[33mYn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{constructor(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches\u001b[33m=\u001b[39m{}}batches\u001b[33m;\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m;\u001b[39mrequest(r){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchBy(r)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m t\u001b[33m?\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mprocess\u001b[33m.\u001b[39mnextTick(()\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdispatchBatches()\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m})))\u001b[33m,\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m.\u001b[39mpush({request\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mresolve\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mreject\u001b[33m:\u001b[39mi})}))\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(r)}dispatchBatches(){\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m r \u001b[36min\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m;\u001b[39m\u001b[36mdelete\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m,\u001b[39mt\u001b[33m.\u001b[39mlength\u001b[33m===\u001b[39m\u001b[35m1\u001b[39m\u001b[33m?\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mrequest)\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)\u001b[33m:\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mresolve(n)})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)})\u001b[33m:\u001b[39m(t\u001b[33m.\u001b[39msort((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchOrder(n\u001b[33m.\u001b[39mrequest\u001b[33m,\u001b[39mi\u001b[33m.\u001b[39mrequest))\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchLoader(t\u001b[33m.\u001b[39mmap(n\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mrequest))\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m o\u001b[33m=\u001b[39mn[i]\u001b[33m;\u001b[39mo \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[i]\u001b[33m.\u001b[39mreject(o)\u001b[33m:\u001b[39mt[i]\u001b[33m.\u001b[39mresolve(o)}})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)}))}}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"DataLoader\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m mr(e\u001b[33m,\u001b[39mr){\u001b[36mif\u001b[39m(r\u001b[33m===\u001b[39m\u001b[36mnull\u001b[39m)\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mswitch\u001b[39m(e){\u001b[36mcase\u001b[39m\u001b[32m\"bigint\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[33mBigInt\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes\"\u001b[39m\u001b[33m:\u001b[39m{\u001b[36mlet\u001b[39m{buffer\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mbyteOffset\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mbyteLength\u001b[33m:\u001b[39mi}\u001b[33m=\u001b[39m\u001b[33mBuffer\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m(r\u001b[33m,\u001b[39m\u001b[32m\"base64\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mUint8Array\u001b[39m(t\u001b[33m,\u001b[39mn\u001b[33m,\u001b[39mi)}\u001b[36mcase\u001b[39m\u001b[32m\"decimal\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mPe\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(\u001b[32m`1970-01-01T${r}Z`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bigint-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bigint\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bytes\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"decimal-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"decimal\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"datetime\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"date\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"time\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r}}\u001b[36mfunction\u001b[39m zn(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39m\u001b[33mCf\u001b[39m(e)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mn\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mrows\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mn\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mrows[n]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m{\u001b[33m...\u001b[39mt}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m s\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39ms\u001b[33m<\u001b[39m\u001b[33mi\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39ms\u001b[33m++\u001b[39m)o[e\u001b[33m.\u001b[39mcolumns[s]]\u001b[33m=\u001b[39mmr(e\u001b[33m.\u001b[39mtypes[s]\u001b[33m,\u001b[39mi[s])\u001b[33m;\u001b[39mr\u001b[33m.\u001b[39mpush(o)}\u001b[36mreturn\u001b[39m r}\u001b[36mfunction\u001b[39m \u001b[33mCf\u001b[39m(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m{}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mt\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mcolumns\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mt\u001b[33m++\u001b[39m)r[e\u001b[33m.\u001b[39mcolumns[t]]\u001b[33m=\u001b[39m\u001b[36mnull\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r}\u001b[36mvar\u001b[39m \u001b[33mAf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mN\u001b[39m(\u001b[32m\"prisma:client:request_handler\"\u001b[39m)\u001b[33m,\u001b[39m\u001b[33mZn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{client\u001b[33m;\u001b[39mdataloader\u001b[33m;\u001b[39mlogEmitter\u001b[33m;\u001b[39mconstructor(r\u001b[33m,\u001b[39mt){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m=\u001b[39mt\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m=\u001b[39mr\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mYn\u001b[39m({batchLoader\u001b[33m:\u001b[39mol(\u001b[36masync\u001b[39m({requests\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi})\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m{transaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39motelParentCtx\u001b[33m:\u001b[39ms}\u001b[33m=\u001b[39mn[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mmap(p\u001b[33m=>\u001b[39mp\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent(s)\u001b[33m,\u001b[39mu\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39msome(p\u001b[33m=>\u001b[39m\u001b[33mOo\u001b[39m(p\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction))\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m(\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequestBatch(a\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39ml\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39m\u001b[33mIf\u001b[39m(o)\u001b[33m,\u001b[39mcontainsWrite\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi}))\u001b[33m.\u001b[39mmap((p\u001b[33m,\u001b[39md)\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(p \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mreturn\u001b[39m p\u001b[33m;\u001b[39m\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n[d]\u001b[33m,\u001b[39mp)}\u001b[36mcatch\u001b[39m(f){\u001b[36mreturn\u001b[39m f}})})\u001b[33m,\u001b[39msingleLoader\u001b[33m:\u001b[39m\u001b[36masync\u001b[39m n\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39meu(n\u001b[33m.\u001b[39mtransaction)\u001b[33m:\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequest(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent()\u001b[33m,\u001b[39minteractiveTransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39misWrite\u001b[33m:\u001b[39m\u001b[33mOo\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction)\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mn\u001b[33m.\u001b[39mcustomDataProxyFetch})\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n\u001b[33m,\u001b[39mo)}\u001b[33m,\u001b[39mbatchBy\u001b[33m:\u001b[39mn\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mid\u001b[33m?\u001b[39m\u001b[32m`transaction-${n.transaction.id}`\u001b[39m\u001b[33m:\u001b[39m\u001b[33mZl\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39mbatchOrder(n\u001b[33m,\u001b[39mi){\u001b[36mreturn\u001b[39m n\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m?\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m-\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m:\u001b[39m\u001b[35m0\u001b[39m}})}\u001b[36masync\u001b[39m request(r){\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m.\u001b[39mrequest(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mlet\u001b[39m{clientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma}\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleAndLogRequestError({error\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mglobalOmit})}}mapQueryEngineResult({dataPath\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39munpacker\u001b[33m:\u001b[39mt}\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mdata\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39munpack(i\u001b[33m,\u001b[39mr\u001b[33m,\u001b[39mt)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mPRISMA_CLIENT_GET_TIME\u001b[39m\u001b[33m?\u001b[39m{data\u001b[33m:\u001b[39mo}\u001b[33m:\u001b[39mo}handleAndLogRequestError(r){\u001b[36mtry\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleRequestError(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mthrow\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m.\u001b[39memit(\u001b[32m\"error\"\u001b[39m\u001b[33m,\u001b[39m{message\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mmessage\u001b[33m,\u001b[39mtarget\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mclientMethod\u001b[33m,\u001b[39mtimestamp\u001b[33m:\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m})\u001b[33m,\u001b[39mt}}handleRequestError({error\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma}){\u001b[36mif\u001b[39m(\u001b[33mAf\u001b[39m(r)\u001b[33m,\u001b[39mkf(r\u001b[33m,\u001b[39mi))\u001b[36mthrow\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m z\u001b[33m&&\u001b[39m\u001b[33mOf\u001b[39m(r)){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39mru(r\u001b[33m.\u001b[39mmeta)\u001b[33m;\u001b[39mkn({args\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39m[u]\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39merrorFormat\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma})}\u001b[36mlet\u001b[39m l\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mmessage\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m(l\u001b[33m=\u001b[39mwn({callsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39misPanic\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39misPanic\u001b[33m,\u001b[39mshowColors\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m===\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39mmessage\u001b[33m:\u001b[39ml}))\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39msanitizeMessage(l)\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mcode){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39ms\u001b[33m?\u001b[39m{modelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr\u001b[33m.\u001b[39mmeta}\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mmeta\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m z(l\u001b[33m,\u001b[39m{code\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mcode\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mmeta\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})}\u001b[36melse\u001b[39m{\u001b[36mif\u001b[39m(r\u001b[33m.\u001b[39misPanic)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m j)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m j(l\u001b[33m,\u001b[39m{clientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m \u001b[33mT\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mT\u001b[39m(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m le)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)}\u001b[36mthrow\u001b[39m r\u001b[33m.\u001b[39mclientVersion\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mr}sanitizeMessage(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m!==\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m?\u001b[39m(\u001b[35m0\u001b[39m\u001b[33m,\u001b[39m\u001b[33mXl\u001b[39m\u001b[33m.\u001b[39m\u001b[36mdefault\u001b[39m)(r)\u001b[33m:\u001b[39mr}unpack(r\u001b[33m,\u001b[39mt\u001b[33m,\u001b[39mn){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m||\u001b[39m(r\u001b[33m.\u001b[39mdata\u001b[33m&&\u001b[39m(r\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mdata)\u001b[33m,\u001b[39m\u001b[33m!\u001b[39mr))\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mvalues(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ms\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mfilter(u\u001b[33m=>\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"select\"\u001b[39m\u001b[33m&&\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"include\"\u001b[39m)\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mio(o\u001b[33m,\u001b[39ms)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39mi\u001b[33m===\u001b[39m\u001b[32m\"queryRaw\"\u001b[39m\u001b[33m?\u001b[39mzn(a)\u001b[33m:\u001b[39m\u001b[33mTr\u001b[39m(a)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m?\u001b[39mn(l)\u001b[33m:\u001b[39ml}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"RequestHandler\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mIf\u001b[39m(e){\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39m{isolationLevel\u001b[33m:\u001b[39me\u001b[33m.\u001b[39misolationLevel}}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39meu(e)}\u001b[33m;\u001b[39m_e(e\u001b[33m,\u001b[39m\u001b[32m\"Unknown transaction kind\"\u001b[39m)}}\u001b[36mfunction\u001b[39m eu(e){\u001b[36mreturn\u001b[39m{id\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39mpayload\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mpayload}}\u001b[36mfunction\u001b[39m kf(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m \u001b[33mKn\u001b[39m(e)\u001b[33m&&\u001b[39mr\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m!==\u001b[39mr\u001b[33m.\u001b[39mindex}\u001b[36mfunction\u001b[39m \u001b[33mOf\u001b[39m(e){\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2009\"\u001b[39m\u001b[33m||\u001b[39me\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2012\"\u001b[39m}\u001b[36mfunction\u001b[39m ru(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"Union\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"Union\"\u001b[39m\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39me\u001b[33m.\u001b[39merrors\u001b[33m.\u001b[39mmap(ru)}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e\u001b[33m.\u001b[39mselectionPath)){\u001b[36mlet\u001b[39m[\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr]\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mselectionPath\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[33m...\u001b[39me\u001b[33m,\u001b[39mselectionPath\u001b[33m:\u001b[39mr}}\u001b[36mreturn\u001b[39m e}\u001b[36mvar\u001b[39m tu\u001b[33m=\u001b[39m\u001b[33mSl\u001b[39m\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m au\u001b[33m=\u001b[39mk(\u001b[33mQi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mD\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mError\u001b[39m{constructor(r){\u001b[36msuper\u001b[39m(r\u001b[33m+\u001b[39m\u001b[32m`\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 125 |\u001b[39m \u001b[32mRead more at https://pris.ly/d/client-constructor`\u001b[39m)\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mname\u001b[33m=\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}}\u001b[33m;\u001b[39mx(\u001b[33mD\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m nu\u001b[33m=\u001b[39m[\u001b[32m\"datasources\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"datasourceUrl\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"errorFormat\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"adapter\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"log\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"transactionOptions\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"omit\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"__internal\"\u001b[39m]\u001b[33m,\u001b[39miu\u001b[33m=\u001b[39m[\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"colorless\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"minimal\"\u001b[39m]\u001b[33m,\u001b[39mou\u001b[33m=\u001b[39m[\u001b[32m\"info\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"warn\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"error\"\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mDf\u001b[39m\u001b[33m=\u001b[39m{datasources\u001b[33m:\u001b[39m(e\u001b[33m,\u001b[39m{datasourceNames\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m e\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for \"datasources\" provided to PrismaClient constructor`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[t\u001b[33m,\u001b[39mn]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(e)){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m.\u001b[39mincludes(t)){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mWr\u001b[39m(t\u001b[33m,\u001b[39mr)\u001b[33m||\u001b[39m\u001b[32m` Available datasources: ${r.join(\", \")}`\u001b[39m\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Unknown datasource ${t} provided to PrismaClient constructor.${i}`\u001b[39m)}\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m n\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(n))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 126 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m\u001b[36mtypeof\u001b[39m n\u001b[33m==\u001b[39m\u001b[32m\"object\"\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[i\u001b[33m,\u001b[39mo]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(n)){\u001b[36mif\u001b[39m(i\u001b[33m!==\u001b[39m\u001b[32m\"url\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 127 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m o\u001b[33m!=\u001b[39m\u001b[32m\"string\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(o)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:7649)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError [as handleAndLogRequestError] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6784)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleAndLogRequestError [as request] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6491)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat l (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:133:9778)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/oauth2.test.ts\u001b[39m\u001b[0m\u001b[2m:50:5)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mOAuth2 Flow Integration Tests › GET /api/oauth/authorize › should generate authorization URL for valid request\u001b[39m\u001b[22m\n\n    PrismaClientUnknownRequestError: \n    Invalid `prisma.apiConnection.deleteMany()` invocation in\n    /Users/connorbowen/apiq-mvp/tests/integration/api/oauth2.test.ts:40:32\n\n      37     }\n      38   }\n      39 });\n    → 40 await prisma.apiConnection.deleteMany(\n    Error occurred during query execution:\n    ConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28326 waits for ShareLock on transaction 54087; blocked by process 28324.\\nProcess 28324 waits for ShareLock on transaction 54146; blocked by process 28328.\\nProcess 28328 waits for AccessExclusiveLock on tuple (0,15) of relation 33235 of database 21992; blocked by process 28326.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 122 |\u001b[39m \u001b[32m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 123 |\u001b[39m \u001b[32mMore Information: https://pris.ly/d/execute-raw\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 124 |\u001b[39m \u001b[32m`\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mCo\u001b[39m\u001b[33m=\u001b[39m({clientMethod\u001b[33m:\u001b[39me\u001b[33m,\u001b[39mactiveProvider\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39mt\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[32m\"\"\u001b[39m\u001b[33m,\u001b[39mi\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mFn\u001b[39m(t))n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(t)){\u001b[36mlet\u001b[39m[o\u001b[33m,\u001b[39m\u001b[33m...\u001b[39ms]\u001b[33m=\u001b[39mt\u001b[33m;\u001b[39mn\u001b[33m=\u001b[39mo\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(s\u001b[33m||\u001b[39m[])\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}}\u001b[36melse\u001b[39m \u001b[36mswitch\u001b[39m(r){\u001b[36mcase\u001b[39m\u001b[32m\"sqlite\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"mysql\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"cockroachdb\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgresql\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgres\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mtext\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"sqlserver\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mjl(t)\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`The ${r} provider does not support ${e}`\u001b[39m)}\u001b[36mreturn\u001b[39m i\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mvalues\u001b[33m?\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n}, ${i.values})`\u001b[39m)\u001b[33m:\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n})`\u001b[39m)\u001b[33m,\u001b[39m{query\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mparameters\u001b[33m:\u001b[39mi}}\u001b[33m,\u001b[39m\u001b[33mWl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e\u001b[33m.\u001b[39mstrings\u001b[33m,\u001b[39m\u001b[33m...\u001b[39me\u001b[33m.\u001b[39mvalues]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mlet\u001b[39m[r\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mt]\u001b[33m=\u001b[39me\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m oe(r\u001b[33m,\u001b[39mt)}}\u001b[33m,\u001b[39m\u001b[33mJl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mreturn\u001b[39m e[\u001b[35m0\u001b[39m]}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mAo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mfunction\u001b[39m(t\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m(s\u001b[33m=\u001b[39me)\u001b[33m=>\u001b[39m{\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m s\u001b[33m===\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m||\u001b[39ms\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33m=\u001b[39m\u001b[33mHl\u001b[39m(t(s))\u001b[33m:\u001b[39m\u001b[33mHl\u001b[39m(t(s))}\u001b[36mcatch\u001b[39m(a){\u001b[36mreturn\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mreject(a)}}\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[36mget\u001b[39m spec(){\u001b[36mreturn\u001b[39m n}\u001b[33m,\u001b[39mthen(s\u001b[33m,\u001b[39ma){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39mthen(s\u001b[33m,\u001b[39ma)}\u001b[33m,\u001b[39m\u001b[36mcatch\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(s)}\u001b[33m,\u001b[39m\u001b[36mfinally\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mfinally\u001b[39m(s)}\u001b[33m,\u001b[39mrequestTransaction(s){\u001b[36mlet\u001b[39m a\u001b[33m=\u001b[39mo(s)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m a\u001b[33m.\u001b[39mrequestTransaction\u001b[33m?\u001b[39ma\u001b[33m.\u001b[39mrequestTransaction(s)\u001b[33m:\u001b[39ma}\u001b[33m,\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag]\u001b[33m:\u001b[39m\u001b[32m\"PrismaPromise\"\u001b[39m}}}\u001b[36mfunction\u001b[39m \u001b[33mHl\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mthen\u001b[33m==\u001b[39m\u001b[32m\"function\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39m\u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mresolve(e)}\u001b[36mvar\u001b[39m \u001b[33mTf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mEi\u001b[39m\u001b[33m.\u001b[39msplit(\u001b[32m\".\"\u001b[39m)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mSf\u001b[39m\u001b[33m=\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m}\u001b[33m,\u001b[39mgetTraceParent(){\u001b[36mreturn\u001b[39m\u001b[32m\"00-10-10-00\"\u001b[39m}\u001b[33m,\u001b[39mdispatchEngineSpans(){}\u001b[33m,\u001b[39mgetActiveContext(){}\u001b[33m,\u001b[39mrunInChildSpan(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m r()}}\u001b[33m,\u001b[39m\u001b[33mIo\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39misEnabled()}getTraceParent(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetTraceParent(r)}dispatchEngineSpans(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mdispatchEngineSpans(r)}getActiveContext(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetActiveContext()}runInChildSpan(r\u001b[33m,\u001b[39mt){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mrunInChildSpan(r\u001b[33m,\u001b[39mt)}getGlobalTracingHelper(){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39mglobalThis[\u001b[32m`V${Tf}_PRISMA_INSTRUMENTATION`\u001b[39m]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39mglobalThis\u001b[33m.\u001b[39m\u001b[33mPRISMA_INSTRUMENTATION\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33mSf\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKl\u001b[39m(){\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mIo\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mYl\u001b[39m(e\u001b[33m,\u001b[39mr\u001b[33m=\u001b[39m()\u001b[33m=>\u001b[39m{}){\u001b[36mlet\u001b[39m t\u001b[33m,\u001b[39mn\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m(i\u001b[33m=>\u001b[39mt\u001b[33m=\u001b[39mi)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{then(i){\u001b[36mreturn\u001b[39m\u001b[33m--\u001b[39me\u001b[33m===\u001b[39m\u001b[35m0\u001b[39m\u001b[33m&&\u001b[39mt(r())\u001b[33m,\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m.\u001b[39m(n)}}}\u001b[36mfunction\u001b[39m zl(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mreduce((r\u001b[33m,\u001b[39mt)\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[36mtypeof\u001b[39m t\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mlevel\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m===\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m?\u001b[39mr\u001b[33m:\u001b[39mr\u001b[33m&&\u001b[39m(t\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m||\u001b[39mr\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m)\u001b[33m?\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m:\u001b[39mn}\u001b[33m,\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mHn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{_middlewares\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39muse(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mpush(r)}\u001b[36mget\u001b[39m(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}has(r){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[33m!\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}length(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mlength}}\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mXl\u001b[39m\u001b[33m=\u001b[39mk(\u001b[33mOi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKn\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m==\u001b[39m\u001b[32m\"number\"\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mZl\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUnique\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUniqueOrThrow\"\u001b[39m)\u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mmodelName\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(e\u001b[33m.\u001b[39mmodelName)\u001b[33m,\u001b[39me\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39mselection))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mjoin(\u001b[32m\"\"\u001b[39m)}\u001b[36mfunction\u001b[39m ko(e){\u001b[36mreturn\u001b[39m\u001b[32m`(${Object.keys(e).sort().map(t=>{let n=e[t];return typeof n==\"object\"&&n!==null?`(${t} ${ko(n)})`:t}).join(\" \")})`\u001b[39m}\u001b[36mvar\u001b[39m \u001b[33mRf\u001b[39m\u001b[33m=\u001b[39m{aggregate\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39maggregateRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mcreateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mexecuteRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mfindFirst\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindFirstOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUnique\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUniqueOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mgroupBy\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mqueryRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mrunCommandRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupsertOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mOo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[33mRf\u001b[39m[e]}\u001b[36mvar\u001b[39m \u001b[33mYn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{constructor(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches\u001b[33m=\u001b[39m{}}batches\u001b[33m;\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m;\u001b[39mrequest(r){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchBy(r)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m t\u001b[33m?\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mprocess\u001b[33m.\u001b[39mnextTick(()\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdispatchBatches()\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m})))\u001b[33m,\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m.\u001b[39mpush({request\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mresolve\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mreject\u001b[33m:\u001b[39mi})}))\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(r)}dispatchBatches(){\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m r \u001b[36min\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m;\u001b[39m\u001b[36mdelete\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m,\u001b[39mt\u001b[33m.\u001b[39mlength\u001b[33m===\u001b[39m\u001b[35m1\u001b[39m\u001b[33m?\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mrequest)\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)\u001b[33m:\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mresolve(n)})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)})\u001b[33m:\u001b[39m(t\u001b[33m.\u001b[39msort((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchOrder(n\u001b[33m.\u001b[39mrequest\u001b[33m,\u001b[39mi\u001b[33m.\u001b[39mrequest))\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchLoader(t\u001b[33m.\u001b[39mmap(n\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mrequest))\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m o\u001b[33m=\u001b[39mn[i]\u001b[33m;\u001b[39mo \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[i]\u001b[33m.\u001b[39mreject(o)\u001b[33m:\u001b[39mt[i]\u001b[33m.\u001b[39mresolve(o)}})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)}))}}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"DataLoader\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m mr(e\u001b[33m,\u001b[39mr){\u001b[36mif\u001b[39m(r\u001b[33m===\u001b[39m\u001b[36mnull\u001b[39m)\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mswitch\u001b[39m(e){\u001b[36mcase\u001b[39m\u001b[32m\"bigint\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[33mBigInt\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes\"\u001b[39m\u001b[33m:\u001b[39m{\u001b[36mlet\u001b[39m{buffer\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mbyteOffset\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mbyteLength\u001b[33m:\u001b[39mi}\u001b[33m=\u001b[39m\u001b[33mBuffer\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m(r\u001b[33m,\u001b[39m\u001b[32m\"base64\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mUint8Array\u001b[39m(t\u001b[33m,\u001b[39mn\u001b[33m,\u001b[39mi)}\u001b[36mcase\u001b[39m\u001b[32m\"decimal\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mPe\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(\u001b[32m`1970-01-01T${r}Z`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bigint-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bigint\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bytes\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"decimal-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"decimal\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"datetime\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"date\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"time\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r}}\u001b[36mfunction\u001b[39m zn(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39m\u001b[33mCf\u001b[39m(e)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mn\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mrows\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mn\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mrows[n]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m{\u001b[33m...\u001b[39mt}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m s\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39ms\u001b[33m<\u001b[39m\u001b[33mi\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39ms\u001b[33m++\u001b[39m)o[e\u001b[33m.\u001b[39mcolumns[s]]\u001b[33m=\u001b[39mmr(e\u001b[33m.\u001b[39mtypes[s]\u001b[33m,\u001b[39mi[s])\u001b[33m;\u001b[39mr\u001b[33m.\u001b[39mpush(o)}\u001b[36mreturn\u001b[39m r}\u001b[36mfunction\u001b[39m \u001b[33mCf\u001b[39m(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m{}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mt\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mcolumns\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mt\u001b[33m++\u001b[39m)r[e\u001b[33m.\u001b[39mcolumns[t]]\u001b[33m=\u001b[39m\u001b[36mnull\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r}\u001b[36mvar\u001b[39m \u001b[33mAf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mN\u001b[39m(\u001b[32m\"prisma:client:request_handler\"\u001b[39m)\u001b[33m,\u001b[39m\u001b[33mZn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{client\u001b[33m;\u001b[39mdataloader\u001b[33m;\u001b[39mlogEmitter\u001b[33m;\u001b[39mconstructor(r\u001b[33m,\u001b[39mt){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m=\u001b[39mt\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m=\u001b[39mr\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mYn\u001b[39m({batchLoader\u001b[33m:\u001b[39mol(\u001b[36masync\u001b[39m({requests\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi})\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m{transaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39motelParentCtx\u001b[33m:\u001b[39ms}\u001b[33m=\u001b[39mn[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mmap(p\u001b[33m=>\u001b[39mp\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent(s)\u001b[33m,\u001b[39mu\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39msome(p\u001b[33m=>\u001b[39m\u001b[33mOo\u001b[39m(p\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction))\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m(\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequestBatch(a\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39ml\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39m\u001b[33mIf\u001b[39m(o)\u001b[33m,\u001b[39mcontainsWrite\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi}))\u001b[33m.\u001b[39mmap((p\u001b[33m,\u001b[39md)\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(p \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mreturn\u001b[39m p\u001b[33m;\u001b[39m\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n[d]\u001b[33m,\u001b[39mp)}\u001b[36mcatch\u001b[39m(f){\u001b[36mreturn\u001b[39m f}})})\u001b[33m,\u001b[39msingleLoader\u001b[33m:\u001b[39m\u001b[36masync\u001b[39m n\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39meu(n\u001b[33m.\u001b[39mtransaction)\u001b[33m:\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequest(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent()\u001b[33m,\u001b[39minteractiveTransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39misWrite\u001b[33m:\u001b[39m\u001b[33mOo\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction)\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mn\u001b[33m.\u001b[39mcustomDataProxyFetch})\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n\u001b[33m,\u001b[39mo)}\u001b[33m,\u001b[39mbatchBy\u001b[33m:\u001b[39mn\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mid\u001b[33m?\u001b[39m\u001b[32m`transaction-${n.transaction.id}`\u001b[39m\u001b[33m:\u001b[39m\u001b[33mZl\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39mbatchOrder(n\u001b[33m,\u001b[39mi){\u001b[36mreturn\u001b[39m n\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m?\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m-\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m:\u001b[39m\u001b[35m0\u001b[39m}})}\u001b[36masync\u001b[39m request(r){\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m.\u001b[39mrequest(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mlet\u001b[39m{clientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma}\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleAndLogRequestError({error\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mglobalOmit})}}mapQueryEngineResult({dataPath\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39munpacker\u001b[33m:\u001b[39mt}\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mdata\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39munpack(i\u001b[33m,\u001b[39mr\u001b[33m,\u001b[39mt)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mPRISMA_CLIENT_GET_TIME\u001b[39m\u001b[33m?\u001b[39m{data\u001b[33m:\u001b[39mo}\u001b[33m:\u001b[39mo}handleAndLogRequestError(r){\u001b[36mtry\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleRequestError(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mthrow\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m.\u001b[39memit(\u001b[32m\"error\"\u001b[39m\u001b[33m,\u001b[39m{message\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mmessage\u001b[33m,\u001b[39mtarget\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mclientMethod\u001b[33m,\u001b[39mtimestamp\u001b[33m:\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m})\u001b[33m,\u001b[39mt}}handleRequestError({error\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma}){\u001b[36mif\u001b[39m(\u001b[33mAf\u001b[39m(r)\u001b[33m,\u001b[39mkf(r\u001b[33m,\u001b[39mi))\u001b[36mthrow\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m z\u001b[33m&&\u001b[39m\u001b[33mOf\u001b[39m(r)){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39mru(r\u001b[33m.\u001b[39mmeta)\u001b[33m;\u001b[39mkn({args\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39m[u]\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39merrorFormat\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma})}\u001b[36mlet\u001b[39m l\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mmessage\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m(l\u001b[33m=\u001b[39mwn({callsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39misPanic\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39misPanic\u001b[33m,\u001b[39mshowColors\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m===\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39mmessage\u001b[33m:\u001b[39ml}))\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39msanitizeMessage(l)\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mcode){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39ms\u001b[33m?\u001b[39m{modelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr\u001b[33m.\u001b[39mmeta}\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mmeta\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m z(l\u001b[33m,\u001b[39m{code\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mcode\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mmeta\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})}\u001b[36melse\u001b[39m{\u001b[36mif\u001b[39m(r\u001b[33m.\u001b[39misPanic)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m j)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m j(l\u001b[33m,\u001b[39m{clientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m \u001b[33mT\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mT\u001b[39m(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m le)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)}\u001b[36mthrow\u001b[39m r\u001b[33m.\u001b[39mclientVersion\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mr}sanitizeMessage(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m!==\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m?\u001b[39m(\u001b[35m0\u001b[39m\u001b[33m,\u001b[39m\u001b[33mXl\u001b[39m\u001b[33m.\u001b[39m\u001b[36mdefault\u001b[39m)(r)\u001b[33m:\u001b[39mr}unpack(r\u001b[33m,\u001b[39mt\u001b[33m,\u001b[39mn){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m||\u001b[39m(r\u001b[33m.\u001b[39mdata\u001b[33m&&\u001b[39m(r\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mdata)\u001b[33m,\u001b[39m\u001b[33m!\u001b[39mr))\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mvalues(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ms\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mfilter(u\u001b[33m=>\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"select\"\u001b[39m\u001b[33m&&\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"include\"\u001b[39m)\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mio(o\u001b[33m,\u001b[39ms)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39mi\u001b[33m===\u001b[39m\u001b[32m\"queryRaw\"\u001b[39m\u001b[33m?\u001b[39mzn(a)\u001b[33m:\u001b[39m\u001b[33mTr\u001b[39m(a)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m?\u001b[39mn(l)\u001b[33m:\u001b[39ml}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"RequestHandler\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mIf\u001b[39m(e){\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39m{isolationLevel\u001b[33m:\u001b[39me\u001b[33m.\u001b[39misolationLevel}}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39meu(e)}\u001b[33m;\u001b[39m_e(e\u001b[33m,\u001b[39m\u001b[32m\"Unknown transaction kind\"\u001b[39m)}}\u001b[36mfunction\u001b[39m eu(e){\u001b[36mreturn\u001b[39m{id\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39mpayload\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mpayload}}\u001b[36mfunction\u001b[39m kf(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m \u001b[33mKn\u001b[39m(e)\u001b[33m&&\u001b[39mr\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m!==\u001b[39mr\u001b[33m.\u001b[39mindex}\u001b[36mfunction\u001b[39m \u001b[33mOf\u001b[39m(e){\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2009\"\u001b[39m\u001b[33m||\u001b[39me\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2012\"\u001b[39m}\u001b[36mfunction\u001b[39m ru(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"Union\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"Union\"\u001b[39m\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39me\u001b[33m.\u001b[39merrors\u001b[33m.\u001b[39mmap(ru)}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e\u001b[33m.\u001b[39mselectionPath)){\u001b[36mlet\u001b[39m[\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr]\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mselectionPath\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[33m...\u001b[39me\u001b[33m,\u001b[39mselectionPath\u001b[33m:\u001b[39mr}}\u001b[36mreturn\u001b[39m e}\u001b[36mvar\u001b[39m tu\u001b[33m=\u001b[39m\u001b[33mSl\u001b[39m\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m au\u001b[33m=\u001b[39mk(\u001b[33mQi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mD\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mError\u001b[39m{constructor(r){\u001b[36msuper\u001b[39m(r\u001b[33m+\u001b[39m\u001b[32m`\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 125 |\u001b[39m \u001b[32mRead more at https://pris.ly/d/client-constructor`\u001b[39m)\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mname\u001b[33m=\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}}\u001b[33m;\u001b[39mx(\u001b[33mD\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m nu\u001b[33m=\u001b[39m[\u001b[32m\"datasources\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"datasourceUrl\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"errorFormat\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"adapter\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"log\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"transactionOptions\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"omit\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"__internal\"\u001b[39m]\u001b[33m,\u001b[39miu\u001b[33m=\u001b[39m[\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"colorless\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"minimal\"\u001b[39m]\u001b[33m,\u001b[39mou\u001b[33m=\u001b[39m[\u001b[32m\"info\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"warn\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"error\"\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mDf\u001b[39m\u001b[33m=\u001b[39m{datasources\u001b[33m:\u001b[39m(e\u001b[33m,\u001b[39m{datasourceNames\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m e\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for \"datasources\" provided to PrismaClient constructor`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[t\u001b[33m,\u001b[39mn]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(e)){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m.\u001b[39mincludes(t)){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mWr\u001b[39m(t\u001b[33m,\u001b[39mr)\u001b[33m||\u001b[39m\u001b[32m` Available datasources: ${r.join(\", \")}`\u001b[39m\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Unknown datasource ${t} provided to PrismaClient constructor.${i}`\u001b[39m)}\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m n\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(n))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 126 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m\u001b[36mtypeof\u001b[39m n\u001b[33m==\u001b[39m\u001b[32m\"object\"\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[i\u001b[33m,\u001b[39mo]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(n)){\u001b[36mif\u001b[39m(i\u001b[33m!==\u001b[39m\u001b[32m\"url\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 127 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m o\u001b[33m!=\u001b[39m\u001b[32m\"string\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(o)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:7649)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError [as handleAndLogRequestError] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6784)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleAndLogRequestError [as request] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6491)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat l (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:133:9778)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/oauth2.test.ts\u001b[39m\u001b[0m\u001b[2m:40:5)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mOAuth2 Flow Integration Tests › GET /api/oauth/authorize › should reject unsupported providers\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32m400\u001b[39m\n    Received: \u001b[31m404\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 203 |\u001b[39m       \u001b[36mawait\u001b[39m authorizeHandler(req \u001b[36mas\u001b[39m any\u001b[33m,\u001b[39m res \u001b[36mas\u001b[39m any)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 204 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 205 |\u001b[39m       expect(res\u001b[33m.\u001b[39m_getStatusCode())\u001b[33m.\u001b[39mtoBe(\u001b[35m400\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 206 |\u001b[39m       \u001b[36mconst\u001b[39m data \u001b[33m=\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(res\u001b[33m.\u001b[39m_getData())\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 207 |\u001b[39m       expect(data\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 208 |\u001b[39m       \u001b[90m// The error might be about configuration first, but should eventually reach unsupported provider check\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/oauth2.test.ts\u001b[39m\u001b[0m\u001b[2m:205:36)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mOAuth2 Flow Integration Tests › GET /api/oauth/callback › should process successful OAuth2 callback\u001b[39m\u001b[22m\n\n    PrismaClientUnknownRequestError: \n    Invalid `prisma.apiConnection.deleteMany()` invocation in\n    /Users/connorbowen/apiq-mvp/tests/integration/api/oauth2.test.ts:40:32\n\n      37     }\n      38   }\n      39 });\n    → 40 await prisma.apiConnection.deleteMany(\n    Error occurred during query execution:\n    ConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28326 waits for AccessExclusiveLock on tuple (0,19) of relation 33235 of database 21992; blocked by process 28324.\\nProcess 28324 waits for ShareLock on transaction 54200; blocked by process 28404.\\nProcess 28404 waits for ShareLock on transaction 54205; blocked by process 28326.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 122 |\u001b[39m \u001b[32m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 123 |\u001b[39m \u001b[32mMore Information: https://pris.ly/d/execute-raw\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 124 |\u001b[39m \u001b[32m`\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mCo\u001b[39m\u001b[33m=\u001b[39m({clientMethod\u001b[33m:\u001b[39me\u001b[33m,\u001b[39mactiveProvider\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39mt\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[32m\"\"\u001b[39m\u001b[33m,\u001b[39mi\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mFn\u001b[39m(t))n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(t)){\u001b[36mlet\u001b[39m[o\u001b[33m,\u001b[39m\u001b[33m...\u001b[39ms]\u001b[33m=\u001b[39mt\u001b[33m;\u001b[39mn\u001b[33m=\u001b[39mo\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(s\u001b[33m||\u001b[39m[])\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}}\u001b[36melse\u001b[39m \u001b[36mswitch\u001b[39m(r){\u001b[36mcase\u001b[39m\u001b[32m\"sqlite\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"mysql\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"cockroachdb\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgresql\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgres\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mtext\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"sqlserver\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mjl(t)\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`The ${r} provider does not support ${e}`\u001b[39m)}\u001b[36mreturn\u001b[39m i\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mvalues\u001b[33m?\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n}, ${i.values})`\u001b[39m)\u001b[33m:\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n})`\u001b[39m)\u001b[33m,\u001b[39m{query\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mparameters\u001b[33m:\u001b[39mi}}\u001b[33m,\u001b[39m\u001b[33mWl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e\u001b[33m.\u001b[39mstrings\u001b[33m,\u001b[39m\u001b[33m...\u001b[39me\u001b[33m.\u001b[39mvalues]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mlet\u001b[39m[r\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mt]\u001b[33m=\u001b[39me\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m oe(r\u001b[33m,\u001b[39mt)}}\u001b[33m,\u001b[39m\u001b[33mJl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mreturn\u001b[39m e[\u001b[35m0\u001b[39m]}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mAo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mfunction\u001b[39m(t\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m(s\u001b[33m=\u001b[39me)\u001b[33m=>\u001b[39m{\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m s\u001b[33m===\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m||\u001b[39ms\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33m=\u001b[39m\u001b[33mHl\u001b[39m(t(s))\u001b[33m:\u001b[39m\u001b[33mHl\u001b[39m(t(s))}\u001b[36mcatch\u001b[39m(a){\u001b[36mreturn\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mreject(a)}}\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[36mget\u001b[39m spec(){\u001b[36mreturn\u001b[39m n}\u001b[33m,\u001b[39mthen(s\u001b[33m,\u001b[39ma){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39mthen(s\u001b[33m,\u001b[39ma)}\u001b[33m,\u001b[39m\u001b[36mcatch\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(s)}\u001b[33m,\u001b[39m\u001b[36mfinally\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mfinally\u001b[39m(s)}\u001b[33m,\u001b[39mrequestTransaction(s){\u001b[36mlet\u001b[39m a\u001b[33m=\u001b[39mo(s)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m a\u001b[33m.\u001b[39mrequestTransaction\u001b[33m?\u001b[39ma\u001b[33m.\u001b[39mrequestTransaction(s)\u001b[33m:\u001b[39ma}\u001b[33m,\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag]\u001b[33m:\u001b[39m\u001b[32m\"PrismaPromise\"\u001b[39m}}}\u001b[36mfunction\u001b[39m \u001b[33mHl\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mthen\u001b[33m==\u001b[39m\u001b[32m\"function\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39m\u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mresolve(e)}\u001b[36mvar\u001b[39m \u001b[33mTf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mEi\u001b[39m\u001b[33m.\u001b[39msplit(\u001b[32m\".\"\u001b[39m)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mSf\u001b[39m\u001b[33m=\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m}\u001b[33m,\u001b[39mgetTraceParent(){\u001b[36mreturn\u001b[39m\u001b[32m\"00-10-10-00\"\u001b[39m}\u001b[33m,\u001b[39mdispatchEngineSpans(){}\u001b[33m,\u001b[39mgetActiveContext(){}\u001b[33m,\u001b[39mrunInChildSpan(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m r()}}\u001b[33m,\u001b[39m\u001b[33mIo\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39misEnabled()}getTraceParent(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetTraceParent(r)}dispatchEngineSpans(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mdispatchEngineSpans(r)}getActiveContext(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetActiveContext()}runInChildSpan(r\u001b[33m,\u001b[39mt){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mrunInChildSpan(r\u001b[33m,\u001b[39mt)}getGlobalTracingHelper(){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39mglobalThis[\u001b[32m`V${Tf}_PRISMA_INSTRUMENTATION`\u001b[39m]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39mglobalThis\u001b[33m.\u001b[39m\u001b[33mPRISMA_INSTRUMENTATION\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33mSf\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKl\u001b[39m(){\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mIo\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mYl\u001b[39m(e\u001b[33m,\u001b[39mr\u001b[33m=\u001b[39m()\u001b[33m=>\u001b[39m{}){\u001b[36mlet\u001b[39m t\u001b[33m,\u001b[39mn\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m(i\u001b[33m=>\u001b[39mt\u001b[33m=\u001b[39mi)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{then(i){\u001b[36mreturn\u001b[39m\u001b[33m--\u001b[39me\u001b[33m===\u001b[39m\u001b[35m0\u001b[39m\u001b[33m&&\u001b[39mt(r())\u001b[33m,\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m.\u001b[39m(n)}}}\u001b[36mfunction\u001b[39m zl(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mreduce((r\u001b[33m,\u001b[39mt)\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[36mtypeof\u001b[39m t\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mlevel\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m===\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m?\u001b[39mr\u001b[33m:\u001b[39mr\u001b[33m&&\u001b[39m(t\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m||\u001b[39mr\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m)\u001b[33m?\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m:\u001b[39mn}\u001b[33m,\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mHn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{_middlewares\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39muse(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mpush(r)}\u001b[36mget\u001b[39m(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}has(r){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[33m!\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}length(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mlength}}\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mXl\u001b[39m\u001b[33m=\u001b[39mk(\u001b[33mOi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKn\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m==\u001b[39m\u001b[32m\"number\"\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mZl\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUnique\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUniqueOrThrow\"\u001b[39m)\u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mmodelName\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(e\u001b[33m.\u001b[39mmodelName)\u001b[33m,\u001b[39me\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39mselection))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mjoin(\u001b[32m\"\"\u001b[39m)}\u001b[36mfunction\u001b[39m ko(e){\u001b[36mreturn\u001b[39m\u001b[32m`(${Object.keys(e).sort().map(t=>{let n=e[t];return typeof n==\"object\"&&n!==null?`(${t} ${ko(n)})`:t}).join(\" \")})`\u001b[39m}\u001b[36mvar\u001b[39m \u001b[33mRf\u001b[39m\u001b[33m=\u001b[39m{aggregate\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39maggregateRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mcreateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mexecuteRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mfindFirst\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindFirstOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUnique\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUniqueOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mgroupBy\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mqueryRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mrunCommandRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupsertOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mOo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[33mRf\u001b[39m[e]}\u001b[36mvar\u001b[39m \u001b[33mYn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{constructor(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches\u001b[33m=\u001b[39m{}}batches\u001b[33m;\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m;\u001b[39mrequest(r){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchBy(r)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m t\u001b[33m?\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mprocess\u001b[33m.\u001b[39mnextTick(()\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdispatchBatches()\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m})))\u001b[33m,\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m.\u001b[39mpush({request\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mresolve\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mreject\u001b[33m:\u001b[39mi})}))\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(r)}dispatchBatches(){\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m r \u001b[36min\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m;\u001b[39m\u001b[36mdelete\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m,\u001b[39mt\u001b[33m.\u001b[39mlength\u001b[33m===\u001b[39m\u001b[35m1\u001b[39m\u001b[33m?\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mrequest)\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)\u001b[33m:\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mresolve(n)})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)})\u001b[33m:\u001b[39m(t\u001b[33m.\u001b[39msort((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchOrder(n\u001b[33m.\u001b[39mrequest\u001b[33m,\u001b[39mi\u001b[33m.\u001b[39mrequest))\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchLoader(t\u001b[33m.\u001b[39mmap(n\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mrequest))\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m o\u001b[33m=\u001b[39mn[i]\u001b[33m;\u001b[39mo \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[i]\u001b[33m.\u001b[39mreject(o)\u001b[33m:\u001b[39mt[i]\u001b[33m.\u001b[39mresolve(o)}})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)}))}}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"DataLoader\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m mr(e\u001b[33m,\u001b[39mr){\u001b[36mif\u001b[39m(r\u001b[33m===\u001b[39m\u001b[36mnull\u001b[39m)\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mswitch\u001b[39m(e){\u001b[36mcase\u001b[39m\u001b[32m\"bigint\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[33mBigInt\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes\"\u001b[39m\u001b[33m:\u001b[39m{\u001b[36mlet\u001b[39m{buffer\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mbyteOffset\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mbyteLength\u001b[33m:\u001b[39mi}\u001b[33m=\u001b[39m\u001b[33mBuffer\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m(r\u001b[33m,\u001b[39m\u001b[32m\"base64\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mUint8Array\u001b[39m(t\u001b[33m,\u001b[39mn\u001b[33m,\u001b[39mi)}\u001b[36mcase\u001b[39m\u001b[32m\"decimal\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mPe\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(\u001b[32m`1970-01-01T${r}Z`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bigint-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bigint\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bytes\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"decimal-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"decimal\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"datetime\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"date\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"time\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r}}\u001b[36mfunction\u001b[39m zn(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39m\u001b[33mCf\u001b[39m(e)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mn\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mrows\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mn\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mrows[n]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m{\u001b[33m...\u001b[39mt}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m s\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39ms\u001b[33m<\u001b[39m\u001b[33mi\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39ms\u001b[33m++\u001b[39m)o[e\u001b[33m.\u001b[39mcolumns[s]]\u001b[33m=\u001b[39mmr(e\u001b[33m.\u001b[39mtypes[s]\u001b[33m,\u001b[39mi[s])\u001b[33m;\u001b[39mr\u001b[33m.\u001b[39mpush(o)}\u001b[36mreturn\u001b[39m r}\u001b[36mfunction\u001b[39m \u001b[33mCf\u001b[39m(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m{}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mt\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mcolumns\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mt\u001b[33m++\u001b[39m)r[e\u001b[33m.\u001b[39mcolumns[t]]\u001b[33m=\u001b[39m\u001b[36mnull\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r}\u001b[36mvar\u001b[39m \u001b[33mAf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mN\u001b[39m(\u001b[32m\"prisma:client:request_handler\"\u001b[39m)\u001b[33m,\u001b[39m\u001b[33mZn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{client\u001b[33m;\u001b[39mdataloader\u001b[33m;\u001b[39mlogEmitter\u001b[33m;\u001b[39mconstructor(r\u001b[33m,\u001b[39mt){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m=\u001b[39mt\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m=\u001b[39mr\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mYn\u001b[39m({batchLoader\u001b[33m:\u001b[39mol(\u001b[36masync\u001b[39m({requests\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi})\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m{transaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39motelParentCtx\u001b[33m:\u001b[39ms}\u001b[33m=\u001b[39mn[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mmap(p\u001b[33m=>\u001b[39mp\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent(s)\u001b[33m,\u001b[39mu\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39msome(p\u001b[33m=>\u001b[39m\u001b[33mOo\u001b[39m(p\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction))\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m(\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequestBatch(a\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39ml\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39m\u001b[33mIf\u001b[39m(o)\u001b[33m,\u001b[39mcontainsWrite\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi}))\u001b[33m.\u001b[39mmap((p\u001b[33m,\u001b[39md)\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(p \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mreturn\u001b[39m p\u001b[33m;\u001b[39m\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n[d]\u001b[33m,\u001b[39mp)}\u001b[36mcatch\u001b[39m(f){\u001b[36mreturn\u001b[39m f}})})\u001b[33m,\u001b[39msingleLoader\u001b[33m:\u001b[39m\u001b[36masync\u001b[39m n\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39meu(n\u001b[33m.\u001b[39mtransaction)\u001b[33m:\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequest(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent()\u001b[33m,\u001b[39minteractiveTransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39misWrite\u001b[33m:\u001b[39m\u001b[33mOo\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction)\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mn\u001b[33m.\u001b[39mcustomDataProxyFetch})\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n\u001b[33m,\u001b[39mo)}\u001b[33m,\u001b[39mbatchBy\u001b[33m:\u001b[39mn\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mid\u001b[33m?\u001b[39m\u001b[32m`transaction-${n.transaction.id}`\u001b[39m\u001b[33m:\u001b[39m\u001b[33mZl\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39mbatchOrder(n\u001b[33m,\u001b[39mi){\u001b[36mreturn\u001b[39m n\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m?\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m-\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m:\u001b[39m\u001b[35m0\u001b[39m}})}\u001b[36masync\u001b[39m request(r){\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m.\u001b[39mrequest(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mlet\u001b[39m{clientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma}\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleAndLogRequestError({error\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mglobalOmit})}}mapQueryEngineResult({dataPath\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39munpacker\u001b[33m:\u001b[39mt}\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mdata\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39munpack(i\u001b[33m,\u001b[39mr\u001b[33m,\u001b[39mt)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mPRISMA_CLIENT_GET_TIME\u001b[39m\u001b[33m?\u001b[39m{data\u001b[33m:\u001b[39mo}\u001b[33m:\u001b[39mo}handleAndLogRequestError(r){\u001b[36mtry\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleRequestError(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mthrow\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m.\u001b[39memit(\u001b[32m\"error\"\u001b[39m\u001b[33m,\u001b[39m{message\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mmessage\u001b[33m,\u001b[39mtarget\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mclientMethod\u001b[33m,\u001b[39mtimestamp\u001b[33m:\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m})\u001b[33m,\u001b[39mt}}handleRequestError({error\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma}){\u001b[36mif\u001b[39m(\u001b[33mAf\u001b[39m(r)\u001b[33m,\u001b[39mkf(r\u001b[33m,\u001b[39mi))\u001b[36mthrow\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m z\u001b[33m&&\u001b[39m\u001b[33mOf\u001b[39m(r)){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39mru(r\u001b[33m.\u001b[39mmeta)\u001b[33m;\u001b[39mkn({args\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39m[u]\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39merrorFormat\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma})}\u001b[36mlet\u001b[39m l\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mmessage\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m(l\u001b[33m=\u001b[39mwn({callsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39misPanic\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39misPanic\u001b[33m,\u001b[39mshowColors\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m===\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39mmessage\u001b[33m:\u001b[39ml}))\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39msanitizeMessage(l)\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mcode){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39ms\u001b[33m?\u001b[39m{modelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr\u001b[33m.\u001b[39mmeta}\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mmeta\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m z(l\u001b[33m,\u001b[39m{code\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mcode\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mmeta\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})}\u001b[36melse\u001b[39m{\u001b[36mif\u001b[39m(r\u001b[33m.\u001b[39misPanic)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m j)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m j(l\u001b[33m,\u001b[39m{clientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m \u001b[33mT\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mT\u001b[39m(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m le)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)}\u001b[36mthrow\u001b[39m r\u001b[33m.\u001b[39mclientVersion\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mr}sanitizeMessage(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m!==\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m?\u001b[39m(\u001b[35m0\u001b[39m\u001b[33m,\u001b[39m\u001b[33mXl\u001b[39m\u001b[33m.\u001b[39m\u001b[36mdefault\u001b[39m)(r)\u001b[33m:\u001b[39mr}unpack(r\u001b[33m,\u001b[39mt\u001b[33m,\u001b[39mn){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m||\u001b[39m(r\u001b[33m.\u001b[39mdata\u001b[33m&&\u001b[39m(r\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mdata)\u001b[33m,\u001b[39m\u001b[33m!\u001b[39mr))\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mvalues(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ms\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mfilter(u\u001b[33m=>\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"select\"\u001b[39m\u001b[33m&&\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"include\"\u001b[39m)\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mio(o\u001b[33m,\u001b[39ms)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39mi\u001b[33m===\u001b[39m\u001b[32m\"queryRaw\"\u001b[39m\u001b[33m?\u001b[39mzn(a)\u001b[33m:\u001b[39m\u001b[33mTr\u001b[39m(a)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m?\u001b[39mn(l)\u001b[33m:\u001b[39ml}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"RequestHandler\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mIf\u001b[39m(e){\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39m{isolationLevel\u001b[33m:\u001b[39me\u001b[33m.\u001b[39misolationLevel}}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39meu(e)}\u001b[33m;\u001b[39m_e(e\u001b[33m,\u001b[39m\u001b[32m\"Unknown transaction kind\"\u001b[39m)}}\u001b[36mfunction\u001b[39m eu(e){\u001b[36mreturn\u001b[39m{id\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39mpayload\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mpayload}}\u001b[36mfunction\u001b[39m kf(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m \u001b[33mKn\u001b[39m(e)\u001b[33m&&\u001b[39mr\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m!==\u001b[39mr\u001b[33m.\u001b[39mindex}\u001b[36mfunction\u001b[39m \u001b[33mOf\u001b[39m(e){\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2009\"\u001b[39m\u001b[33m||\u001b[39me\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2012\"\u001b[39m}\u001b[36mfunction\u001b[39m ru(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"Union\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"Union\"\u001b[39m\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39me\u001b[33m.\u001b[39merrors\u001b[33m.\u001b[39mmap(ru)}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e\u001b[33m.\u001b[39mselectionPath)){\u001b[36mlet\u001b[39m[\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr]\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mselectionPath\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[33m...\u001b[39me\u001b[33m,\u001b[39mselectionPath\u001b[33m:\u001b[39mr}}\u001b[36mreturn\u001b[39m e}\u001b[36mvar\u001b[39m tu\u001b[33m=\u001b[39m\u001b[33mSl\u001b[39m\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m au\u001b[33m=\u001b[39mk(\u001b[33mQi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mD\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mError\u001b[39m{constructor(r){\u001b[36msuper\u001b[39m(r\u001b[33m+\u001b[39m\u001b[32m`\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 125 |\u001b[39m \u001b[32mRead more at https://pris.ly/d/client-constructor`\u001b[39m)\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mname\u001b[33m=\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}}\u001b[33m;\u001b[39mx(\u001b[33mD\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m nu\u001b[33m=\u001b[39m[\u001b[32m\"datasources\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"datasourceUrl\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"errorFormat\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"adapter\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"log\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"transactionOptions\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"omit\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"__internal\"\u001b[39m]\u001b[33m,\u001b[39miu\u001b[33m=\u001b[39m[\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"colorless\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"minimal\"\u001b[39m]\u001b[33m,\u001b[39mou\u001b[33m=\u001b[39m[\u001b[32m\"info\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"warn\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"error\"\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mDf\u001b[39m\u001b[33m=\u001b[39m{datasources\u001b[33m:\u001b[39m(e\u001b[33m,\u001b[39m{datasourceNames\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m e\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for \"datasources\" provided to PrismaClient constructor`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[t\u001b[33m,\u001b[39mn]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(e)){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m.\u001b[39mincludes(t)){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mWr\u001b[39m(t\u001b[33m,\u001b[39mr)\u001b[33m||\u001b[39m\u001b[32m` Available datasources: ${r.join(\", \")}`\u001b[39m\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Unknown datasource ${t} provided to PrismaClient constructor.${i}`\u001b[39m)}\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m n\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(n))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 126 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m\u001b[36mtypeof\u001b[39m n\u001b[33m==\u001b[39m\u001b[32m\"object\"\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[i\u001b[33m,\u001b[39mo]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(n)){\u001b[36mif\u001b[39m(i\u001b[33m!==\u001b[39m\u001b[32m\"url\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 127 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m o\u001b[33m!=\u001b[39m\u001b[32m\"string\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(o)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:7649)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError [as handleAndLogRequestError] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6784)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleAndLogRequestError [as request] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6491)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat l (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:133:9778)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/oauth2.test.ts\u001b[39m\u001b[0m\u001b[2m:40:5)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mOAuth2 Flow Integration Tests › GET /api/oauth/callback › should validate required parameters\u001b[39m\u001b[22m\n\n    PrismaClientUnknownRequestError: \n    Invalid `prisma.apiConnection.deleteMany()` invocation in\n    /Users/connorbowen/apiq-mvp/tests/integration/api/oauth2.test.ts:40:32\n\n      37     }\n      38   }\n      39 });\n    → 40 await prisma.apiConnection.deleteMany(\n    Error occurred during query execution:\n    ConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28326 waits for ShareLock on transaction 54219; blocked by process 28323.\\nProcess 28323 waits for ShareLock on transaction 54221; blocked by process 28326.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 122 |\u001b[39m \u001b[32m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 123 |\u001b[39m \u001b[32mMore Information: https://pris.ly/d/execute-raw\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 124 |\u001b[39m \u001b[32m`\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mCo\u001b[39m\u001b[33m=\u001b[39m({clientMethod\u001b[33m:\u001b[39me\u001b[33m,\u001b[39mactiveProvider\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39mt\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[32m\"\"\u001b[39m\u001b[33m,\u001b[39mi\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mFn\u001b[39m(t))n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(t)){\u001b[36mlet\u001b[39m[o\u001b[33m,\u001b[39m\u001b[33m...\u001b[39ms]\u001b[33m=\u001b[39mt\u001b[33m;\u001b[39mn\u001b[33m=\u001b[39mo\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(s\u001b[33m||\u001b[39m[])\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}}\u001b[36melse\u001b[39m \u001b[36mswitch\u001b[39m(r){\u001b[36mcase\u001b[39m\u001b[32m\"sqlite\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"mysql\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"cockroachdb\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgresql\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgres\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mtext\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"sqlserver\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mjl(t)\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`The ${r} provider does not support ${e}`\u001b[39m)}\u001b[36mreturn\u001b[39m i\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mvalues\u001b[33m?\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n}, ${i.values})`\u001b[39m)\u001b[33m:\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n})`\u001b[39m)\u001b[33m,\u001b[39m{query\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mparameters\u001b[33m:\u001b[39mi}}\u001b[33m,\u001b[39m\u001b[33mWl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e\u001b[33m.\u001b[39mstrings\u001b[33m,\u001b[39m\u001b[33m...\u001b[39me\u001b[33m.\u001b[39mvalues]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mlet\u001b[39m[r\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mt]\u001b[33m=\u001b[39me\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m oe(r\u001b[33m,\u001b[39mt)}}\u001b[33m,\u001b[39m\u001b[33mJl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mreturn\u001b[39m e[\u001b[35m0\u001b[39m]}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mAo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mfunction\u001b[39m(t\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m(s\u001b[33m=\u001b[39me)\u001b[33m=>\u001b[39m{\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m s\u001b[33m===\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m||\u001b[39ms\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33m=\u001b[39m\u001b[33mHl\u001b[39m(t(s))\u001b[33m:\u001b[39m\u001b[33mHl\u001b[39m(t(s))}\u001b[36mcatch\u001b[39m(a){\u001b[36mreturn\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mreject(a)}}\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[36mget\u001b[39m spec(){\u001b[36mreturn\u001b[39m n}\u001b[33m,\u001b[39mthen(s\u001b[33m,\u001b[39ma){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39mthen(s\u001b[33m,\u001b[39ma)}\u001b[33m,\u001b[39m\u001b[36mcatch\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(s)}\u001b[33m,\u001b[39m\u001b[36mfinally\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mfinally\u001b[39m(s)}\u001b[33m,\u001b[39mrequestTransaction(s){\u001b[36mlet\u001b[39m a\u001b[33m=\u001b[39mo(s)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m a\u001b[33m.\u001b[39mrequestTransaction\u001b[33m?\u001b[39ma\u001b[33m.\u001b[39mrequestTransaction(s)\u001b[33m:\u001b[39ma}\u001b[33m,\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag]\u001b[33m:\u001b[39m\u001b[32m\"PrismaPromise\"\u001b[39m}}}\u001b[36mfunction\u001b[39m \u001b[33mHl\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mthen\u001b[33m==\u001b[39m\u001b[32m\"function\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39m\u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mresolve(e)}\u001b[36mvar\u001b[39m \u001b[33mTf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mEi\u001b[39m\u001b[33m.\u001b[39msplit(\u001b[32m\".\"\u001b[39m)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mSf\u001b[39m\u001b[33m=\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m}\u001b[33m,\u001b[39mgetTraceParent(){\u001b[36mreturn\u001b[39m\u001b[32m\"00-10-10-00\"\u001b[39m}\u001b[33m,\u001b[39mdispatchEngineSpans(){}\u001b[33m,\u001b[39mgetActiveContext(){}\u001b[33m,\u001b[39mrunInChildSpan(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m r()}}\u001b[33m,\u001b[39m\u001b[33mIo\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39misEnabled()}getTraceParent(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetTraceParent(r)}dispatchEngineSpans(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mdispatchEngineSpans(r)}getActiveContext(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetActiveContext()}runInChildSpan(r\u001b[33m,\u001b[39mt){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mrunInChildSpan(r\u001b[33m,\u001b[39mt)}getGlobalTracingHelper(){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39mglobalThis[\u001b[32m`V${Tf}_PRISMA_INSTRUMENTATION`\u001b[39m]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39mglobalThis\u001b[33m.\u001b[39m\u001b[33mPRISMA_INSTRUMENTATION\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33mSf\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKl\u001b[39m(){\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mIo\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mYl\u001b[39m(e\u001b[33m,\u001b[39mr\u001b[33m=\u001b[39m()\u001b[33m=>\u001b[39m{}){\u001b[36mlet\u001b[39m t\u001b[33m,\u001b[39mn\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m(i\u001b[33m=>\u001b[39mt\u001b[33m=\u001b[39mi)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{then(i){\u001b[36mreturn\u001b[39m\u001b[33m--\u001b[39me\u001b[33m===\u001b[39m\u001b[35m0\u001b[39m\u001b[33m&&\u001b[39mt(r())\u001b[33m,\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m.\u001b[39m(n)}}}\u001b[36mfunction\u001b[39m zl(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mreduce((r\u001b[33m,\u001b[39mt)\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[36mtypeof\u001b[39m t\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mlevel\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m===\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m?\u001b[39mr\u001b[33m:\u001b[39mr\u001b[33m&&\u001b[39m(t\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m||\u001b[39mr\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m)\u001b[33m?\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m:\u001b[39mn}\u001b[33m,\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mHn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{_middlewares\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39muse(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mpush(r)}\u001b[36mget\u001b[39m(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}has(r){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[33m!\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}length(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mlength}}\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mXl\u001b[39m\u001b[33m=\u001b[39mk(\u001b[33mOi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKn\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m==\u001b[39m\u001b[32m\"number\"\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mZl\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUnique\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUniqueOrThrow\"\u001b[39m)\u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mmodelName\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(e\u001b[33m.\u001b[39mmodelName)\u001b[33m,\u001b[39me\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39mselection))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mjoin(\u001b[32m\"\"\u001b[39m)}\u001b[36mfunction\u001b[39m ko(e){\u001b[36mreturn\u001b[39m\u001b[32m`(${Object.keys(e).sort().map(t=>{let n=e[t];return typeof n==\"object\"&&n!==null?`(${t} ${ko(n)})`:t}).join(\" \")})`\u001b[39m}\u001b[36mvar\u001b[39m \u001b[33mRf\u001b[39m\u001b[33m=\u001b[39m{aggregate\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39maggregateRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mcreateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mexecuteRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mfindFirst\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindFirstOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUnique\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUniqueOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mgroupBy\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mqueryRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mrunCommandRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupsertOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mOo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[33mRf\u001b[39m[e]}\u001b[36mvar\u001b[39m \u001b[33mYn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{constructor(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches\u001b[33m=\u001b[39m{}}batches\u001b[33m;\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m;\u001b[39mrequest(r){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchBy(r)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m t\u001b[33m?\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mprocess\u001b[33m.\u001b[39mnextTick(()\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdispatchBatches()\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m})))\u001b[33m,\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m.\u001b[39mpush({request\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mresolve\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mreject\u001b[33m:\u001b[39mi})}))\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(r)}dispatchBatches(){\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m r \u001b[36min\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m;\u001b[39m\u001b[36mdelete\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m,\u001b[39mt\u001b[33m.\u001b[39mlength\u001b[33m===\u001b[39m\u001b[35m1\u001b[39m\u001b[33m?\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mrequest)\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)\u001b[33m:\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mresolve(n)})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)})\u001b[33m:\u001b[39m(t\u001b[33m.\u001b[39msort((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchOrder(n\u001b[33m.\u001b[39mrequest\u001b[33m,\u001b[39mi\u001b[33m.\u001b[39mrequest))\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchLoader(t\u001b[33m.\u001b[39mmap(n\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mrequest))\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m o\u001b[33m=\u001b[39mn[i]\u001b[33m;\u001b[39mo \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[i]\u001b[33m.\u001b[39mreject(o)\u001b[33m:\u001b[39mt[i]\u001b[33m.\u001b[39mresolve(o)}})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)}))}}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"DataLoader\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m mr(e\u001b[33m,\u001b[39mr){\u001b[36mif\u001b[39m(r\u001b[33m===\u001b[39m\u001b[36mnull\u001b[39m)\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mswitch\u001b[39m(e){\u001b[36mcase\u001b[39m\u001b[32m\"bigint\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[33mBigInt\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes\"\u001b[39m\u001b[33m:\u001b[39m{\u001b[36mlet\u001b[39m{buffer\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mbyteOffset\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mbyteLength\u001b[33m:\u001b[39mi}\u001b[33m=\u001b[39m\u001b[33mBuffer\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m(r\u001b[33m,\u001b[39m\u001b[32m\"base64\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mUint8Array\u001b[39m(t\u001b[33m,\u001b[39mn\u001b[33m,\u001b[39mi)}\u001b[36mcase\u001b[39m\u001b[32m\"decimal\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mPe\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(\u001b[32m`1970-01-01T${r}Z`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bigint-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bigint\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bytes\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"decimal-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"decimal\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"datetime\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"date\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"time\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r}}\u001b[36mfunction\u001b[39m zn(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39m\u001b[33mCf\u001b[39m(e)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mn\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mrows\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mn\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mrows[n]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m{\u001b[33m...\u001b[39mt}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m s\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39ms\u001b[33m<\u001b[39m\u001b[33mi\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39ms\u001b[33m++\u001b[39m)o[e\u001b[33m.\u001b[39mcolumns[s]]\u001b[33m=\u001b[39mmr(e\u001b[33m.\u001b[39mtypes[s]\u001b[33m,\u001b[39mi[s])\u001b[33m;\u001b[39mr\u001b[33m.\u001b[39mpush(o)}\u001b[36mreturn\u001b[39m r}\u001b[36mfunction\u001b[39m \u001b[33mCf\u001b[39m(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m{}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mt\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mcolumns\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mt\u001b[33m++\u001b[39m)r[e\u001b[33m.\u001b[39mcolumns[t]]\u001b[33m=\u001b[39m\u001b[36mnull\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r}\u001b[36mvar\u001b[39m \u001b[33mAf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mN\u001b[39m(\u001b[32m\"prisma:client:request_handler\"\u001b[39m)\u001b[33m,\u001b[39m\u001b[33mZn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{client\u001b[33m;\u001b[39mdataloader\u001b[33m;\u001b[39mlogEmitter\u001b[33m;\u001b[39mconstructor(r\u001b[33m,\u001b[39mt){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m=\u001b[39mt\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m=\u001b[39mr\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mYn\u001b[39m({batchLoader\u001b[33m:\u001b[39mol(\u001b[36masync\u001b[39m({requests\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi})\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m{transaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39motelParentCtx\u001b[33m:\u001b[39ms}\u001b[33m=\u001b[39mn[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mmap(p\u001b[33m=>\u001b[39mp\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent(s)\u001b[33m,\u001b[39mu\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39msome(p\u001b[33m=>\u001b[39m\u001b[33mOo\u001b[39m(p\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction))\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m(\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequestBatch(a\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39ml\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39m\u001b[33mIf\u001b[39m(o)\u001b[33m,\u001b[39mcontainsWrite\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi}))\u001b[33m.\u001b[39mmap((p\u001b[33m,\u001b[39md)\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(p \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mreturn\u001b[39m p\u001b[33m;\u001b[39m\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n[d]\u001b[33m,\u001b[39mp)}\u001b[36mcatch\u001b[39m(f){\u001b[36mreturn\u001b[39m f}})})\u001b[33m,\u001b[39msingleLoader\u001b[33m:\u001b[39m\u001b[36masync\u001b[39m n\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39meu(n\u001b[33m.\u001b[39mtransaction)\u001b[33m:\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequest(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent()\u001b[33m,\u001b[39minteractiveTransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39misWrite\u001b[33m:\u001b[39m\u001b[33mOo\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction)\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mn\u001b[33m.\u001b[39mcustomDataProxyFetch})\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n\u001b[33m,\u001b[39mo)}\u001b[33m,\u001b[39mbatchBy\u001b[33m:\u001b[39mn\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mid\u001b[33m?\u001b[39m\u001b[32m`transaction-${n.transaction.id}`\u001b[39m\u001b[33m:\u001b[39m\u001b[33mZl\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39mbatchOrder(n\u001b[33m,\u001b[39mi){\u001b[36mreturn\u001b[39m n\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m?\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m-\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m:\u001b[39m\u001b[35m0\u001b[39m}})}\u001b[36masync\u001b[39m request(r){\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m.\u001b[39mrequest(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mlet\u001b[39m{clientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma}\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleAndLogRequestError({error\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mglobalOmit})}}mapQueryEngineResult({dataPath\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39munpacker\u001b[33m:\u001b[39mt}\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mdata\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39munpack(i\u001b[33m,\u001b[39mr\u001b[33m,\u001b[39mt)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mPRISMA_CLIENT_GET_TIME\u001b[39m\u001b[33m?\u001b[39m{data\u001b[33m:\u001b[39mo}\u001b[33m:\u001b[39mo}handleAndLogRequestError(r){\u001b[36mtry\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleRequestError(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mthrow\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m.\u001b[39memit(\u001b[32m\"error\"\u001b[39m\u001b[33m,\u001b[39m{message\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mmessage\u001b[33m,\u001b[39mtarget\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mclientMethod\u001b[33m,\u001b[39mtimestamp\u001b[33m:\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m})\u001b[33m,\u001b[39mt}}handleRequestError({error\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma}){\u001b[36mif\u001b[39m(\u001b[33mAf\u001b[39m(r)\u001b[33m,\u001b[39mkf(r\u001b[33m,\u001b[39mi))\u001b[36mthrow\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m z\u001b[33m&&\u001b[39m\u001b[33mOf\u001b[39m(r)){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39mru(r\u001b[33m.\u001b[39mmeta)\u001b[33m;\u001b[39mkn({args\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39m[u]\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39merrorFormat\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma})}\u001b[36mlet\u001b[39m l\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mmessage\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m(l\u001b[33m=\u001b[39mwn({callsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39misPanic\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39misPanic\u001b[33m,\u001b[39mshowColors\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m===\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39mmessage\u001b[33m:\u001b[39ml}))\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39msanitizeMessage(l)\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mcode){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39ms\u001b[33m?\u001b[39m{modelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr\u001b[33m.\u001b[39mmeta}\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mmeta\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m z(l\u001b[33m,\u001b[39m{code\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mcode\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mmeta\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})}\u001b[36melse\u001b[39m{\u001b[36mif\u001b[39m(r\u001b[33m.\u001b[39misPanic)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m j)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m j(l\u001b[33m,\u001b[39m{clientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m \u001b[33mT\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mT\u001b[39m(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m le)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)}\u001b[36mthrow\u001b[39m r\u001b[33m.\u001b[39mclientVersion\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mr}sanitizeMessage(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m!==\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m?\u001b[39m(\u001b[35m0\u001b[39m\u001b[33m,\u001b[39m\u001b[33mXl\u001b[39m\u001b[33m.\u001b[39m\u001b[36mdefault\u001b[39m)(r)\u001b[33m:\u001b[39mr}unpack(r\u001b[33m,\u001b[39mt\u001b[33m,\u001b[39mn){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m||\u001b[39m(r\u001b[33m.\u001b[39mdata\u001b[33m&&\u001b[39m(r\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mdata)\u001b[33m,\u001b[39m\u001b[33m!\u001b[39mr))\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mvalues(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ms\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mfilter(u\u001b[33m=>\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"select\"\u001b[39m\u001b[33m&&\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"include\"\u001b[39m)\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mio(o\u001b[33m,\u001b[39ms)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39mi\u001b[33m===\u001b[39m\u001b[32m\"queryRaw\"\u001b[39m\u001b[33m?\u001b[39mzn(a)\u001b[33m:\u001b[39m\u001b[33mTr\u001b[39m(a)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m?\u001b[39mn(l)\u001b[33m:\u001b[39ml}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"RequestHandler\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mIf\u001b[39m(e){\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39m{isolationLevel\u001b[33m:\u001b[39me\u001b[33m.\u001b[39misolationLevel}}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39meu(e)}\u001b[33m;\u001b[39m_e(e\u001b[33m,\u001b[39m\u001b[32m\"Unknown transaction kind\"\u001b[39m)}}\u001b[36mfunction\u001b[39m eu(e){\u001b[36mreturn\u001b[39m{id\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39mpayload\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mpayload}}\u001b[36mfunction\u001b[39m kf(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m \u001b[33mKn\u001b[39m(e)\u001b[33m&&\u001b[39mr\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m!==\u001b[39mr\u001b[33m.\u001b[39mindex}\u001b[36mfunction\u001b[39m \u001b[33mOf\u001b[39m(e){\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2009\"\u001b[39m\u001b[33m||\u001b[39me\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2012\"\u001b[39m}\u001b[36mfunction\u001b[39m ru(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"Union\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"Union\"\u001b[39m\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39me\u001b[33m.\u001b[39merrors\u001b[33m.\u001b[39mmap(ru)}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e\u001b[33m.\u001b[39mselectionPath)){\u001b[36mlet\u001b[39m[\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr]\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mselectionPath\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[33m...\u001b[39me\u001b[33m,\u001b[39mselectionPath\u001b[33m:\u001b[39mr}}\u001b[36mreturn\u001b[39m e}\u001b[36mvar\u001b[39m tu\u001b[33m=\u001b[39m\u001b[33mSl\u001b[39m\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m au\u001b[33m=\u001b[39mk(\u001b[33mQi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mD\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mError\u001b[39m{constructor(r){\u001b[36msuper\u001b[39m(r\u001b[33m+\u001b[39m\u001b[32m`\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 125 |\u001b[39m \u001b[32mRead more at https://pris.ly/d/client-constructor`\u001b[39m)\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mname\u001b[33m=\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}}\u001b[33m;\u001b[39mx(\u001b[33mD\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m nu\u001b[33m=\u001b[39m[\u001b[32m\"datasources\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"datasourceUrl\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"errorFormat\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"adapter\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"log\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"transactionOptions\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"omit\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"__internal\"\u001b[39m]\u001b[33m,\u001b[39miu\u001b[33m=\u001b[39m[\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"colorless\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"minimal\"\u001b[39m]\u001b[33m,\u001b[39mou\u001b[33m=\u001b[39m[\u001b[32m\"info\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"warn\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"error\"\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mDf\u001b[39m\u001b[33m=\u001b[39m{datasources\u001b[33m:\u001b[39m(e\u001b[33m,\u001b[39m{datasourceNames\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m e\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for \"datasources\" provided to PrismaClient constructor`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[t\u001b[33m,\u001b[39mn]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(e)){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m.\u001b[39mincludes(t)){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mWr\u001b[39m(t\u001b[33m,\u001b[39mr)\u001b[33m||\u001b[39m\u001b[32m` Available datasources: ${r.join(\", \")}`\u001b[39m\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Unknown datasource ${t} provided to PrismaClient constructor.${i}`\u001b[39m)}\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m n\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(n))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 126 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m\u001b[36mtypeof\u001b[39m n\u001b[33m==\u001b[39m\u001b[32m\"object\"\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[i\u001b[33m,\u001b[39mo]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(n)){\u001b[36mif\u001b[39m(i\u001b[33m!==\u001b[39m\u001b[32m\"url\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 127 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m o\u001b[33m!=\u001b[39m\u001b[32m\"string\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(o)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:7649)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError [as handleAndLogRequestError] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6784)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleAndLogRequestError [as request] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6491)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat l (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:133:9778)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/oauth2.test.ts\u001b[39m\u001b[0m\u001b[2m:40:5)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mOAuth2 Flow Integration Tests › POST /api/oauth/refresh › should refresh OAuth2 token successfully\u001b[39m\u001b[22m\n\n    PrismaClientUnknownRequestError: \n    Invalid `prisma.apiConnection.deleteMany()` invocation in\n    /Users/connorbowen/apiq-mvp/tests/integration/api/oauth2.test.ts:40:32\n\n      37     }\n      38   }\n      39 });\n    → 40 await prisma.apiConnection.deleteMany(\n    Error occurred during query execution:\n    ConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28469 waits for AccessExclusiveLock on tuple (0,19) of relation 33235 of database 21992; blocked by process 28465.\\nProcess 28465 waits for ShareLock on transaction 54222; blocked by process 28463.\\nProcess 28463 waits for ShareLock on transaction 54224; blocked by process 28469.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 122 |\u001b[39m \u001b[32m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 123 |\u001b[39m \u001b[32mMore Information: https://pris.ly/d/execute-raw\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 124 |\u001b[39m \u001b[32m`\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mCo\u001b[39m\u001b[33m=\u001b[39m({clientMethod\u001b[33m:\u001b[39me\u001b[33m,\u001b[39mactiveProvider\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39mt\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[32m\"\"\u001b[39m\u001b[33m,\u001b[39mi\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mFn\u001b[39m(t))n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(t)){\u001b[36mlet\u001b[39m[o\u001b[33m,\u001b[39m\u001b[33m...\u001b[39ms]\u001b[33m=\u001b[39mt\u001b[33m;\u001b[39mn\u001b[33m=\u001b[39mo\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(s\u001b[33m||\u001b[39m[])\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}}\u001b[36melse\u001b[39m \u001b[36mswitch\u001b[39m(r){\u001b[36mcase\u001b[39m\u001b[32m\"sqlite\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"mysql\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"cockroachdb\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgresql\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgres\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mtext\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"sqlserver\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mjl(t)\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`The ${r} provider does not support ${e}`\u001b[39m)}\u001b[36mreturn\u001b[39m i\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mvalues\u001b[33m?\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n}, ${i.values})`\u001b[39m)\u001b[33m:\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n})`\u001b[39m)\u001b[33m,\u001b[39m{query\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mparameters\u001b[33m:\u001b[39mi}}\u001b[33m,\u001b[39m\u001b[33mWl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e\u001b[33m.\u001b[39mstrings\u001b[33m,\u001b[39m\u001b[33m...\u001b[39me\u001b[33m.\u001b[39mvalues]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mlet\u001b[39m[r\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mt]\u001b[33m=\u001b[39me\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m oe(r\u001b[33m,\u001b[39mt)}}\u001b[33m,\u001b[39m\u001b[33mJl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mreturn\u001b[39m e[\u001b[35m0\u001b[39m]}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mAo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mfunction\u001b[39m(t\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m(s\u001b[33m=\u001b[39me)\u001b[33m=>\u001b[39m{\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m s\u001b[33m===\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m||\u001b[39ms\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33m=\u001b[39m\u001b[33mHl\u001b[39m(t(s))\u001b[33m:\u001b[39m\u001b[33mHl\u001b[39m(t(s))}\u001b[36mcatch\u001b[39m(a){\u001b[36mreturn\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mreject(a)}}\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[36mget\u001b[39m spec(){\u001b[36mreturn\u001b[39m n}\u001b[33m,\u001b[39mthen(s\u001b[33m,\u001b[39ma){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39mthen(s\u001b[33m,\u001b[39ma)}\u001b[33m,\u001b[39m\u001b[36mcatch\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(s)}\u001b[33m,\u001b[39m\u001b[36mfinally\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mfinally\u001b[39m(s)}\u001b[33m,\u001b[39mrequestTransaction(s){\u001b[36mlet\u001b[39m a\u001b[33m=\u001b[39mo(s)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m a\u001b[33m.\u001b[39mrequestTransaction\u001b[33m?\u001b[39ma\u001b[33m.\u001b[39mrequestTransaction(s)\u001b[33m:\u001b[39ma}\u001b[33m,\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag]\u001b[33m:\u001b[39m\u001b[32m\"PrismaPromise\"\u001b[39m}}}\u001b[36mfunction\u001b[39m \u001b[33mHl\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mthen\u001b[33m==\u001b[39m\u001b[32m\"function\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39m\u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mresolve(e)}\u001b[36mvar\u001b[39m \u001b[33mTf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mEi\u001b[39m\u001b[33m.\u001b[39msplit(\u001b[32m\".\"\u001b[39m)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mSf\u001b[39m\u001b[33m=\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m}\u001b[33m,\u001b[39mgetTraceParent(){\u001b[36mreturn\u001b[39m\u001b[32m\"00-10-10-00\"\u001b[39m}\u001b[33m,\u001b[39mdispatchEngineSpans(){}\u001b[33m,\u001b[39mgetActiveContext(){}\u001b[33m,\u001b[39mrunInChildSpan(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m r()}}\u001b[33m,\u001b[39m\u001b[33mIo\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39misEnabled()}getTraceParent(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetTraceParent(r)}dispatchEngineSpans(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mdispatchEngineSpans(r)}getActiveContext(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetActiveContext()}runInChildSpan(r\u001b[33m,\u001b[39mt){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mrunInChildSpan(r\u001b[33m,\u001b[39mt)}getGlobalTracingHelper(){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39mglobalThis[\u001b[32m`V${Tf}_PRISMA_INSTRUMENTATION`\u001b[39m]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39mglobalThis\u001b[33m.\u001b[39m\u001b[33mPRISMA_INSTRUMENTATION\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33mSf\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKl\u001b[39m(){\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mIo\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mYl\u001b[39m(e\u001b[33m,\u001b[39mr\u001b[33m=\u001b[39m()\u001b[33m=>\u001b[39m{}){\u001b[36mlet\u001b[39m t\u001b[33m,\u001b[39mn\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m(i\u001b[33m=>\u001b[39mt\u001b[33m=\u001b[39mi)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{then(i){\u001b[36mreturn\u001b[39m\u001b[33m--\u001b[39me\u001b[33m===\u001b[39m\u001b[35m0\u001b[39m\u001b[33m&&\u001b[39mt(r())\u001b[33m,\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m.\u001b[39m(n)}}}\u001b[36mfunction\u001b[39m zl(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mreduce((r\u001b[33m,\u001b[39mt)\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[36mtypeof\u001b[39m t\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mlevel\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m===\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m?\u001b[39mr\u001b[33m:\u001b[39mr\u001b[33m&&\u001b[39m(t\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m||\u001b[39mr\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m)\u001b[33m?\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m:\u001b[39mn}\u001b[33m,\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mHn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{_middlewares\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39muse(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mpush(r)}\u001b[36mget\u001b[39m(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}has(r){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[33m!\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}length(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mlength}}\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mXl\u001b[39m\u001b[33m=\u001b[39mk(\u001b[33mOi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKn\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m==\u001b[39m\u001b[32m\"number\"\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mZl\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUnique\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUniqueOrThrow\"\u001b[39m)\u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mmodelName\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(e\u001b[33m.\u001b[39mmodelName)\u001b[33m,\u001b[39me\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39mselection))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mjoin(\u001b[32m\"\"\u001b[39m)}\u001b[36mfunction\u001b[39m ko(e){\u001b[36mreturn\u001b[39m\u001b[32m`(${Object.keys(e).sort().map(t=>{let n=e[t];return typeof n==\"object\"&&n!==null?`(${t} ${ko(n)})`:t}).join(\" \")})`\u001b[39m}\u001b[36mvar\u001b[39m \u001b[33mRf\u001b[39m\u001b[33m=\u001b[39m{aggregate\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39maggregateRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mcreateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mexecuteRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mfindFirst\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindFirstOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUnique\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUniqueOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mgroupBy\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mqueryRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mrunCommandRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupsertOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mOo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[33mRf\u001b[39m[e]}\u001b[36mvar\u001b[39m \u001b[33mYn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{constructor(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches\u001b[33m=\u001b[39m{}}batches\u001b[33m;\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m;\u001b[39mrequest(r){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchBy(r)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m t\u001b[33m?\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mprocess\u001b[33m.\u001b[39mnextTick(()\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdispatchBatches()\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m})))\u001b[33m,\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m.\u001b[39mpush({request\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mresolve\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mreject\u001b[33m:\u001b[39mi})}))\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(r)}dispatchBatches(){\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m r \u001b[36min\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m;\u001b[39m\u001b[36mdelete\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m,\u001b[39mt\u001b[33m.\u001b[39mlength\u001b[33m===\u001b[39m\u001b[35m1\u001b[39m\u001b[33m?\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mrequest)\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)\u001b[33m:\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mresolve(n)})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)})\u001b[33m:\u001b[39m(t\u001b[33m.\u001b[39msort((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchOrder(n\u001b[33m.\u001b[39mrequest\u001b[33m,\u001b[39mi\u001b[33m.\u001b[39mrequest))\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchLoader(t\u001b[33m.\u001b[39mmap(n\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mrequest))\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m o\u001b[33m=\u001b[39mn[i]\u001b[33m;\u001b[39mo \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[i]\u001b[33m.\u001b[39mreject(o)\u001b[33m:\u001b[39mt[i]\u001b[33m.\u001b[39mresolve(o)}})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)}))}}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"DataLoader\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m mr(e\u001b[33m,\u001b[39mr){\u001b[36mif\u001b[39m(r\u001b[33m===\u001b[39m\u001b[36mnull\u001b[39m)\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mswitch\u001b[39m(e){\u001b[36mcase\u001b[39m\u001b[32m\"bigint\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[33mBigInt\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes\"\u001b[39m\u001b[33m:\u001b[39m{\u001b[36mlet\u001b[39m{buffer\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mbyteOffset\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mbyteLength\u001b[33m:\u001b[39mi}\u001b[33m=\u001b[39m\u001b[33mBuffer\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m(r\u001b[33m,\u001b[39m\u001b[32m\"base64\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mUint8Array\u001b[39m(t\u001b[33m,\u001b[39mn\u001b[33m,\u001b[39mi)}\u001b[36mcase\u001b[39m\u001b[32m\"decimal\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mPe\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(\u001b[32m`1970-01-01T${r}Z`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bigint-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bigint\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bytes\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"decimal-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"decimal\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"datetime\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"date\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"time\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r}}\u001b[36mfunction\u001b[39m zn(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39m\u001b[33mCf\u001b[39m(e)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mn\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mrows\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mn\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mrows[n]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m{\u001b[33m...\u001b[39mt}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m s\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39ms\u001b[33m<\u001b[39m\u001b[33mi\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39ms\u001b[33m++\u001b[39m)o[e\u001b[33m.\u001b[39mcolumns[s]]\u001b[33m=\u001b[39mmr(e\u001b[33m.\u001b[39mtypes[s]\u001b[33m,\u001b[39mi[s])\u001b[33m;\u001b[39mr\u001b[33m.\u001b[39mpush(o)}\u001b[36mreturn\u001b[39m r}\u001b[36mfunction\u001b[39m \u001b[33mCf\u001b[39m(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m{}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mt\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mcolumns\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mt\u001b[33m++\u001b[39m)r[e\u001b[33m.\u001b[39mcolumns[t]]\u001b[33m=\u001b[39m\u001b[36mnull\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r}\u001b[36mvar\u001b[39m \u001b[33mAf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mN\u001b[39m(\u001b[32m\"prisma:client:request_handler\"\u001b[39m)\u001b[33m,\u001b[39m\u001b[33mZn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{client\u001b[33m;\u001b[39mdataloader\u001b[33m;\u001b[39mlogEmitter\u001b[33m;\u001b[39mconstructor(r\u001b[33m,\u001b[39mt){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m=\u001b[39mt\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m=\u001b[39mr\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mYn\u001b[39m({batchLoader\u001b[33m:\u001b[39mol(\u001b[36masync\u001b[39m({requests\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi})\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m{transaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39motelParentCtx\u001b[33m:\u001b[39ms}\u001b[33m=\u001b[39mn[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mmap(p\u001b[33m=>\u001b[39mp\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent(s)\u001b[33m,\u001b[39mu\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39msome(p\u001b[33m=>\u001b[39m\u001b[33mOo\u001b[39m(p\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction))\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m(\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequestBatch(a\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39ml\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39m\u001b[33mIf\u001b[39m(o)\u001b[33m,\u001b[39mcontainsWrite\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi}))\u001b[33m.\u001b[39mmap((p\u001b[33m,\u001b[39md)\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(p \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mreturn\u001b[39m p\u001b[33m;\u001b[39m\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n[d]\u001b[33m,\u001b[39mp)}\u001b[36mcatch\u001b[39m(f){\u001b[36mreturn\u001b[39m f}})})\u001b[33m,\u001b[39msingleLoader\u001b[33m:\u001b[39m\u001b[36masync\u001b[39m n\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39meu(n\u001b[33m.\u001b[39mtransaction)\u001b[33m:\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequest(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent()\u001b[33m,\u001b[39minteractiveTransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39misWrite\u001b[33m:\u001b[39m\u001b[33mOo\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction)\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mn\u001b[33m.\u001b[39mcustomDataProxyFetch})\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n\u001b[33m,\u001b[39mo)}\u001b[33m,\u001b[39mbatchBy\u001b[33m:\u001b[39mn\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mid\u001b[33m?\u001b[39m\u001b[32m`transaction-${n.transaction.id}`\u001b[39m\u001b[33m:\u001b[39m\u001b[33mZl\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39mbatchOrder(n\u001b[33m,\u001b[39mi){\u001b[36mreturn\u001b[39m n\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m?\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m-\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m:\u001b[39m\u001b[35m0\u001b[39m}})}\u001b[36masync\u001b[39m request(r){\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m.\u001b[39mrequest(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mlet\u001b[39m{clientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma}\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleAndLogRequestError({error\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mglobalOmit})}}mapQueryEngineResult({dataPath\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39munpacker\u001b[33m:\u001b[39mt}\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mdata\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39munpack(i\u001b[33m,\u001b[39mr\u001b[33m,\u001b[39mt)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mPRISMA_CLIENT_GET_TIME\u001b[39m\u001b[33m?\u001b[39m{data\u001b[33m:\u001b[39mo}\u001b[33m:\u001b[39mo}handleAndLogRequestError(r){\u001b[36mtry\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleRequestError(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mthrow\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m.\u001b[39memit(\u001b[32m\"error\"\u001b[39m\u001b[33m,\u001b[39m{message\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mmessage\u001b[33m,\u001b[39mtarget\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mclientMethod\u001b[33m,\u001b[39mtimestamp\u001b[33m:\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m})\u001b[33m,\u001b[39mt}}handleRequestError({error\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma}){\u001b[36mif\u001b[39m(\u001b[33mAf\u001b[39m(r)\u001b[33m,\u001b[39mkf(r\u001b[33m,\u001b[39mi))\u001b[36mthrow\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m z\u001b[33m&&\u001b[39m\u001b[33mOf\u001b[39m(r)){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39mru(r\u001b[33m.\u001b[39mmeta)\u001b[33m;\u001b[39mkn({args\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39m[u]\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39merrorFormat\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma})}\u001b[36mlet\u001b[39m l\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mmessage\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m(l\u001b[33m=\u001b[39mwn({callsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39misPanic\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39misPanic\u001b[33m,\u001b[39mshowColors\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m===\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39mmessage\u001b[33m:\u001b[39ml}))\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39msanitizeMessage(l)\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mcode){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39ms\u001b[33m?\u001b[39m{modelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr\u001b[33m.\u001b[39mmeta}\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mmeta\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m z(l\u001b[33m,\u001b[39m{code\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mcode\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mmeta\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})}\u001b[36melse\u001b[39m{\u001b[36mif\u001b[39m(r\u001b[33m.\u001b[39misPanic)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m j)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m j(l\u001b[33m,\u001b[39m{clientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m \u001b[33mT\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mT\u001b[39m(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m le)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)}\u001b[36mthrow\u001b[39m r\u001b[33m.\u001b[39mclientVersion\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mr}sanitizeMessage(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m!==\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m?\u001b[39m(\u001b[35m0\u001b[39m\u001b[33m,\u001b[39m\u001b[33mXl\u001b[39m\u001b[33m.\u001b[39m\u001b[36mdefault\u001b[39m)(r)\u001b[33m:\u001b[39mr}unpack(r\u001b[33m,\u001b[39mt\u001b[33m,\u001b[39mn){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m||\u001b[39m(r\u001b[33m.\u001b[39mdata\u001b[33m&&\u001b[39m(r\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mdata)\u001b[33m,\u001b[39m\u001b[33m!\u001b[39mr))\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mvalues(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ms\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mfilter(u\u001b[33m=>\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"select\"\u001b[39m\u001b[33m&&\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"include\"\u001b[39m)\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mio(o\u001b[33m,\u001b[39ms)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39mi\u001b[33m===\u001b[39m\u001b[32m\"queryRaw\"\u001b[39m\u001b[33m?\u001b[39mzn(a)\u001b[33m:\u001b[39m\u001b[33mTr\u001b[39m(a)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m?\u001b[39mn(l)\u001b[33m:\u001b[39ml}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"RequestHandler\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mIf\u001b[39m(e){\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39m{isolationLevel\u001b[33m:\u001b[39me\u001b[33m.\u001b[39misolationLevel}}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39meu(e)}\u001b[33m;\u001b[39m_e(e\u001b[33m,\u001b[39m\u001b[32m\"Unknown transaction kind\"\u001b[39m)}}\u001b[36mfunction\u001b[39m eu(e){\u001b[36mreturn\u001b[39m{id\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39mpayload\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mpayload}}\u001b[36mfunction\u001b[39m kf(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m \u001b[33mKn\u001b[39m(e)\u001b[33m&&\u001b[39mr\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m!==\u001b[39mr\u001b[33m.\u001b[39mindex}\u001b[36mfunction\u001b[39m \u001b[33mOf\u001b[39m(e){\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2009\"\u001b[39m\u001b[33m||\u001b[39me\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2012\"\u001b[39m}\u001b[36mfunction\u001b[39m ru(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"Union\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"Union\"\u001b[39m\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39me\u001b[33m.\u001b[39merrors\u001b[33m.\u001b[39mmap(ru)}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e\u001b[33m.\u001b[39mselectionPath)){\u001b[36mlet\u001b[39m[\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr]\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mselectionPath\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[33m...\u001b[39me\u001b[33m,\u001b[39mselectionPath\u001b[33m:\u001b[39mr}}\u001b[36mreturn\u001b[39m e}\u001b[36mvar\u001b[39m tu\u001b[33m=\u001b[39m\u001b[33mSl\u001b[39m\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m au\u001b[33m=\u001b[39mk(\u001b[33mQi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mD\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mError\u001b[39m{constructor(r){\u001b[36msuper\u001b[39m(r\u001b[33m+\u001b[39m\u001b[32m`\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 125 |\u001b[39m \u001b[32mRead more at https://pris.ly/d/client-constructor`\u001b[39m)\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mname\u001b[33m=\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}}\u001b[33m;\u001b[39mx(\u001b[33mD\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m nu\u001b[33m=\u001b[39m[\u001b[32m\"datasources\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"datasourceUrl\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"errorFormat\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"adapter\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"log\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"transactionOptions\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"omit\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"__internal\"\u001b[39m]\u001b[33m,\u001b[39miu\u001b[33m=\u001b[39m[\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"colorless\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"minimal\"\u001b[39m]\u001b[33m,\u001b[39mou\u001b[33m=\u001b[39m[\u001b[32m\"info\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"warn\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"error\"\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mDf\u001b[39m\u001b[33m=\u001b[39m{datasources\u001b[33m:\u001b[39m(e\u001b[33m,\u001b[39m{datasourceNames\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m e\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for \"datasources\" provided to PrismaClient constructor`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[t\u001b[33m,\u001b[39mn]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(e)){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m.\u001b[39mincludes(t)){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mWr\u001b[39m(t\u001b[33m,\u001b[39mr)\u001b[33m||\u001b[39m\u001b[32m` Available datasources: ${r.join(\", \")}`\u001b[39m\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Unknown datasource ${t} provided to PrismaClient constructor.${i}`\u001b[39m)}\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m n\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(n))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 126 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m\u001b[36mtypeof\u001b[39m n\u001b[33m==\u001b[39m\u001b[32m\"object\"\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[i\u001b[33m,\u001b[39mo]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(n)){\u001b[36mif\u001b[39m(i\u001b[33m!==\u001b[39m\u001b[32m\"url\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 127 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m o\u001b[33m!=\u001b[39m\u001b[32m\"string\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(o)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:7649)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError [as handleAndLogRequestError] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6784)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleAndLogRequestError [as request] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6491)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat l (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:133:9778)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/oauth2.test.ts\u001b[39m\u001b[0m\u001b[2m:40:5)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mOAuth2 Flow Integration Tests › POST /api/oauth/refresh › should handle refresh failure\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32m400\u001b[39m\n    Received: \u001b[31m404\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 295 |\u001b[39m       \u001b[36mawait\u001b[39m refreshHandler(req \u001b[36mas\u001b[39m any\u001b[33m,\u001b[39m res \u001b[36mas\u001b[39m any)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 296 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 297 |\u001b[39m       expect(res\u001b[33m.\u001b[39m_getStatusCode())\u001b[33m.\u001b[39mtoBe(\u001b[35m400\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 298 |\u001b[39m       \u001b[36mconst\u001b[39m data \u001b[33m=\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(res\u001b[33m.\u001b[39m_getData())\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 299 |\u001b[39m       expect(data\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 300 |\u001b[39m       expect(data\u001b[33m.\u001b[39merror)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/oauth2.test.ts\u001b[39m\u001b[0m\u001b[2m:297:36)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mOAuth2 Flow Integration Tests › GET /api/oauth/token › should return OAuth2 access token\u001b[39m\u001b[22m\n\n    PrismaClientUnknownRequestError: \n    Invalid `prisma.apiConnection.deleteMany()` invocation in\n    /Users/connorbowen/apiq-mvp/tests/integration/api/oauth2.test.ts:40:32\n\n      37     }\n      38   }\n      39 });\n    → 40 await prisma.apiConnection.deleteMany(\n    Error occurred during query execution:\n    ConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28469 waits for ShareLock on transaction 54233; blocked by process 28465.\\nProcess 28465 waits for ShareLock on transaction 54234; blocked by process 28469.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 122 |\u001b[39m \u001b[32m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 123 |\u001b[39m \u001b[32mMore Information: https://pris.ly/d/execute-raw\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 124 |\u001b[39m \u001b[32m`\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mCo\u001b[39m\u001b[33m=\u001b[39m({clientMethod\u001b[33m:\u001b[39me\u001b[33m,\u001b[39mactiveProvider\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39mt\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[32m\"\"\u001b[39m\u001b[33m,\u001b[39mi\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mFn\u001b[39m(t))n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(t)){\u001b[36mlet\u001b[39m[o\u001b[33m,\u001b[39m\u001b[33m...\u001b[39ms]\u001b[33m=\u001b[39mt\u001b[33m;\u001b[39mn\u001b[33m=\u001b[39mo\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(s\u001b[33m||\u001b[39m[])\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}}\u001b[36melse\u001b[39m \u001b[36mswitch\u001b[39m(r){\u001b[36mcase\u001b[39m\u001b[32m\"sqlite\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"mysql\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"cockroachdb\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgresql\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgres\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mtext\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"sqlserver\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mjl(t)\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`The ${r} provider does not support ${e}`\u001b[39m)}\u001b[36mreturn\u001b[39m i\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mvalues\u001b[33m?\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n}, ${i.values})`\u001b[39m)\u001b[33m:\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n})`\u001b[39m)\u001b[33m,\u001b[39m{query\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mparameters\u001b[33m:\u001b[39mi}}\u001b[33m,\u001b[39m\u001b[33mWl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e\u001b[33m.\u001b[39mstrings\u001b[33m,\u001b[39m\u001b[33m...\u001b[39me\u001b[33m.\u001b[39mvalues]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mlet\u001b[39m[r\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mt]\u001b[33m=\u001b[39me\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m oe(r\u001b[33m,\u001b[39mt)}}\u001b[33m,\u001b[39m\u001b[33mJl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mreturn\u001b[39m e[\u001b[35m0\u001b[39m]}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mAo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mfunction\u001b[39m(t\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m(s\u001b[33m=\u001b[39me)\u001b[33m=>\u001b[39m{\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m s\u001b[33m===\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m||\u001b[39ms\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33m=\u001b[39m\u001b[33mHl\u001b[39m(t(s))\u001b[33m:\u001b[39m\u001b[33mHl\u001b[39m(t(s))}\u001b[36mcatch\u001b[39m(a){\u001b[36mreturn\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mreject(a)}}\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[36mget\u001b[39m spec(){\u001b[36mreturn\u001b[39m n}\u001b[33m,\u001b[39mthen(s\u001b[33m,\u001b[39ma){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39mthen(s\u001b[33m,\u001b[39ma)}\u001b[33m,\u001b[39m\u001b[36mcatch\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(s)}\u001b[33m,\u001b[39m\u001b[36mfinally\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mfinally\u001b[39m(s)}\u001b[33m,\u001b[39mrequestTransaction(s){\u001b[36mlet\u001b[39m a\u001b[33m=\u001b[39mo(s)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m a\u001b[33m.\u001b[39mrequestTransaction\u001b[33m?\u001b[39ma\u001b[33m.\u001b[39mrequestTransaction(s)\u001b[33m:\u001b[39ma}\u001b[33m,\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag]\u001b[33m:\u001b[39m\u001b[32m\"PrismaPromise\"\u001b[39m}}}\u001b[36mfunction\u001b[39m \u001b[33mHl\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mthen\u001b[33m==\u001b[39m\u001b[32m\"function\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39m\u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mresolve(e)}\u001b[36mvar\u001b[39m \u001b[33mTf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mEi\u001b[39m\u001b[33m.\u001b[39msplit(\u001b[32m\".\"\u001b[39m)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mSf\u001b[39m\u001b[33m=\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m}\u001b[33m,\u001b[39mgetTraceParent(){\u001b[36mreturn\u001b[39m\u001b[32m\"00-10-10-00\"\u001b[39m}\u001b[33m,\u001b[39mdispatchEngineSpans(){}\u001b[33m,\u001b[39mgetActiveContext(){}\u001b[33m,\u001b[39mrunInChildSpan(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m r()}}\u001b[33m,\u001b[39m\u001b[33mIo\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39misEnabled()}getTraceParent(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetTraceParent(r)}dispatchEngineSpans(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mdispatchEngineSpans(r)}getActiveContext(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetActiveContext()}runInChildSpan(r\u001b[33m,\u001b[39mt){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mrunInChildSpan(r\u001b[33m,\u001b[39mt)}getGlobalTracingHelper(){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39mglobalThis[\u001b[32m`V${Tf}_PRISMA_INSTRUMENTATION`\u001b[39m]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39mglobalThis\u001b[33m.\u001b[39m\u001b[33mPRISMA_INSTRUMENTATION\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33mSf\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKl\u001b[39m(){\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mIo\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mYl\u001b[39m(e\u001b[33m,\u001b[39mr\u001b[33m=\u001b[39m()\u001b[33m=>\u001b[39m{}){\u001b[36mlet\u001b[39m t\u001b[33m,\u001b[39mn\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m(i\u001b[33m=>\u001b[39mt\u001b[33m=\u001b[39mi)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{then(i){\u001b[36mreturn\u001b[39m\u001b[33m--\u001b[39me\u001b[33m===\u001b[39m\u001b[35m0\u001b[39m\u001b[33m&&\u001b[39mt(r())\u001b[33m,\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m.\u001b[39m(n)}}}\u001b[36mfunction\u001b[39m zl(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mreduce((r\u001b[33m,\u001b[39mt)\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[36mtypeof\u001b[39m t\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mlevel\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m===\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m?\u001b[39mr\u001b[33m:\u001b[39mr\u001b[33m&&\u001b[39m(t\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m||\u001b[39mr\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m)\u001b[33m?\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m:\u001b[39mn}\u001b[33m,\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mHn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{_middlewares\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39muse(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mpush(r)}\u001b[36mget\u001b[39m(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}has(r){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[33m!\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}length(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mlength}}\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mXl\u001b[39m\u001b[33m=\u001b[39mk(\u001b[33mOi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKn\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m==\u001b[39m\u001b[32m\"number\"\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mZl\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUnique\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUniqueOrThrow\"\u001b[39m)\u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mmodelName\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(e\u001b[33m.\u001b[39mmodelName)\u001b[33m,\u001b[39me\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39mselection))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mjoin(\u001b[32m\"\"\u001b[39m)}\u001b[36mfunction\u001b[39m ko(e){\u001b[36mreturn\u001b[39m\u001b[32m`(${Object.keys(e).sort().map(t=>{let n=e[t];return typeof n==\"object\"&&n!==null?`(${t} ${ko(n)})`:t}).join(\" \")})`\u001b[39m}\u001b[36mvar\u001b[39m \u001b[33mRf\u001b[39m\u001b[33m=\u001b[39m{aggregate\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39maggregateRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mcreateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mexecuteRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mfindFirst\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindFirstOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUnique\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUniqueOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mgroupBy\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mqueryRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mrunCommandRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupsertOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mOo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[33mRf\u001b[39m[e]}\u001b[36mvar\u001b[39m \u001b[33mYn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{constructor(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches\u001b[33m=\u001b[39m{}}batches\u001b[33m;\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m;\u001b[39mrequest(r){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchBy(r)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m t\u001b[33m?\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mprocess\u001b[33m.\u001b[39mnextTick(()\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdispatchBatches()\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m})))\u001b[33m,\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m.\u001b[39mpush({request\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mresolve\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mreject\u001b[33m:\u001b[39mi})}))\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(r)}dispatchBatches(){\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m r \u001b[36min\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m;\u001b[39m\u001b[36mdelete\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m,\u001b[39mt\u001b[33m.\u001b[39mlength\u001b[33m===\u001b[39m\u001b[35m1\u001b[39m\u001b[33m?\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mrequest)\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)\u001b[33m:\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mresolve(n)})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)})\u001b[33m:\u001b[39m(t\u001b[33m.\u001b[39msort((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchOrder(n\u001b[33m.\u001b[39mrequest\u001b[33m,\u001b[39mi\u001b[33m.\u001b[39mrequest))\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchLoader(t\u001b[33m.\u001b[39mmap(n\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mrequest))\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m o\u001b[33m=\u001b[39mn[i]\u001b[33m;\u001b[39mo \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[i]\u001b[33m.\u001b[39mreject(o)\u001b[33m:\u001b[39mt[i]\u001b[33m.\u001b[39mresolve(o)}})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)}))}}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"DataLoader\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m mr(e\u001b[33m,\u001b[39mr){\u001b[36mif\u001b[39m(r\u001b[33m===\u001b[39m\u001b[36mnull\u001b[39m)\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mswitch\u001b[39m(e){\u001b[36mcase\u001b[39m\u001b[32m\"bigint\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[33mBigInt\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes\"\u001b[39m\u001b[33m:\u001b[39m{\u001b[36mlet\u001b[39m{buffer\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mbyteOffset\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mbyteLength\u001b[33m:\u001b[39mi}\u001b[33m=\u001b[39m\u001b[33mBuffer\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m(r\u001b[33m,\u001b[39m\u001b[32m\"base64\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mUint8Array\u001b[39m(t\u001b[33m,\u001b[39mn\u001b[33m,\u001b[39mi)}\u001b[36mcase\u001b[39m\u001b[32m\"decimal\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mPe\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(\u001b[32m`1970-01-01T${r}Z`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bigint-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bigint\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bytes\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"decimal-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"decimal\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"datetime\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"date\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"time\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r}}\u001b[36mfunction\u001b[39m zn(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39m\u001b[33mCf\u001b[39m(e)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mn\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mrows\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mn\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mrows[n]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m{\u001b[33m...\u001b[39mt}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m s\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39ms\u001b[33m<\u001b[39m\u001b[33mi\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39ms\u001b[33m++\u001b[39m)o[e\u001b[33m.\u001b[39mcolumns[s]]\u001b[33m=\u001b[39mmr(e\u001b[33m.\u001b[39mtypes[s]\u001b[33m,\u001b[39mi[s])\u001b[33m;\u001b[39mr\u001b[33m.\u001b[39mpush(o)}\u001b[36mreturn\u001b[39m r}\u001b[36mfunction\u001b[39m \u001b[33mCf\u001b[39m(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m{}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mt\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mcolumns\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mt\u001b[33m++\u001b[39m)r[e\u001b[33m.\u001b[39mcolumns[t]]\u001b[33m=\u001b[39m\u001b[36mnull\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r}\u001b[36mvar\u001b[39m \u001b[33mAf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mN\u001b[39m(\u001b[32m\"prisma:client:request_handler\"\u001b[39m)\u001b[33m,\u001b[39m\u001b[33mZn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{client\u001b[33m;\u001b[39mdataloader\u001b[33m;\u001b[39mlogEmitter\u001b[33m;\u001b[39mconstructor(r\u001b[33m,\u001b[39mt){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m=\u001b[39mt\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m=\u001b[39mr\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mYn\u001b[39m({batchLoader\u001b[33m:\u001b[39mol(\u001b[36masync\u001b[39m({requests\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi})\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m{transaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39motelParentCtx\u001b[33m:\u001b[39ms}\u001b[33m=\u001b[39mn[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mmap(p\u001b[33m=>\u001b[39mp\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent(s)\u001b[33m,\u001b[39mu\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39msome(p\u001b[33m=>\u001b[39m\u001b[33mOo\u001b[39m(p\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction))\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m(\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequestBatch(a\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39ml\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39m\u001b[33mIf\u001b[39m(o)\u001b[33m,\u001b[39mcontainsWrite\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi}))\u001b[33m.\u001b[39mmap((p\u001b[33m,\u001b[39md)\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(p \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mreturn\u001b[39m p\u001b[33m;\u001b[39m\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n[d]\u001b[33m,\u001b[39mp)}\u001b[36mcatch\u001b[39m(f){\u001b[36mreturn\u001b[39m f}})})\u001b[33m,\u001b[39msingleLoader\u001b[33m:\u001b[39m\u001b[36masync\u001b[39m n\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39meu(n\u001b[33m.\u001b[39mtransaction)\u001b[33m:\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequest(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent()\u001b[33m,\u001b[39minteractiveTransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39misWrite\u001b[33m:\u001b[39m\u001b[33mOo\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction)\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mn\u001b[33m.\u001b[39mcustomDataProxyFetch})\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n\u001b[33m,\u001b[39mo)}\u001b[33m,\u001b[39mbatchBy\u001b[33m:\u001b[39mn\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mid\u001b[33m?\u001b[39m\u001b[32m`transaction-${n.transaction.id}`\u001b[39m\u001b[33m:\u001b[39m\u001b[33mZl\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39mbatchOrder(n\u001b[33m,\u001b[39mi){\u001b[36mreturn\u001b[39m n\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m?\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m-\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m:\u001b[39m\u001b[35m0\u001b[39m}})}\u001b[36masync\u001b[39m request(r){\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m.\u001b[39mrequest(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mlet\u001b[39m{clientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma}\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleAndLogRequestError({error\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mglobalOmit})}}mapQueryEngineResult({dataPath\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39munpacker\u001b[33m:\u001b[39mt}\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mdata\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39munpack(i\u001b[33m,\u001b[39mr\u001b[33m,\u001b[39mt)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mPRISMA_CLIENT_GET_TIME\u001b[39m\u001b[33m?\u001b[39m{data\u001b[33m:\u001b[39mo}\u001b[33m:\u001b[39mo}handleAndLogRequestError(r){\u001b[36mtry\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleRequestError(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mthrow\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m.\u001b[39memit(\u001b[32m\"error\"\u001b[39m\u001b[33m,\u001b[39m{message\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mmessage\u001b[33m,\u001b[39mtarget\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mclientMethod\u001b[33m,\u001b[39mtimestamp\u001b[33m:\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m})\u001b[33m,\u001b[39mt}}handleRequestError({error\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma}){\u001b[36mif\u001b[39m(\u001b[33mAf\u001b[39m(r)\u001b[33m,\u001b[39mkf(r\u001b[33m,\u001b[39mi))\u001b[36mthrow\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m z\u001b[33m&&\u001b[39m\u001b[33mOf\u001b[39m(r)){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39mru(r\u001b[33m.\u001b[39mmeta)\u001b[33m;\u001b[39mkn({args\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39m[u]\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39merrorFormat\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma})}\u001b[36mlet\u001b[39m l\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mmessage\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m(l\u001b[33m=\u001b[39mwn({callsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39misPanic\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39misPanic\u001b[33m,\u001b[39mshowColors\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m===\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39mmessage\u001b[33m:\u001b[39ml}))\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39msanitizeMessage(l)\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mcode){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39ms\u001b[33m?\u001b[39m{modelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr\u001b[33m.\u001b[39mmeta}\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mmeta\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m z(l\u001b[33m,\u001b[39m{code\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mcode\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mmeta\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})}\u001b[36melse\u001b[39m{\u001b[36mif\u001b[39m(r\u001b[33m.\u001b[39misPanic)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m j)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m j(l\u001b[33m,\u001b[39m{clientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m \u001b[33mT\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mT\u001b[39m(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m le)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)}\u001b[36mthrow\u001b[39m r\u001b[33m.\u001b[39mclientVersion\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mr}sanitizeMessage(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m!==\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m?\u001b[39m(\u001b[35m0\u001b[39m\u001b[33m,\u001b[39m\u001b[33mXl\u001b[39m\u001b[33m.\u001b[39m\u001b[36mdefault\u001b[39m)(r)\u001b[33m:\u001b[39mr}unpack(r\u001b[33m,\u001b[39mt\u001b[33m,\u001b[39mn){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m||\u001b[39m(r\u001b[33m.\u001b[39mdata\u001b[33m&&\u001b[39m(r\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mdata)\u001b[33m,\u001b[39m\u001b[33m!\u001b[39mr))\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mvalues(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ms\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mfilter(u\u001b[33m=>\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"select\"\u001b[39m\u001b[33m&&\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"include\"\u001b[39m)\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mio(o\u001b[33m,\u001b[39ms)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39mi\u001b[33m===\u001b[39m\u001b[32m\"queryRaw\"\u001b[39m\u001b[33m?\u001b[39mzn(a)\u001b[33m:\u001b[39m\u001b[33mTr\u001b[39m(a)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m?\u001b[39mn(l)\u001b[33m:\u001b[39ml}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"RequestHandler\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mIf\u001b[39m(e){\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39m{isolationLevel\u001b[33m:\u001b[39me\u001b[33m.\u001b[39misolationLevel}}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39meu(e)}\u001b[33m;\u001b[39m_e(e\u001b[33m,\u001b[39m\u001b[32m\"Unknown transaction kind\"\u001b[39m)}}\u001b[36mfunction\u001b[39m eu(e){\u001b[36mreturn\u001b[39m{id\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39mpayload\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mpayload}}\u001b[36mfunction\u001b[39m kf(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m \u001b[33mKn\u001b[39m(e)\u001b[33m&&\u001b[39mr\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m!==\u001b[39mr\u001b[33m.\u001b[39mindex}\u001b[36mfunction\u001b[39m \u001b[33mOf\u001b[39m(e){\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2009\"\u001b[39m\u001b[33m||\u001b[39me\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2012\"\u001b[39m}\u001b[36mfunction\u001b[39m ru(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"Union\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"Union\"\u001b[39m\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39me\u001b[33m.\u001b[39merrors\u001b[33m.\u001b[39mmap(ru)}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e\u001b[33m.\u001b[39mselectionPath)){\u001b[36mlet\u001b[39m[\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr]\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mselectionPath\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[33m...\u001b[39me\u001b[33m,\u001b[39mselectionPath\u001b[33m:\u001b[39mr}}\u001b[36mreturn\u001b[39m e}\u001b[36mvar\u001b[39m tu\u001b[33m=\u001b[39m\u001b[33mSl\u001b[39m\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m au\u001b[33m=\u001b[39mk(\u001b[33mQi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mD\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mError\u001b[39m{constructor(r){\u001b[36msuper\u001b[39m(r\u001b[33m+\u001b[39m\u001b[32m`\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 125 |\u001b[39m \u001b[32mRead more at https://pris.ly/d/client-constructor`\u001b[39m)\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mname\u001b[33m=\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}}\u001b[33m;\u001b[39mx(\u001b[33mD\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m nu\u001b[33m=\u001b[39m[\u001b[32m\"datasources\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"datasourceUrl\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"errorFormat\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"adapter\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"log\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"transactionOptions\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"omit\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"__internal\"\u001b[39m]\u001b[33m,\u001b[39miu\u001b[33m=\u001b[39m[\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"colorless\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"minimal\"\u001b[39m]\u001b[33m,\u001b[39mou\u001b[33m=\u001b[39m[\u001b[32m\"info\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"warn\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"error\"\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mDf\u001b[39m\u001b[33m=\u001b[39m{datasources\u001b[33m:\u001b[39m(e\u001b[33m,\u001b[39m{datasourceNames\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m e\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for \"datasources\" provided to PrismaClient constructor`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[t\u001b[33m,\u001b[39mn]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(e)){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m.\u001b[39mincludes(t)){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mWr\u001b[39m(t\u001b[33m,\u001b[39mr)\u001b[33m||\u001b[39m\u001b[32m` Available datasources: ${r.join(\", \")}`\u001b[39m\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Unknown datasource ${t} provided to PrismaClient constructor.${i}`\u001b[39m)}\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m n\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(n))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 126 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m\u001b[36mtypeof\u001b[39m n\u001b[33m==\u001b[39m\u001b[32m\"object\"\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[i\u001b[33m,\u001b[39mo]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(n)){\u001b[36mif\u001b[39m(i\u001b[33m!==\u001b[39m\u001b[32m\"url\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 127 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m o\u001b[33m!=\u001b[39m\u001b[32m\"string\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(o)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:7649)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError [as handleAndLogRequestError] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6784)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleAndLogRequestError [as request] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6491)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat l (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:133:9778)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/oauth2.test.ts\u001b[39m\u001b[0m\u001b[2m:40:5)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mOAuth2 Flow Integration Tests › GET /api/oauth/token › should handle missing token\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32m\"\u001b[7mNo valid OAuth2 access token\u001b[27m found\"\u001b[39m\n    Received: \u001b[31m\"\u001b[7mAPI connection not\u001b[27m found\"\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 349 |\u001b[39m       \u001b[36mconst\u001b[39m data \u001b[33m=\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(res\u001b[33m.\u001b[39m_getData())\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 350 |\u001b[39m       expect(data\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 351 |\u001b[39m       expect(data\u001b[33m.\u001b[39merror)\u001b[33m.\u001b[39mtoBe(\u001b[32m'No valid OAuth2 access token found'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 352 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 353 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 354 |\u001b[39m     it(\u001b[32m'should reject non-OAuth2 API connections'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/oauth2.test.ts\u001b[39m\u001b[0m\u001b[2m:351:26)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mOAuth2 Flow Integration Tests › GET /api/oauth/token › should reject non-OAuth2 API connections\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32m400\u001b[39m\n    Received: \u001b[31m404\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 380 |\u001b[39m       \u001b[36mawait\u001b[39m tokenHandler(req \u001b[36mas\u001b[39m any\u001b[33m,\u001b[39m res \u001b[36mas\u001b[39m any)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 381 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 382 |\u001b[39m       expect(res\u001b[33m.\u001b[39m_getStatusCode())\u001b[33m.\u001b[39mtoBe(\u001b[35m400\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 383 |\u001b[39m       \u001b[36mconst\u001b[39m data \u001b[33m=\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(res\u001b[33m.\u001b[39m_getData())\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 384 |\u001b[39m       expect(data\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 385 |\u001b[39m       expect(data\u001b[33m.\u001b[39merror)\u001b[33m.\u001b[39mtoBe(\u001b[32m'API connection does not use OAuth2 authentication'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/oauth2.test.ts\u001b[39m\u001b[0m\u001b[2m:382:36)\u001b[22m\u001b[2m\u001b[22m\n","name":"/Users/connorbowen/apiq-mvp/tests/integration/api/oauth2.test.ts","startTime":1751471235003,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Authentication Flow Testing - Phase 2.3","API Key Authentication"],"duration":3319,"failureDetails":[],"failureMessages":[],"fullName":"Authentication Flow Testing - Phase 2.3 API Key Authentication should create API connection with API key authentication","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should create API connection with API key authentication"},{"ancestorTitles":["Authentication Flow Testing - Phase 2.3","API Key Authentication"],"duration":3239,"failureDetails":[{"name":"PrismaClientUnknownRequestError","clientVersion":"6.10.1"}],"failureMessages":["PrismaClientUnknownRequestError: \nInvalid `prisma.apiConnection.deleteMany()` invocation in\n/Users/connorbowen/apiq-mvp/tests/integration/api/auth-flow.test.ts:41:32\n\n  38     }\n  39   }\n  40 });\n→ 41 await prisma.apiConnection.deleteMany(\nError occurred during query execution:\nConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28328 waits for ShareLock on transaction 54087; blocked by process 28324.\\nProcess 28324 waits for ShareLock on transaction 54146; blocked by process 28328.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n    at Zn.handleRequestError (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:7649)\n    at Zn.handleRequestError [as handleAndLogRequestError] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6784)\n    at Zn.handleAndLogRequestError [as request] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6491)\n    at l (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:133:9778)\n    at Object.<anonymous> (/Users/connorbowen/apiq-mvp/tests/integration/api/auth-flow.test.ts:41:5)"],"fullName":"Authentication Flow Testing - Phase 2.3 API Key Authentication should store and retrieve API key credentials securely","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should store and retrieve API key credentials securely"},{"ancestorTitles":["Authentication Flow Testing - Phase 2.3","Bearer Token Authentication"],"duration":2075,"failureDetails":[{"name":"PrismaClientUnknownRequestError","clientVersion":"6.10.1"}],"failureMessages":["PrismaClientUnknownRequestError: \nInvalid `prisma.apiConnection.deleteMany()` invocation in\n/Users/connorbowen/apiq-mvp/tests/integration/api/auth-flow.test.ts:41:32\n\n  38     }\n  39   }\n  40 });\n→ 41 await prisma.apiConnection.deleteMany(\nError occurred during query execution:\nConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28328 waits for ShareLock on transaction 54162; blocked by process 28326.\\nProcess 28326 waits for ShareLock on transaction 54166; blocked by process 28328.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n    at Zn.handleRequestError (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:7649)\n    at Zn.handleRequestError [as handleAndLogRequestError] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6784)\n    at Zn.handleAndLogRequestError [as request] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6491)\n    at l (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:133:9778)\n    at Object.<anonymous> (/Users/connorbowen/apiq-mvp/tests/integration/api/auth-flow.test.ts:41:5)"],"fullName":"Authentication Flow Testing - Phase 2.3 Bearer Token Authentication should create API connection with Bearer token authentication","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should create API connection with Bearer token authentication"},{"ancestorTitles":["Authentication Flow Testing - Phase 2.3","Bearer Token Authentication"],"duration":2726,"failureDetails":[],"failureMessages":[],"fullName":"Authentication Flow Testing - Phase 2.3 Bearer Token Authentication should store and retrieve Bearer token credentials securely","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should store and retrieve Bearer token credentials securely"},{"ancestorTitles":["Authentication Flow Testing - Phase 2.3","Basic Authentication"],"duration":1124,"failureDetails":[{"name":"PrismaClientUnknownRequestError","clientVersion":"6.10.1"}],"failureMessages":["PrismaClientUnknownRequestError: \nInvalid `prisma.apiConnection.deleteMany()` invocation in\n/Users/connorbowen/apiq-mvp/tests/integration/api/auth-flow.test.ts:41:32\n\n  38     }\n  39   }\n  40 });\n→ 41 await prisma.apiConnection.deleteMany(\nError occurred during query execution:\nConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28328 waits for AccessExclusiveLock on tuple (0,19) of relation 33235 of database 21992; blocked by process 28324.\\nProcess 28324 waits for ShareLock on transaction 54200; blocked by process 28404.\\nProcess 28404 waits for ShareLock on transaction 54205; blocked by process 28326.\\nProcess 28326 waits for AccessExclusiveLock on tuple (0,19) of relation 33235 of database 21992; blocked by process 28328.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n    at Zn.handleRequestError (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:7649)\n    at Zn.handleRequestError [as handleAndLogRequestError] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6784)\n    at Zn.handleAndLogRequestError [as request] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6491)\n    at l (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:133:9778)\n    at Object.<anonymous> (/Users/connorbowen/apiq-mvp/tests/integration/api/auth-flow.test.ts:41:5)"],"fullName":"Authentication Flow Testing - Phase 2.3 Basic Authentication should create API connection with Basic authentication","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should create API connection with Basic authentication"},{"ancestorTitles":["Authentication Flow Testing - Phase 2.3","Basic Authentication"],"duration":1080,"failureDetails":[{"name":"PrismaClientUnknownRequestError","clientVersion":"6.10.1"}],"failureMessages":["PrismaClientUnknownRequestError: \nInvalid `prisma.apiConnection.deleteMany()` invocation in\n/Users/connorbowen/apiq-mvp/tests/integration/api/auth-flow.test.ts:41:32\n\n  38     }\n  39   }\n  40 });\n→ 41 await prisma.apiConnection.deleteMany(\nError occurred during query execution:\nConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28328 waits for AccessExclusiveLock on tuple (0,19) of relation 33235 of database 21992; blocked by process 28323.\\nProcess 28323 waits for ShareLock on transaction 54201; blocked by process 28324.\\nProcess 28324 waits for ShareLock on transaction 54210; blocked by process 28326.\\nProcess 28326 waits for AccessExclusiveLock on tuple (0,19) of relation 33235 of database 21992; blocked by process 28328.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n    at Zn.handleRequestError (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:7649)\n    at Zn.handleRequestError [as handleAndLogRequestError] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6784)\n    at Zn.handleAndLogRequestError [as request] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6491)\n    at l (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:133:9778)\n    at Object.<anonymous> (/Users/connorbowen/apiq-mvp/tests/integration/api/auth-flow.test.ts:41:5)"],"fullName":"Authentication Flow Testing - Phase 2.3 Basic Authentication should store and retrieve Basic auth credentials securely","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should store and retrieve Basic auth credentials securely"},{"ancestorTitles":["Authentication Flow Testing - Phase 2.3","OAuth2 Authentication"],"duration":1950,"failureDetails":[{"name":"PrismaClientUnknownRequestError","clientVersion":"6.10.1"}],"failureMessages":["PrismaClientUnknownRequestError: \nInvalid `prisma.apiConnection.deleteMany()` invocation in\n/Users/connorbowen/apiq-mvp/tests/integration/api/auth-flow.test.ts:41:32\n\n  38     }\n  39   }\n  40 });\n→ 41 await prisma.apiConnection.deleteMany(\nError occurred during query execution:\nConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28328 waits for ShareLock on transaction 54221; blocked by process 28326.\\nProcess 28326 waits for AccessExclusiveLock on tuple (0,19) of relation 33235 of database 21992; blocked by process 28323.\\nProcess 28323 waits for ShareLock on transaction 54218; blocked by process 28328.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n    at Zn.handleRequestError (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:7649)\n    at Zn.handleRequestError [as handleAndLogRequestError] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6784)\n    at Zn.handleAndLogRequestError [as request] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6491)\n    at l (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:133:9778)\n    at Object.<anonymous> (/Users/connorbowen/apiq-mvp/tests/integration/api/auth-flow.test.ts:41:5)"],"fullName":"Authentication Flow Testing - Phase 2.3 OAuth2 Authentication should create API connection with OAuth2 authentication","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should create API connection with OAuth2 authentication"},{"ancestorTitles":["Authentication Flow Testing - Phase 2.3","OAuth2 Authentication"],"duration":3443,"failureDetails":[{"name":"PrismaClientUnknownRequestError","clientVersion":"6.10.1"}],"failureMessages":["PrismaClientUnknownRequestError: \nInvalid `prisma.apiConnection.deleteMany()` invocation in\n/Users/connorbowen/apiq-mvp/tests/integration/api/auth-flow.test.ts:41:32\n\n  38     }\n  39   }\n  40 });\n→ 41 await prisma.apiConnection.deleteMany(\nError occurred during query execution:\nConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28465 waits for ShareLock on transaction 54226; blocked by process 28469.\\nProcess 28469 waits for ShareLock on transaction 54223; blocked by process 28465.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n    at Zn.handleRequestError (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:7649)\n    at Zn.handleRequestError [as handleAndLogRequestError] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6784)\n    at Zn.handleAndLogRequestError [as request] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6491)\n    at l (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:133:9778)\n    at Object.<anonymous> (/Users/connorbowen/apiq-mvp/tests/integration/api/auth-flow.test.ts:41:5)"],"fullName":"Authentication Flow Testing - Phase 2.3 OAuth2 Authentication should store and retrieve OAuth2 credentials securely","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should store and retrieve OAuth2 credentials securely"},{"ancestorTitles":["Authentication Flow Testing - Phase 2.3","Security Validation"],"duration":1260,"failureDetails":[{"name":"PrismaClientUnknownRequestError","clientVersion":"6.10.1"}],"failureMessages":["PrismaClientUnknownRequestError: \nInvalid `prisma.apiConnection.deleteMany()` invocation in\n/Users/connorbowen/apiq-mvp/tests/integration/api/auth-flow.test.ts:41:32\n\n  38     }\n  39   }\n  40 });\n→ 41 await prisma.apiConnection.deleteMany(\nError occurred during query execution:\nConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28465 waits for ShareLock on transaction 54228; blocked by process 28323.\\nProcess 28323 waits for ShareLock on transaction 54230; blocked by process 28469.\\nProcess 28469 waits for AccessExclusiveLock on tuple (0,19) of relation 33235 of database 21992; blocked by process 28465.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n    at Zn.handleRequestError (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:7649)\n    at Zn.handleRequestError [as handleAndLogRequestError] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6784)\n    at Zn.handleAndLogRequestError [as request] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6491)\n    at l (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:133:9778)\n    at Object.<anonymous> (/Users/connorbowen/apiq-mvp/tests/integration/api/auth-flow.test.ts:41:5)"],"fullName":"Authentication Flow Testing - Phase 2.3 Security Validation should not expose credentials in API responses","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should not expose credentials in API responses"},{"ancestorTitles":["Authentication Flow Testing - Phase 2.3","Security Validation"],"duration":2650,"failureDetails":[],"failureMessages":[],"fullName":"Authentication Flow Testing - Phase 2.3 Security Validation should enforce proper authorization for credential access","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should enforce proper authorization for credential access"},{"ancestorTitles":["Authentication Flow Testing - Phase 2.3","Security Validation"],"duration":6907,"failureDetails":[{"matcherResult":{"actual":500,"expected":201,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m201\u001b[39m\nReceived: \u001b[31m500\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m201\u001b[39m\nReceived: \u001b[31m500\u001b[39m\n    at Object.toBe (/Users/connorbowen/apiq-mvp/tests/integration/api/auth-flow.test.ts:457:41)"],"fullName":"Authentication Flow Testing - Phase 2.3 Security Validation should validate credential expiration","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should validate credential expiration"},{"ancestorTitles":["Authentication Flow Testing - Phase 2.3","Audit Logging"],"duration":1783,"failureDetails":[{"matcherResult":{"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBeGreaterThan\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: > \u001b[32m0\u001b[39m\nReceived:   \u001b[31m0\u001b[39m","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBeGreaterThan\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: > \u001b[32m0\u001b[39m\nReceived:   \u001b[31m0\u001b[39m\n    at Object.toBeGreaterThan (/Users/connorbowen/apiq-mvp/tests/integration/api/auth-flow.test.ts:511:32)"],"fullName":"Authentication Flow Testing - Phase 2.3 Audit Logging should log credential access events","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should log credential access events"}],"endTime":1751471267435,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAuthentication Flow Testing - Phase 2.3 › API Key Authentication › should store and retrieve API key credentials securely\u001b[39m\u001b[22m\n\n    PrismaClientUnknownRequestError: \n    Invalid `prisma.apiConnection.deleteMany()` invocation in\n    /Users/connorbowen/apiq-mvp/tests/integration/api/auth-flow.test.ts:41:32\n\n      38     }\n      39   }\n      40 });\n    → 41 await prisma.apiConnection.deleteMany(\n    Error occurred during query execution:\n    ConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28328 waits for ShareLock on transaction 54087; blocked by process 28324.\\nProcess 28324 waits for ShareLock on transaction 54146; blocked by process 28328.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 122 |\u001b[39m \u001b[32m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 123 |\u001b[39m \u001b[32mMore Information: https://pris.ly/d/execute-raw\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 124 |\u001b[39m \u001b[32m`\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mCo\u001b[39m\u001b[33m=\u001b[39m({clientMethod\u001b[33m:\u001b[39me\u001b[33m,\u001b[39mactiveProvider\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39mt\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[32m\"\"\u001b[39m\u001b[33m,\u001b[39mi\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mFn\u001b[39m(t))n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(t)){\u001b[36mlet\u001b[39m[o\u001b[33m,\u001b[39m\u001b[33m...\u001b[39ms]\u001b[33m=\u001b[39mt\u001b[33m;\u001b[39mn\u001b[33m=\u001b[39mo\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(s\u001b[33m||\u001b[39m[])\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}}\u001b[36melse\u001b[39m \u001b[36mswitch\u001b[39m(r){\u001b[36mcase\u001b[39m\u001b[32m\"sqlite\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"mysql\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"cockroachdb\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgresql\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgres\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mtext\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"sqlserver\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mjl(t)\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`The ${r} provider does not support ${e}`\u001b[39m)}\u001b[36mreturn\u001b[39m i\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mvalues\u001b[33m?\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n}, ${i.values})`\u001b[39m)\u001b[33m:\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n})`\u001b[39m)\u001b[33m,\u001b[39m{query\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mparameters\u001b[33m:\u001b[39mi}}\u001b[33m,\u001b[39m\u001b[33mWl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e\u001b[33m.\u001b[39mstrings\u001b[33m,\u001b[39m\u001b[33m...\u001b[39me\u001b[33m.\u001b[39mvalues]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mlet\u001b[39m[r\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mt]\u001b[33m=\u001b[39me\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m oe(r\u001b[33m,\u001b[39mt)}}\u001b[33m,\u001b[39m\u001b[33mJl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mreturn\u001b[39m e[\u001b[35m0\u001b[39m]}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mAo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mfunction\u001b[39m(t\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m(s\u001b[33m=\u001b[39me)\u001b[33m=>\u001b[39m{\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m s\u001b[33m===\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m||\u001b[39ms\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33m=\u001b[39m\u001b[33mHl\u001b[39m(t(s))\u001b[33m:\u001b[39m\u001b[33mHl\u001b[39m(t(s))}\u001b[36mcatch\u001b[39m(a){\u001b[36mreturn\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mreject(a)}}\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[36mget\u001b[39m spec(){\u001b[36mreturn\u001b[39m n}\u001b[33m,\u001b[39mthen(s\u001b[33m,\u001b[39ma){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39mthen(s\u001b[33m,\u001b[39ma)}\u001b[33m,\u001b[39m\u001b[36mcatch\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(s)}\u001b[33m,\u001b[39m\u001b[36mfinally\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mfinally\u001b[39m(s)}\u001b[33m,\u001b[39mrequestTransaction(s){\u001b[36mlet\u001b[39m a\u001b[33m=\u001b[39mo(s)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m a\u001b[33m.\u001b[39mrequestTransaction\u001b[33m?\u001b[39ma\u001b[33m.\u001b[39mrequestTransaction(s)\u001b[33m:\u001b[39ma}\u001b[33m,\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag]\u001b[33m:\u001b[39m\u001b[32m\"PrismaPromise\"\u001b[39m}}}\u001b[36mfunction\u001b[39m \u001b[33mHl\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mthen\u001b[33m==\u001b[39m\u001b[32m\"function\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39m\u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mresolve(e)}\u001b[36mvar\u001b[39m \u001b[33mTf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mEi\u001b[39m\u001b[33m.\u001b[39msplit(\u001b[32m\".\"\u001b[39m)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mSf\u001b[39m\u001b[33m=\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m}\u001b[33m,\u001b[39mgetTraceParent(){\u001b[36mreturn\u001b[39m\u001b[32m\"00-10-10-00\"\u001b[39m}\u001b[33m,\u001b[39mdispatchEngineSpans(){}\u001b[33m,\u001b[39mgetActiveContext(){}\u001b[33m,\u001b[39mrunInChildSpan(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m r()}}\u001b[33m,\u001b[39m\u001b[33mIo\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39misEnabled()}getTraceParent(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetTraceParent(r)}dispatchEngineSpans(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mdispatchEngineSpans(r)}getActiveContext(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetActiveContext()}runInChildSpan(r\u001b[33m,\u001b[39mt){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mrunInChildSpan(r\u001b[33m,\u001b[39mt)}getGlobalTracingHelper(){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39mglobalThis[\u001b[32m`V${Tf}_PRISMA_INSTRUMENTATION`\u001b[39m]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39mglobalThis\u001b[33m.\u001b[39m\u001b[33mPRISMA_INSTRUMENTATION\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33mSf\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKl\u001b[39m(){\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mIo\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mYl\u001b[39m(e\u001b[33m,\u001b[39mr\u001b[33m=\u001b[39m()\u001b[33m=>\u001b[39m{}){\u001b[36mlet\u001b[39m t\u001b[33m,\u001b[39mn\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m(i\u001b[33m=>\u001b[39mt\u001b[33m=\u001b[39mi)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{then(i){\u001b[36mreturn\u001b[39m\u001b[33m--\u001b[39me\u001b[33m===\u001b[39m\u001b[35m0\u001b[39m\u001b[33m&&\u001b[39mt(r())\u001b[33m,\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m.\u001b[39m(n)}}}\u001b[36mfunction\u001b[39m zl(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mreduce((r\u001b[33m,\u001b[39mt)\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[36mtypeof\u001b[39m t\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mlevel\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m===\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m?\u001b[39mr\u001b[33m:\u001b[39mr\u001b[33m&&\u001b[39m(t\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m||\u001b[39mr\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m)\u001b[33m?\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m:\u001b[39mn}\u001b[33m,\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mHn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{_middlewares\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39muse(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mpush(r)}\u001b[36mget\u001b[39m(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}has(r){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[33m!\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}length(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mlength}}\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mXl\u001b[39m\u001b[33m=\u001b[39mk(\u001b[33mOi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKn\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m==\u001b[39m\u001b[32m\"number\"\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mZl\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUnique\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUniqueOrThrow\"\u001b[39m)\u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mmodelName\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(e\u001b[33m.\u001b[39mmodelName)\u001b[33m,\u001b[39me\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39mselection))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mjoin(\u001b[32m\"\"\u001b[39m)}\u001b[36mfunction\u001b[39m ko(e){\u001b[36mreturn\u001b[39m\u001b[32m`(${Object.keys(e).sort().map(t=>{let n=e[t];return typeof n==\"object\"&&n!==null?`(${t} ${ko(n)})`:t}).join(\" \")})`\u001b[39m}\u001b[36mvar\u001b[39m \u001b[33mRf\u001b[39m\u001b[33m=\u001b[39m{aggregate\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39maggregateRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mcreateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mexecuteRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mfindFirst\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindFirstOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUnique\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUniqueOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mgroupBy\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mqueryRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mrunCommandRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupsertOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mOo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[33mRf\u001b[39m[e]}\u001b[36mvar\u001b[39m \u001b[33mYn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{constructor(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches\u001b[33m=\u001b[39m{}}batches\u001b[33m;\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m;\u001b[39mrequest(r){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchBy(r)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m t\u001b[33m?\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mprocess\u001b[33m.\u001b[39mnextTick(()\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdispatchBatches()\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m})))\u001b[33m,\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m.\u001b[39mpush({request\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mresolve\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mreject\u001b[33m:\u001b[39mi})}))\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(r)}dispatchBatches(){\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m r \u001b[36min\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m;\u001b[39m\u001b[36mdelete\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m,\u001b[39mt\u001b[33m.\u001b[39mlength\u001b[33m===\u001b[39m\u001b[35m1\u001b[39m\u001b[33m?\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mrequest)\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)\u001b[33m:\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mresolve(n)})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)})\u001b[33m:\u001b[39m(t\u001b[33m.\u001b[39msort((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchOrder(n\u001b[33m.\u001b[39mrequest\u001b[33m,\u001b[39mi\u001b[33m.\u001b[39mrequest))\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchLoader(t\u001b[33m.\u001b[39mmap(n\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mrequest))\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m o\u001b[33m=\u001b[39mn[i]\u001b[33m;\u001b[39mo \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[i]\u001b[33m.\u001b[39mreject(o)\u001b[33m:\u001b[39mt[i]\u001b[33m.\u001b[39mresolve(o)}})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)}))}}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"DataLoader\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m mr(e\u001b[33m,\u001b[39mr){\u001b[36mif\u001b[39m(r\u001b[33m===\u001b[39m\u001b[36mnull\u001b[39m)\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mswitch\u001b[39m(e){\u001b[36mcase\u001b[39m\u001b[32m\"bigint\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[33mBigInt\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes\"\u001b[39m\u001b[33m:\u001b[39m{\u001b[36mlet\u001b[39m{buffer\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mbyteOffset\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mbyteLength\u001b[33m:\u001b[39mi}\u001b[33m=\u001b[39m\u001b[33mBuffer\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m(r\u001b[33m,\u001b[39m\u001b[32m\"base64\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mUint8Array\u001b[39m(t\u001b[33m,\u001b[39mn\u001b[33m,\u001b[39mi)}\u001b[36mcase\u001b[39m\u001b[32m\"decimal\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mPe\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(\u001b[32m`1970-01-01T${r}Z`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bigint-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bigint\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bytes\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"decimal-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"decimal\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"datetime\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"date\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"time\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r}}\u001b[36mfunction\u001b[39m zn(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39m\u001b[33mCf\u001b[39m(e)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mn\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mrows\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mn\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mrows[n]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m{\u001b[33m...\u001b[39mt}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m s\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39ms\u001b[33m<\u001b[39m\u001b[33mi\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39ms\u001b[33m++\u001b[39m)o[e\u001b[33m.\u001b[39mcolumns[s]]\u001b[33m=\u001b[39mmr(e\u001b[33m.\u001b[39mtypes[s]\u001b[33m,\u001b[39mi[s])\u001b[33m;\u001b[39mr\u001b[33m.\u001b[39mpush(o)}\u001b[36mreturn\u001b[39m r}\u001b[36mfunction\u001b[39m \u001b[33mCf\u001b[39m(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m{}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mt\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mcolumns\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mt\u001b[33m++\u001b[39m)r[e\u001b[33m.\u001b[39mcolumns[t]]\u001b[33m=\u001b[39m\u001b[36mnull\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r}\u001b[36mvar\u001b[39m \u001b[33mAf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mN\u001b[39m(\u001b[32m\"prisma:client:request_handler\"\u001b[39m)\u001b[33m,\u001b[39m\u001b[33mZn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{client\u001b[33m;\u001b[39mdataloader\u001b[33m;\u001b[39mlogEmitter\u001b[33m;\u001b[39mconstructor(r\u001b[33m,\u001b[39mt){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m=\u001b[39mt\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m=\u001b[39mr\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mYn\u001b[39m({batchLoader\u001b[33m:\u001b[39mol(\u001b[36masync\u001b[39m({requests\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi})\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m{transaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39motelParentCtx\u001b[33m:\u001b[39ms}\u001b[33m=\u001b[39mn[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mmap(p\u001b[33m=>\u001b[39mp\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent(s)\u001b[33m,\u001b[39mu\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39msome(p\u001b[33m=>\u001b[39m\u001b[33mOo\u001b[39m(p\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction))\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m(\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequestBatch(a\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39ml\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39m\u001b[33mIf\u001b[39m(o)\u001b[33m,\u001b[39mcontainsWrite\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi}))\u001b[33m.\u001b[39mmap((p\u001b[33m,\u001b[39md)\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(p \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mreturn\u001b[39m p\u001b[33m;\u001b[39m\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n[d]\u001b[33m,\u001b[39mp)}\u001b[36mcatch\u001b[39m(f){\u001b[36mreturn\u001b[39m f}})})\u001b[33m,\u001b[39msingleLoader\u001b[33m:\u001b[39m\u001b[36masync\u001b[39m n\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39meu(n\u001b[33m.\u001b[39mtransaction)\u001b[33m:\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequest(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent()\u001b[33m,\u001b[39minteractiveTransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39misWrite\u001b[33m:\u001b[39m\u001b[33mOo\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction)\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mn\u001b[33m.\u001b[39mcustomDataProxyFetch})\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n\u001b[33m,\u001b[39mo)}\u001b[33m,\u001b[39mbatchBy\u001b[33m:\u001b[39mn\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mid\u001b[33m?\u001b[39m\u001b[32m`transaction-${n.transaction.id}`\u001b[39m\u001b[33m:\u001b[39m\u001b[33mZl\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39mbatchOrder(n\u001b[33m,\u001b[39mi){\u001b[36mreturn\u001b[39m n\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m?\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m-\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m:\u001b[39m\u001b[35m0\u001b[39m}})}\u001b[36masync\u001b[39m request(r){\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m.\u001b[39mrequest(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mlet\u001b[39m{clientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma}\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleAndLogRequestError({error\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mglobalOmit})}}mapQueryEngineResult({dataPath\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39munpacker\u001b[33m:\u001b[39mt}\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mdata\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39munpack(i\u001b[33m,\u001b[39mr\u001b[33m,\u001b[39mt)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mPRISMA_CLIENT_GET_TIME\u001b[39m\u001b[33m?\u001b[39m{data\u001b[33m:\u001b[39mo}\u001b[33m:\u001b[39mo}handleAndLogRequestError(r){\u001b[36mtry\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleRequestError(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mthrow\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m.\u001b[39memit(\u001b[32m\"error\"\u001b[39m\u001b[33m,\u001b[39m{message\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mmessage\u001b[33m,\u001b[39mtarget\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mclientMethod\u001b[33m,\u001b[39mtimestamp\u001b[33m:\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m})\u001b[33m,\u001b[39mt}}handleRequestError({error\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma}){\u001b[36mif\u001b[39m(\u001b[33mAf\u001b[39m(r)\u001b[33m,\u001b[39mkf(r\u001b[33m,\u001b[39mi))\u001b[36mthrow\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m z\u001b[33m&&\u001b[39m\u001b[33mOf\u001b[39m(r)){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39mru(r\u001b[33m.\u001b[39mmeta)\u001b[33m;\u001b[39mkn({args\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39m[u]\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39merrorFormat\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma})}\u001b[36mlet\u001b[39m l\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mmessage\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m(l\u001b[33m=\u001b[39mwn({callsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39misPanic\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39misPanic\u001b[33m,\u001b[39mshowColors\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m===\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39mmessage\u001b[33m:\u001b[39ml}))\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39msanitizeMessage(l)\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mcode){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39ms\u001b[33m?\u001b[39m{modelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr\u001b[33m.\u001b[39mmeta}\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mmeta\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m z(l\u001b[33m,\u001b[39m{code\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mcode\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mmeta\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})}\u001b[36melse\u001b[39m{\u001b[36mif\u001b[39m(r\u001b[33m.\u001b[39misPanic)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m j)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m j(l\u001b[33m,\u001b[39m{clientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m \u001b[33mT\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mT\u001b[39m(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m le)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)}\u001b[36mthrow\u001b[39m r\u001b[33m.\u001b[39mclientVersion\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mr}sanitizeMessage(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m!==\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m?\u001b[39m(\u001b[35m0\u001b[39m\u001b[33m,\u001b[39m\u001b[33mXl\u001b[39m\u001b[33m.\u001b[39m\u001b[36mdefault\u001b[39m)(r)\u001b[33m:\u001b[39mr}unpack(r\u001b[33m,\u001b[39mt\u001b[33m,\u001b[39mn){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m||\u001b[39m(r\u001b[33m.\u001b[39mdata\u001b[33m&&\u001b[39m(r\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mdata)\u001b[33m,\u001b[39m\u001b[33m!\u001b[39mr))\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mvalues(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ms\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mfilter(u\u001b[33m=>\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"select\"\u001b[39m\u001b[33m&&\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"include\"\u001b[39m)\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mio(o\u001b[33m,\u001b[39ms)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39mi\u001b[33m===\u001b[39m\u001b[32m\"queryRaw\"\u001b[39m\u001b[33m?\u001b[39mzn(a)\u001b[33m:\u001b[39m\u001b[33mTr\u001b[39m(a)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m?\u001b[39mn(l)\u001b[33m:\u001b[39ml}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"RequestHandler\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mIf\u001b[39m(e){\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39m{isolationLevel\u001b[33m:\u001b[39me\u001b[33m.\u001b[39misolationLevel}}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39meu(e)}\u001b[33m;\u001b[39m_e(e\u001b[33m,\u001b[39m\u001b[32m\"Unknown transaction kind\"\u001b[39m)}}\u001b[36mfunction\u001b[39m eu(e){\u001b[36mreturn\u001b[39m{id\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39mpayload\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mpayload}}\u001b[36mfunction\u001b[39m kf(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m \u001b[33mKn\u001b[39m(e)\u001b[33m&&\u001b[39mr\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m!==\u001b[39mr\u001b[33m.\u001b[39mindex}\u001b[36mfunction\u001b[39m \u001b[33mOf\u001b[39m(e){\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2009\"\u001b[39m\u001b[33m||\u001b[39me\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2012\"\u001b[39m}\u001b[36mfunction\u001b[39m ru(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"Union\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"Union\"\u001b[39m\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39me\u001b[33m.\u001b[39merrors\u001b[33m.\u001b[39mmap(ru)}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e\u001b[33m.\u001b[39mselectionPath)){\u001b[36mlet\u001b[39m[\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr]\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mselectionPath\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[33m...\u001b[39me\u001b[33m,\u001b[39mselectionPath\u001b[33m:\u001b[39mr}}\u001b[36mreturn\u001b[39m e}\u001b[36mvar\u001b[39m tu\u001b[33m=\u001b[39m\u001b[33mSl\u001b[39m\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m au\u001b[33m=\u001b[39mk(\u001b[33mQi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mD\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mError\u001b[39m{constructor(r){\u001b[36msuper\u001b[39m(r\u001b[33m+\u001b[39m\u001b[32m`\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 125 |\u001b[39m \u001b[32mRead more at https://pris.ly/d/client-constructor`\u001b[39m)\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mname\u001b[33m=\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}}\u001b[33m;\u001b[39mx(\u001b[33mD\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m nu\u001b[33m=\u001b[39m[\u001b[32m\"datasources\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"datasourceUrl\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"errorFormat\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"adapter\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"log\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"transactionOptions\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"omit\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"__internal\"\u001b[39m]\u001b[33m,\u001b[39miu\u001b[33m=\u001b[39m[\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"colorless\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"minimal\"\u001b[39m]\u001b[33m,\u001b[39mou\u001b[33m=\u001b[39m[\u001b[32m\"info\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"warn\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"error\"\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mDf\u001b[39m\u001b[33m=\u001b[39m{datasources\u001b[33m:\u001b[39m(e\u001b[33m,\u001b[39m{datasourceNames\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m e\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for \"datasources\" provided to PrismaClient constructor`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[t\u001b[33m,\u001b[39mn]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(e)){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m.\u001b[39mincludes(t)){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mWr\u001b[39m(t\u001b[33m,\u001b[39mr)\u001b[33m||\u001b[39m\u001b[32m` Available datasources: ${r.join(\", \")}`\u001b[39m\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Unknown datasource ${t} provided to PrismaClient constructor.${i}`\u001b[39m)}\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m n\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(n))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 126 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m\u001b[36mtypeof\u001b[39m n\u001b[33m==\u001b[39m\u001b[32m\"object\"\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[i\u001b[33m,\u001b[39mo]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(n)){\u001b[36mif\u001b[39m(i\u001b[33m!==\u001b[39m\u001b[32m\"url\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 127 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m o\u001b[33m!=\u001b[39m\u001b[32m\"string\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(o)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:7649)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError [as handleAndLogRequestError] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6784)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleAndLogRequestError [as request] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6491)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat l (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:133:9778)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/auth-flow.test.ts\u001b[39m\u001b[0m\u001b[2m:41:5)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAuthentication Flow Testing - Phase 2.3 › Bearer Token Authentication › should create API connection with Bearer token authentication\u001b[39m\u001b[22m\n\n    PrismaClientUnknownRequestError: \n    Invalid `prisma.apiConnection.deleteMany()` invocation in\n    /Users/connorbowen/apiq-mvp/tests/integration/api/auth-flow.test.ts:41:32\n\n      38     }\n      39   }\n      40 });\n    → 41 await prisma.apiConnection.deleteMany(\n    Error occurred during query execution:\n    ConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28328 waits for ShareLock on transaction 54162; blocked by process 28326.\\nProcess 28326 waits for ShareLock on transaction 54166; blocked by process 28328.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 122 |\u001b[39m \u001b[32m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 123 |\u001b[39m \u001b[32mMore Information: https://pris.ly/d/execute-raw\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 124 |\u001b[39m \u001b[32m`\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mCo\u001b[39m\u001b[33m=\u001b[39m({clientMethod\u001b[33m:\u001b[39me\u001b[33m,\u001b[39mactiveProvider\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39mt\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[32m\"\"\u001b[39m\u001b[33m,\u001b[39mi\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mFn\u001b[39m(t))n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(t)){\u001b[36mlet\u001b[39m[o\u001b[33m,\u001b[39m\u001b[33m...\u001b[39ms]\u001b[33m=\u001b[39mt\u001b[33m;\u001b[39mn\u001b[33m=\u001b[39mo\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(s\u001b[33m||\u001b[39m[])\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}}\u001b[36melse\u001b[39m \u001b[36mswitch\u001b[39m(r){\u001b[36mcase\u001b[39m\u001b[32m\"sqlite\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"mysql\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"cockroachdb\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgresql\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgres\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mtext\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"sqlserver\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mjl(t)\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`The ${r} provider does not support ${e}`\u001b[39m)}\u001b[36mreturn\u001b[39m i\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mvalues\u001b[33m?\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n}, ${i.values})`\u001b[39m)\u001b[33m:\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n})`\u001b[39m)\u001b[33m,\u001b[39m{query\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mparameters\u001b[33m:\u001b[39mi}}\u001b[33m,\u001b[39m\u001b[33mWl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e\u001b[33m.\u001b[39mstrings\u001b[33m,\u001b[39m\u001b[33m...\u001b[39me\u001b[33m.\u001b[39mvalues]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mlet\u001b[39m[r\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mt]\u001b[33m=\u001b[39me\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m oe(r\u001b[33m,\u001b[39mt)}}\u001b[33m,\u001b[39m\u001b[33mJl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mreturn\u001b[39m e[\u001b[35m0\u001b[39m]}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mAo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mfunction\u001b[39m(t\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m(s\u001b[33m=\u001b[39me)\u001b[33m=>\u001b[39m{\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m s\u001b[33m===\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m||\u001b[39ms\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33m=\u001b[39m\u001b[33mHl\u001b[39m(t(s))\u001b[33m:\u001b[39m\u001b[33mHl\u001b[39m(t(s))}\u001b[36mcatch\u001b[39m(a){\u001b[36mreturn\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mreject(a)}}\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[36mget\u001b[39m spec(){\u001b[36mreturn\u001b[39m n}\u001b[33m,\u001b[39mthen(s\u001b[33m,\u001b[39ma){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39mthen(s\u001b[33m,\u001b[39ma)}\u001b[33m,\u001b[39m\u001b[36mcatch\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(s)}\u001b[33m,\u001b[39m\u001b[36mfinally\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mfinally\u001b[39m(s)}\u001b[33m,\u001b[39mrequestTransaction(s){\u001b[36mlet\u001b[39m a\u001b[33m=\u001b[39mo(s)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m a\u001b[33m.\u001b[39mrequestTransaction\u001b[33m?\u001b[39ma\u001b[33m.\u001b[39mrequestTransaction(s)\u001b[33m:\u001b[39ma}\u001b[33m,\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag]\u001b[33m:\u001b[39m\u001b[32m\"PrismaPromise\"\u001b[39m}}}\u001b[36mfunction\u001b[39m \u001b[33mHl\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mthen\u001b[33m==\u001b[39m\u001b[32m\"function\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39m\u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mresolve(e)}\u001b[36mvar\u001b[39m \u001b[33mTf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mEi\u001b[39m\u001b[33m.\u001b[39msplit(\u001b[32m\".\"\u001b[39m)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mSf\u001b[39m\u001b[33m=\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m}\u001b[33m,\u001b[39mgetTraceParent(){\u001b[36mreturn\u001b[39m\u001b[32m\"00-10-10-00\"\u001b[39m}\u001b[33m,\u001b[39mdispatchEngineSpans(){}\u001b[33m,\u001b[39mgetActiveContext(){}\u001b[33m,\u001b[39mrunInChildSpan(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m r()}}\u001b[33m,\u001b[39m\u001b[33mIo\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39misEnabled()}getTraceParent(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetTraceParent(r)}dispatchEngineSpans(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mdispatchEngineSpans(r)}getActiveContext(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetActiveContext()}runInChildSpan(r\u001b[33m,\u001b[39mt){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mrunInChildSpan(r\u001b[33m,\u001b[39mt)}getGlobalTracingHelper(){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39mglobalThis[\u001b[32m`V${Tf}_PRISMA_INSTRUMENTATION`\u001b[39m]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39mglobalThis\u001b[33m.\u001b[39m\u001b[33mPRISMA_INSTRUMENTATION\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33mSf\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKl\u001b[39m(){\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mIo\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mYl\u001b[39m(e\u001b[33m,\u001b[39mr\u001b[33m=\u001b[39m()\u001b[33m=>\u001b[39m{}){\u001b[36mlet\u001b[39m t\u001b[33m,\u001b[39mn\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m(i\u001b[33m=>\u001b[39mt\u001b[33m=\u001b[39mi)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{then(i){\u001b[36mreturn\u001b[39m\u001b[33m--\u001b[39me\u001b[33m===\u001b[39m\u001b[35m0\u001b[39m\u001b[33m&&\u001b[39mt(r())\u001b[33m,\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m.\u001b[39m(n)}}}\u001b[36mfunction\u001b[39m zl(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mreduce((r\u001b[33m,\u001b[39mt)\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[36mtypeof\u001b[39m t\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mlevel\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m===\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m?\u001b[39mr\u001b[33m:\u001b[39mr\u001b[33m&&\u001b[39m(t\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m||\u001b[39mr\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m)\u001b[33m?\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m:\u001b[39mn}\u001b[33m,\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mHn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{_middlewares\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39muse(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mpush(r)}\u001b[36mget\u001b[39m(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}has(r){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[33m!\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}length(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mlength}}\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mXl\u001b[39m\u001b[33m=\u001b[39mk(\u001b[33mOi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKn\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m==\u001b[39m\u001b[32m\"number\"\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mZl\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUnique\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUniqueOrThrow\"\u001b[39m)\u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mmodelName\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(e\u001b[33m.\u001b[39mmodelName)\u001b[33m,\u001b[39me\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39mselection))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mjoin(\u001b[32m\"\"\u001b[39m)}\u001b[36mfunction\u001b[39m ko(e){\u001b[36mreturn\u001b[39m\u001b[32m`(${Object.keys(e).sort().map(t=>{let n=e[t];return typeof n==\"object\"&&n!==null?`(${t} ${ko(n)})`:t}).join(\" \")})`\u001b[39m}\u001b[36mvar\u001b[39m \u001b[33mRf\u001b[39m\u001b[33m=\u001b[39m{aggregate\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39maggregateRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mcreateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mexecuteRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mfindFirst\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindFirstOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUnique\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUniqueOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mgroupBy\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mqueryRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mrunCommandRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupsertOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mOo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[33mRf\u001b[39m[e]}\u001b[36mvar\u001b[39m \u001b[33mYn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{constructor(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches\u001b[33m=\u001b[39m{}}batches\u001b[33m;\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m;\u001b[39mrequest(r){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchBy(r)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m t\u001b[33m?\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mprocess\u001b[33m.\u001b[39mnextTick(()\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdispatchBatches()\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m})))\u001b[33m,\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m.\u001b[39mpush({request\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mresolve\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mreject\u001b[33m:\u001b[39mi})}))\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(r)}dispatchBatches(){\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m r \u001b[36min\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m;\u001b[39m\u001b[36mdelete\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m,\u001b[39mt\u001b[33m.\u001b[39mlength\u001b[33m===\u001b[39m\u001b[35m1\u001b[39m\u001b[33m?\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mrequest)\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)\u001b[33m:\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mresolve(n)})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)})\u001b[33m:\u001b[39m(t\u001b[33m.\u001b[39msort((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchOrder(n\u001b[33m.\u001b[39mrequest\u001b[33m,\u001b[39mi\u001b[33m.\u001b[39mrequest))\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchLoader(t\u001b[33m.\u001b[39mmap(n\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mrequest))\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m o\u001b[33m=\u001b[39mn[i]\u001b[33m;\u001b[39mo \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[i]\u001b[33m.\u001b[39mreject(o)\u001b[33m:\u001b[39mt[i]\u001b[33m.\u001b[39mresolve(o)}})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)}))}}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"DataLoader\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m mr(e\u001b[33m,\u001b[39mr){\u001b[36mif\u001b[39m(r\u001b[33m===\u001b[39m\u001b[36mnull\u001b[39m)\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mswitch\u001b[39m(e){\u001b[36mcase\u001b[39m\u001b[32m\"bigint\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[33mBigInt\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes\"\u001b[39m\u001b[33m:\u001b[39m{\u001b[36mlet\u001b[39m{buffer\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mbyteOffset\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mbyteLength\u001b[33m:\u001b[39mi}\u001b[33m=\u001b[39m\u001b[33mBuffer\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m(r\u001b[33m,\u001b[39m\u001b[32m\"base64\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mUint8Array\u001b[39m(t\u001b[33m,\u001b[39mn\u001b[33m,\u001b[39mi)}\u001b[36mcase\u001b[39m\u001b[32m\"decimal\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mPe\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(\u001b[32m`1970-01-01T${r}Z`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bigint-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bigint\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bytes\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"decimal-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"decimal\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"datetime\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"date\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"time\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r}}\u001b[36mfunction\u001b[39m zn(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39m\u001b[33mCf\u001b[39m(e)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mn\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mrows\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mn\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mrows[n]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m{\u001b[33m...\u001b[39mt}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m s\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39ms\u001b[33m<\u001b[39m\u001b[33mi\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39ms\u001b[33m++\u001b[39m)o[e\u001b[33m.\u001b[39mcolumns[s]]\u001b[33m=\u001b[39mmr(e\u001b[33m.\u001b[39mtypes[s]\u001b[33m,\u001b[39mi[s])\u001b[33m;\u001b[39mr\u001b[33m.\u001b[39mpush(o)}\u001b[36mreturn\u001b[39m r}\u001b[36mfunction\u001b[39m \u001b[33mCf\u001b[39m(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m{}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mt\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mcolumns\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mt\u001b[33m++\u001b[39m)r[e\u001b[33m.\u001b[39mcolumns[t]]\u001b[33m=\u001b[39m\u001b[36mnull\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r}\u001b[36mvar\u001b[39m \u001b[33mAf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mN\u001b[39m(\u001b[32m\"prisma:client:request_handler\"\u001b[39m)\u001b[33m,\u001b[39m\u001b[33mZn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{client\u001b[33m;\u001b[39mdataloader\u001b[33m;\u001b[39mlogEmitter\u001b[33m;\u001b[39mconstructor(r\u001b[33m,\u001b[39mt){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m=\u001b[39mt\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m=\u001b[39mr\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mYn\u001b[39m({batchLoader\u001b[33m:\u001b[39mol(\u001b[36masync\u001b[39m({requests\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi})\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m{transaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39motelParentCtx\u001b[33m:\u001b[39ms}\u001b[33m=\u001b[39mn[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mmap(p\u001b[33m=>\u001b[39mp\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent(s)\u001b[33m,\u001b[39mu\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39msome(p\u001b[33m=>\u001b[39m\u001b[33mOo\u001b[39m(p\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction))\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m(\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequestBatch(a\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39ml\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39m\u001b[33mIf\u001b[39m(o)\u001b[33m,\u001b[39mcontainsWrite\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi}))\u001b[33m.\u001b[39mmap((p\u001b[33m,\u001b[39md)\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(p \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mreturn\u001b[39m p\u001b[33m;\u001b[39m\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n[d]\u001b[33m,\u001b[39mp)}\u001b[36mcatch\u001b[39m(f){\u001b[36mreturn\u001b[39m f}})})\u001b[33m,\u001b[39msingleLoader\u001b[33m:\u001b[39m\u001b[36masync\u001b[39m n\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39meu(n\u001b[33m.\u001b[39mtransaction)\u001b[33m:\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequest(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent()\u001b[33m,\u001b[39minteractiveTransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39misWrite\u001b[33m:\u001b[39m\u001b[33mOo\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction)\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mn\u001b[33m.\u001b[39mcustomDataProxyFetch})\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n\u001b[33m,\u001b[39mo)}\u001b[33m,\u001b[39mbatchBy\u001b[33m:\u001b[39mn\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mid\u001b[33m?\u001b[39m\u001b[32m`transaction-${n.transaction.id}`\u001b[39m\u001b[33m:\u001b[39m\u001b[33mZl\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39mbatchOrder(n\u001b[33m,\u001b[39mi){\u001b[36mreturn\u001b[39m n\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m?\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m-\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m:\u001b[39m\u001b[35m0\u001b[39m}})}\u001b[36masync\u001b[39m request(r){\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m.\u001b[39mrequest(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mlet\u001b[39m{clientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma}\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleAndLogRequestError({error\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mglobalOmit})}}mapQueryEngineResult({dataPath\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39munpacker\u001b[33m:\u001b[39mt}\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mdata\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39munpack(i\u001b[33m,\u001b[39mr\u001b[33m,\u001b[39mt)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mPRISMA_CLIENT_GET_TIME\u001b[39m\u001b[33m?\u001b[39m{data\u001b[33m:\u001b[39mo}\u001b[33m:\u001b[39mo}handleAndLogRequestError(r){\u001b[36mtry\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleRequestError(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mthrow\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m.\u001b[39memit(\u001b[32m\"error\"\u001b[39m\u001b[33m,\u001b[39m{message\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mmessage\u001b[33m,\u001b[39mtarget\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mclientMethod\u001b[33m,\u001b[39mtimestamp\u001b[33m:\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m})\u001b[33m,\u001b[39mt}}handleRequestError({error\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma}){\u001b[36mif\u001b[39m(\u001b[33mAf\u001b[39m(r)\u001b[33m,\u001b[39mkf(r\u001b[33m,\u001b[39mi))\u001b[36mthrow\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m z\u001b[33m&&\u001b[39m\u001b[33mOf\u001b[39m(r)){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39mru(r\u001b[33m.\u001b[39mmeta)\u001b[33m;\u001b[39mkn({args\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39m[u]\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39merrorFormat\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma})}\u001b[36mlet\u001b[39m l\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mmessage\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m(l\u001b[33m=\u001b[39mwn({callsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39misPanic\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39misPanic\u001b[33m,\u001b[39mshowColors\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m===\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39mmessage\u001b[33m:\u001b[39ml}))\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39msanitizeMessage(l)\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mcode){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39ms\u001b[33m?\u001b[39m{modelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr\u001b[33m.\u001b[39mmeta}\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mmeta\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m z(l\u001b[33m,\u001b[39m{code\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mcode\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mmeta\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})}\u001b[36melse\u001b[39m{\u001b[36mif\u001b[39m(r\u001b[33m.\u001b[39misPanic)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m j)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m j(l\u001b[33m,\u001b[39m{clientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m \u001b[33mT\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mT\u001b[39m(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m le)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)}\u001b[36mthrow\u001b[39m r\u001b[33m.\u001b[39mclientVersion\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mr}sanitizeMessage(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m!==\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m?\u001b[39m(\u001b[35m0\u001b[39m\u001b[33m,\u001b[39m\u001b[33mXl\u001b[39m\u001b[33m.\u001b[39m\u001b[36mdefault\u001b[39m)(r)\u001b[33m:\u001b[39mr}unpack(r\u001b[33m,\u001b[39mt\u001b[33m,\u001b[39mn){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m||\u001b[39m(r\u001b[33m.\u001b[39mdata\u001b[33m&&\u001b[39m(r\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mdata)\u001b[33m,\u001b[39m\u001b[33m!\u001b[39mr))\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mvalues(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ms\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mfilter(u\u001b[33m=>\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"select\"\u001b[39m\u001b[33m&&\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"include\"\u001b[39m)\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mio(o\u001b[33m,\u001b[39ms)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39mi\u001b[33m===\u001b[39m\u001b[32m\"queryRaw\"\u001b[39m\u001b[33m?\u001b[39mzn(a)\u001b[33m:\u001b[39m\u001b[33mTr\u001b[39m(a)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m?\u001b[39mn(l)\u001b[33m:\u001b[39ml}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"RequestHandler\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mIf\u001b[39m(e){\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39m{isolationLevel\u001b[33m:\u001b[39me\u001b[33m.\u001b[39misolationLevel}}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39meu(e)}\u001b[33m;\u001b[39m_e(e\u001b[33m,\u001b[39m\u001b[32m\"Unknown transaction kind\"\u001b[39m)}}\u001b[36mfunction\u001b[39m eu(e){\u001b[36mreturn\u001b[39m{id\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39mpayload\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mpayload}}\u001b[36mfunction\u001b[39m kf(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m \u001b[33mKn\u001b[39m(e)\u001b[33m&&\u001b[39mr\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m!==\u001b[39mr\u001b[33m.\u001b[39mindex}\u001b[36mfunction\u001b[39m \u001b[33mOf\u001b[39m(e){\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2009\"\u001b[39m\u001b[33m||\u001b[39me\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2012\"\u001b[39m}\u001b[36mfunction\u001b[39m ru(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"Union\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"Union\"\u001b[39m\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39me\u001b[33m.\u001b[39merrors\u001b[33m.\u001b[39mmap(ru)}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e\u001b[33m.\u001b[39mselectionPath)){\u001b[36mlet\u001b[39m[\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr]\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mselectionPath\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[33m...\u001b[39me\u001b[33m,\u001b[39mselectionPath\u001b[33m:\u001b[39mr}}\u001b[36mreturn\u001b[39m e}\u001b[36mvar\u001b[39m tu\u001b[33m=\u001b[39m\u001b[33mSl\u001b[39m\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m au\u001b[33m=\u001b[39mk(\u001b[33mQi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mD\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mError\u001b[39m{constructor(r){\u001b[36msuper\u001b[39m(r\u001b[33m+\u001b[39m\u001b[32m`\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 125 |\u001b[39m \u001b[32mRead more at https://pris.ly/d/client-constructor`\u001b[39m)\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mname\u001b[33m=\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}}\u001b[33m;\u001b[39mx(\u001b[33mD\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m nu\u001b[33m=\u001b[39m[\u001b[32m\"datasources\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"datasourceUrl\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"errorFormat\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"adapter\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"log\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"transactionOptions\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"omit\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"__internal\"\u001b[39m]\u001b[33m,\u001b[39miu\u001b[33m=\u001b[39m[\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"colorless\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"minimal\"\u001b[39m]\u001b[33m,\u001b[39mou\u001b[33m=\u001b[39m[\u001b[32m\"info\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"warn\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"error\"\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mDf\u001b[39m\u001b[33m=\u001b[39m{datasources\u001b[33m:\u001b[39m(e\u001b[33m,\u001b[39m{datasourceNames\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m e\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for \"datasources\" provided to PrismaClient constructor`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[t\u001b[33m,\u001b[39mn]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(e)){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m.\u001b[39mincludes(t)){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mWr\u001b[39m(t\u001b[33m,\u001b[39mr)\u001b[33m||\u001b[39m\u001b[32m` Available datasources: ${r.join(\", \")}`\u001b[39m\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Unknown datasource ${t} provided to PrismaClient constructor.${i}`\u001b[39m)}\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m n\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(n))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 126 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m\u001b[36mtypeof\u001b[39m n\u001b[33m==\u001b[39m\u001b[32m\"object\"\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[i\u001b[33m,\u001b[39mo]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(n)){\u001b[36mif\u001b[39m(i\u001b[33m!==\u001b[39m\u001b[32m\"url\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 127 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m o\u001b[33m!=\u001b[39m\u001b[32m\"string\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(o)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:7649)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError [as handleAndLogRequestError] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6784)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleAndLogRequestError [as request] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6491)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat l (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:133:9778)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/auth-flow.test.ts\u001b[39m\u001b[0m\u001b[2m:41:5)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAuthentication Flow Testing - Phase 2.3 › Basic Authentication › should create API connection with Basic authentication\u001b[39m\u001b[22m\n\n    PrismaClientUnknownRequestError: \n    Invalid `prisma.apiConnection.deleteMany()` invocation in\n    /Users/connorbowen/apiq-mvp/tests/integration/api/auth-flow.test.ts:41:32\n\n      38     }\n      39   }\n      40 });\n    → 41 await prisma.apiConnection.deleteMany(\n    Error occurred during query execution:\n    ConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28328 waits for AccessExclusiveLock on tuple (0,19) of relation 33235 of database 21992; blocked by process 28324.\\nProcess 28324 waits for ShareLock on transaction 54200; blocked by process 28404.\\nProcess 28404 waits for ShareLock on transaction 54205; blocked by process 28326.\\nProcess 28326 waits for AccessExclusiveLock on tuple (0,19) of relation 33235 of database 21992; blocked by process 28328.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 122 |\u001b[39m \u001b[32m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 123 |\u001b[39m \u001b[32mMore Information: https://pris.ly/d/execute-raw\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 124 |\u001b[39m \u001b[32m`\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mCo\u001b[39m\u001b[33m=\u001b[39m({clientMethod\u001b[33m:\u001b[39me\u001b[33m,\u001b[39mactiveProvider\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39mt\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[32m\"\"\u001b[39m\u001b[33m,\u001b[39mi\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mFn\u001b[39m(t))n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(t)){\u001b[36mlet\u001b[39m[o\u001b[33m,\u001b[39m\u001b[33m...\u001b[39ms]\u001b[33m=\u001b[39mt\u001b[33m;\u001b[39mn\u001b[33m=\u001b[39mo\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(s\u001b[33m||\u001b[39m[])\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}}\u001b[36melse\u001b[39m \u001b[36mswitch\u001b[39m(r){\u001b[36mcase\u001b[39m\u001b[32m\"sqlite\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"mysql\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"cockroachdb\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgresql\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgres\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mtext\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"sqlserver\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mjl(t)\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`The ${r} provider does not support ${e}`\u001b[39m)}\u001b[36mreturn\u001b[39m i\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mvalues\u001b[33m?\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n}, ${i.values})`\u001b[39m)\u001b[33m:\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n})`\u001b[39m)\u001b[33m,\u001b[39m{query\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mparameters\u001b[33m:\u001b[39mi}}\u001b[33m,\u001b[39m\u001b[33mWl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e\u001b[33m.\u001b[39mstrings\u001b[33m,\u001b[39m\u001b[33m...\u001b[39me\u001b[33m.\u001b[39mvalues]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mlet\u001b[39m[r\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mt]\u001b[33m=\u001b[39me\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m oe(r\u001b[33m,\u001b[39mt)}}\u001b[33m,\u001b[39m\u001b[33mJl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mreturn\u001b[39m e[\u001b[35m0\u001b[39m]}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mAo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mfunction\u001b[39m(t\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m(s\u001b[33m=\u001b[39me)\u001b[33m=>\u001b[39m{\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m s\u001b[33m===\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m||\u001b[39ms\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33m=\u001b[39m\u001b[33mHl\u001b[39m(t(s))\u001b[33m:\u001b[39m\u001b[33mHl\u001b[39m(t(s))}\u001b[36mcatch\u001b[39m(a){\u001b[36mreturn\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mreject(a)}}\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[36mget\u001b[39m spec(){\u001b[36mreturn\u001b[39m n}\u001b[33m,\u001b[39mthen(s\u001b[33m,\u001b[39ma){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39mthen(s\u001b[33m,\u001b[39ma)}\u001b[33m,\u001b[39m\u001b[36mcatch\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(s)}\u001b[33m,\u001b[39m\u001b[36mfinally\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mfinally\u001b[39m(s)}\u001b[33m,\u001b[39mrequestTransaction(s){\u001b[36mlet\u001b[39m a\u001b[33m=\u001b[39mo(s)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m a\u001b[33m.\u001b[39mrequestTransaction\u001b[33m?\u001b[39ma\u001b[33m.\u001b[39mrequestTransaction(s)\u001b[33m:\u001b[39ma}\u001b[33m,\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag]\u001b[33m:\u001b[39m\u001b[32m\"PrismaPromise\"\u001b[39m}}}\u001b[36mfunction\u001b[39m \u001b[33mHl\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mthen\u001b[33m==\u001b[39m\u001b[32m\"function\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39m\u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mresolve(e)}\u001b[36mvar\u001b[39m \u001b[33mTf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mEi\u001b[39m\u001b[33m.\u001b[39msplit(\u001b[32m\".\"\u001b[39m)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mSf\u001b[39m\u001b[33m=\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m}\u001b[33m,\u001b[39mgetTraceParent(){\u001b[36mreturn\u001b[39m\u001b[32m\"00-10-10-00\"\u001b[39m}\u001b[33m,\u001b[39mdispatchEngineSpans(){}\u001b[33m,\u001b[39mgetActiveContext(){}\u001b[33m,\u001b[39mrunInChildSpan(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m r()}}\u001b[33m,\u001b[39m\u001b[33mIo\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39misEnabled()}getTraceParent(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetTraceParent(r)}dispatchEngineSpans(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mdispatchEngineSpans(r)}getActiveContext(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetActiveContext()}runInChildSpan(r\u001b[33m,\u001b[39mt){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mrunInChildSpan(r\u001b[33m,\u001b[39mt)}getGlobalTracingHelper(){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39mglobalThis[\u001b[32m`V${Tf}_PRISMA_INSTRUMENTATION`\u001b[39m]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39mglobalThis\u001b[33m.\u001b[39m\u001b[33mPRISMA_INSTRUMENTATION\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33mSf\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKl\u001b[39m(){\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mIo\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mYl\u001b[39m(e\u001b[33m,\u001b[39mr\u001b[33m=\u001b[39m()\u001b[33m=>\u001b[39m{}){\u001b[36mlet\u001b[39m t\u001b[33m,\u001b[39mn\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m(i\u001b[33m=>\u001b[39mt\u001b[33m=\u001b[39mi)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{then(i){\u001b[36mreturn\u001b[39m\u001b[33m--\u001b[39me\u001b[33m===\u001b[39m\u001b[35m0\u001b[39m\u001b[33m&&\u001b[39mt(r())\u001b[33m,\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m.\u001b[39m(n)}}}\u001b[36mfunction\u001b[39m zl(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mreduce((r\u001b[33m,\u001b[39mt)\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[36mtypeof\u001b[39m t\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mlevel\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m===\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m?\u001b[39mr\u001b[33m:\u001b[39mr\u001b[33m&&\u001b[39m(t\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m||\u001b[39mr\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m)\u001b[33m?\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m:\u001b[39mn}\u001b[33m,\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mHn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{_middlewares\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39muse(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mpush(r)}\u001b[36mget\u001b[39m(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}has(r){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[33m!\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}length(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mlength}}\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mXl\u001b[39m\u001b[33m=\u001b[39mk(\u001b[33mOi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKn\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m==\u001b[39m\u001b[32m\"number\"\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mZl\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUnique\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUniqueOrThrow\"\u001b[39m)\u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mmodelName\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(e\u001b[33m.\u001b[39mmodelName)\u001b[33m,\u001b[39me\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39mselection))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mjoin(\u001b[32m\"\"\u001b[39m)}\u001b[36mfunction\u001b[39m ko(e){\u001b[36mreturn\u001b[39m\u001b[32m`(${Object.keys(e).sort().map(t=>{let n=e[t];return typeof n==\"object\"&&n!==null?`(${t} ${ko(n)})`:t}).join(\" \")})`\u001b[39m}\u001b[36mvar\u001b[39m \u001b[33mRf\u001b[39m\u001b[33m=\u001b[39m{aggregate\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39maggregateRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mcreateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mexecuteRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mfindFirst\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindFirstOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUnique\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUniqueOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mgroupBy\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mqueryRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mrunCommandRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupsertOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mOo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[33mRf\u001b[39m[e]}\u001b[36mvar\u001b[39m \u001b[33mYn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{constructor(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches\u001b[33m=\u001b[39m{}}batches\u001b[33m;\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m;\u001b[39mrequest(r){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchBy(r)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m t\u001b[33m?\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mprocess\u001b[33m.\u001b[39mnextTick(()\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdispatchBatches()\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m})))\u001b[33m,\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m.\u001b[39mpush({request\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mresolve\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mreject\u001b[33m:\u001b[39mi})}))\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(r)}dispatchBatches(){\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m r \u001b[36min\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m;\u001b[39m\u001b[36mdelete\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m,\u001b[39mt\u001b[33m.\u001b[39mlength\u001b[33m===\u001b[39m\u001b[35m1\u001b[39m\u001b[33m?\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mrequest)\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)\u001b[33m:\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mresolve(n)})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)})\u001b[33m:\u001b[39m(t\u001b[33m.\u001b[39msort((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchOrder(n\u001b[33m.\u001b[39mrequest\u001b[33m,\u001b[39mi\u001b[33m.\u001b[39mrequest))\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchLoader(t\u001b[33m.\u001b[39mmap(n\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mrequest))\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m o\u001b[33m=\u001b[39mn[i]\u001b[33m;\u001b[39mo \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[i]\u001b[33m.\u001b[39mreject(o)\u001b[33m:\u001b[39mt[i]\u001b[33m.\u001b[39mresolve(o)}})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)}))}}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"DataLoader\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m mr(e\u001b[33m,\u001b[39mr){\u001b[36mif\u001b[39m(r\u001b[33m===\u001b[39m\u001b[36mnull\u001b[39m)\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mswitch\u001b[39m(e){\u001b[36mcase\u001b[39m\u001b[32m\"bigint\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[33mBigInt\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes\"\u001b[39m\u001b[33m:\u001b[39m{\u001b[36mlet\u001b[39m{buffer\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mbyteOffset\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mbyteLength\u001b[33m:\u001b[39mi}\u001b[33m=\u001b[39m\u001b[33mBuffer\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m(r\u001b[33m,\u001b[39m\u001b[32m\"base64\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mUint8Array\u001b[39m(t\u001b[33m,\u001b[39mn\u001b[33m,\u001b[39mi)}\u001b[36mcase\u001b[39m\u001b[32m\"decimal\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mPe\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(\u001b[32m`1970-01-01T${r}Z`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bigint-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bigint\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bytes\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"decimal-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"decimal\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"datetime\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"date\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"time\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r}}\u001b[36mfunction\u001b[39m zn(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39m\u001b[33mCf\u001b[39m(e)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mn\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mrows\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mn\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mrows[n]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m{\u001b[33m...\u001b[39mt}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m s\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39ms\u001b[33m<\u001b[39m\u001b[33mi\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39ms\u001b[33m++\u001b[39m)o[e\u001b[33m.\u001b[39mcolumns[s]]\u001b[33m=\u001b[39mmr(e\u001b[33m.\u001b[39mtypes[s]\u001b[33m,\u001b[39mi[s])\u001b[33m;\u001b[39mr\u001b[33m.\u001b[39mpush(o)}\u001b[36mreturn\u001b[39m r}\u001b[36mfunction\u001b[39m \u001b[33mCf\u001b[39m(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m{}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mt\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mcolumns\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mt\u001b[33m++\u001b[39m)r[e\u001b[33m.\u001b[39mcolumns[t]]\u001b[33m=\u001b[39m\u001b[36mnull\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r}\u001b[36mvar\u001b[39m \u001b[33mAf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mN\u001b[39m(\u001b[32m\"prisma:client:request_handler\"\u001b[39m)\u001b[33m,\u001b[39m\u001b[33mZn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{client\u001b[33m;\u001b[39mdataloader\u001b[33m;\u001b[39mlogEmitter\u001b[33m;\u001b[39mconstructor(r\u001b[33m,\u001b[39mt){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m=\u001b[39mt\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m=\u001b[39mr\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mYn\u001b[39m({batchLoader\u001b[33m:\u001b[39mol(\u001b[36masync\u001b[39m({requests\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi})\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m{transaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39motelParentCtx\u001b[33m:\u001b[39ms}\u001b[33m=\u001b[39mn[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mmap(p\u001b[33m=>\u001b[39mp\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent(s)\u001b[33m,\u001b[39mu\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39msome(p\u001b[33m=>\u001b[39m\u001b[33mOo\u001b[39m(p\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction))\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m(\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequestBatch(a\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39ml\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39m\u001b[33mIf\u001b[39m(o)\u001b[33m,\u001b[39mcontainsWrite\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi}))\u001b[33m.\u001b[39mmap((p\u001b[33m,\u001b[39md)\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(p \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mreturn\u001b[39m p\u001b[33m;\u001b[39m\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n[d]\u001b[33m,\u001b[39mp)}\u001b[36mcatch\u001b[39m(f){\u001b[36mreturn\u001b[39m f}})})\u001b[33m,\u001b[39msingleLoader\u001b[33m:\u001b[39m\u001b[36masync\u001b[39m n\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39meu(n\u001b[33m.\u001b[39mtransaction)\u001b[33m:\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequest(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent()\u001b[33m,\u001b[39minteractiveTransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39misWrite\u001b[33m:\u001b[39m\u001b[33mOo\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction)\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mn\u001b[33m.\u001b[39mcustomDataProxyFetch})\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n\u001b[33m,\u001b[39mo)}\u001b[33m,\u001b[39mbatchBy\u001b[33m:\u001b[39mn\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mid\u001b[33m?\u001b[39m\u001b[32m`transaction-${n.transaction.id}`\u001b[39m\u001b[33m:\u001b[39m\u001b[33mZl\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39mbatchOrder(n\u001b[33m,\u001b[39mi){\u001b[36mreturn\u001b[39m n\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m?\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m-\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m:\u001b[39m\u001b[35m0\u001b[39m}})}\u001b[36masync\u001b[39m request(r){\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m.\u001b[39mrequest(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mlet\u001b[39m{clientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma}\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleAndLogRequestError({error\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mglobalOmit})}}mapQueryEngineResult({dataPath\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39munpacker\u001b[33m:\u001b[39mt}\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mdata\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39munpack(i\u001b[33m,\u001b[39mr\u001b[33m,\u001b[39mt)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mPRISMA_CLIENT_GET_TIME\u001b[39m\u001b[33m?\u001b[39m{data\u001b[33m:\u001b[39mo}\u001b[33m:\u001b[39mo}handleAndLogRequestError(r){\u001b[36mtry\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleRequestError(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mthrow\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m.\u001b[39memit(\u001b[32m\"error\"\u001b[39m\u001b[33m,\u001b[39m{message\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mmessage\u001b[33m,\u001b[39mtarget\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mclientMethod\u001b[33m,\u001b[39mtimestamp\u001b[33m:\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m})\u001b[33m,\u001b[39mt}}handleRequestError({error\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma}){\u001b[36mif\u001b[39m(\u001b[33mAf\u001b[39m(r)\u001b[33m,\u001b[39mkf(r\u001b[33m,\u001b[39mi))\u001b[36mthrow\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m z\u001b[33m&&\u001b[39m\u001b[33mOf\u001b[39m(r)){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39mru(r\u001b[33m.\u001b[39mmeta)\u001b[33m;\u001b[39mkn({args\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39m[u]\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39merrorFormat\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma})}\u001b[36mlet\u001b[39m l\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mmessage\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m(l\u001b[33m=\u001b[39mwn({callsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39misPanic\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39misPanic\u001b[33m,\u001b[39mshowColors\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m===\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39mmessage\u001b[33m:\u001b[39ml}))\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39msanitizeMessage(l)\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mcode){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39ms\u001b[33m?\u001b[39m{modelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr\u001b[33m.\u001b[39mmeta}\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mmeta\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m z(l\u001b[33m,\u001b[39m{code\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mcode\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mmeta\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})}\u001b[36melse\u001b[39m{\u001b[36mif\u001b[39m(r\u001b[33m.\u001b[39misPanic)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m j)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m j(l\u001b[33m,\u001b[39m{clientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m \u001b[33mT\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mT\u001b[39m(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m le)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)}\u001b[36mthrow\u001b[39m r\u001b[33m.\u001b[39mclientVersion\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mr}sanitizeMessage(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m!==\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m?\u001b[39m(\u001b[35m0\u001b[39m\u001b[33m,\u001b[39m\u001b[33mXl\u001b[39m\u001b[33m.\u001b[39m\u001b[36mdefault\u001b[39m)(r)\u001b[33m:\u001b[39mr}unpack(r\u001b[33m,\u001b[39mt\u001b[33m,\u001b[39mn){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m||\u001b[39m(r\u001b[33m.\u001b[39mdata\u001b[33m&&\u001b[39m(r\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mdata)\u001b[33m,\u001b[39m\u001b[33m!\u001b[39mr))\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mvalues(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ms\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mfilter(u\u001b[33m=>\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"select\"\u001b[39m\u001b[33m&&\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"include\"\u001b[39m)\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mio(o\u001b[33m,\u001b[39ms)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39mi\u001b[33m===\u001b[39m\u001b[32m\"queryRaw\"\u001b[39m\u001b[33m?\u001b[39mzn(a)\u001b[33m:\u001b[39m\u001b[33mTr\u001b[39m(a)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m?\u001b[39mn(l)\u001b[33m:\u001b[39ml}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"RequestHandler\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mIf\u001b[39m(e){\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39m{isolationLevel\u001b[33m:\u001b[39me\u001b[33m.\u001b[39misolationLevel}}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39meu(e)}\u001b[33m;\u001b[39m_e(e\u001b[33m,\u001b[39m\u001b[32m\"Unknown transaction kind\"\u001b[39m)}}\u001b[36mfunction\u001b[39m eu(e){\u001b[36mreturn\u001b[39m{id\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39mpayload\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mpayload}}\u001b[36mfunction\u001b[39m kf(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m \u001b[33mKn\u001b[39m(e)\u001b[33m&&\u001b[39mr\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m!==\u001b[39mr\u001b[33m.\u001b[39mindex}\u001b[36mfunction\u001b[39m \u001b[33mOf\u001b[39m(e){\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2009\"\u001b[39m\u001b[33m||\u001b[39me\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2012\"\u001b[39m}\u001b[36mfunction\u001b[39m ru(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"Union\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"Union\"\u001b[39m\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39me\u001b[33m.\u001b[39merrors\u001b[33m.\u001b[39mmap(ru)}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e\u001b[33m.\u001b[39mselectionPath)){\u001b[36mlet\u001b[39m[\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr]\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mselectionPath\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[33m...\u001b[39me\u001b[33m,\u001b[39mselectionPath\u001b[33m:\u001b[39mr}}\u001b[36mreturn\u001b[39m e}\u001b[36mvar\u001b[39m tu\u001b[33m=\u001b[39m\u001b[33mSl\u001b[39m\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m au\u001b[33m=\u001b[39mk(\u001b[33mQi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mD\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mError\u001b[39m{constructor(r){\u001b[36msuper\u001b[39m(r\u001b[33m+\u001b[39m\u001b[32m`\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 125 |\u001b[39m \u001b[32mRead more at https://pris.ly/d/client-constructor`\u001b[39m)\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mname\u001b[33m=\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}}\u001b[33m;\u001b[39mx(\u001b[33mD\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m nu\u001b[33m=\u001b[39m[\u001b[32m\"datasources\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"datasourceUrl\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"errorFormat\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"adapter\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"log\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"transactionOptions\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"omit\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"__internal\"\u001b[39m]\u001b[33m,\u001b[39miu\u001b[33m=\u001b[39m[\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"colorless\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"minimal\"\u001b[39m]\u001b[33m,\u001b[39mou\u001b[33m=\u001b[39m[\u001b[32m\"info\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"warn\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"error\"\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mDf\u001b[39m\u001b[33m=\u001b[39m{datasources\u001b[33m:\u001b[39m(e\u001b[33m,\u001b[39m{datasourceNames\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m e\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for \"datasources\" provided to PrismaClient constructor`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[t\u001b[33m,\u001b[39mn]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(e)){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m.\u001b[39mincludes(t)){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mWr\u001b[39m(t\u001b[33m,\u001b[39mr)\u001b[33m||\u001b[39m\u001b[32m` Available datasources: ${r.join(\", \")}`\u001b[39m\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Unknown datasource ${t} provided to PrismaClient constructor.${i}`\u001b[39m)}\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m n\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(n))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 126 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m\u001b[36mtypeof\u001b[39m n\u001b[33m==\u001b[39m\u001b[32m\"object\"\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[i\u001b[33m,\u001b[39mo]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(n)){\u001b[36mif\u001b[39m(i\u001b[33m!==\u001b[39m\u001b[32m\"url\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 127 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m o\u001b[33m!=\u001b[39m\u001b[32m\"string\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(o)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:7649)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError [as handleAndLogRequestError] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6784)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleAndLogRequestError [as request] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6491)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat l (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:133:9778)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/auth-flow.test.ts\u001b[39m\u001b[0m\u001b[2m:41:5)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAuthentication Flow Testing - Phase 2.3 › Basic Authentication › should store and retrieve Basic auth credentials securely\u001b[39m\u001b[22m\n\n    PrismaClientUnknownRequestError: \n    Invalid `prisma.apiConnection.deleteMany()` invocation in\n    /Users/connorbowen/apiq-mvp/tests/integration/api/auth-flow.test.ts:41:32\n\n      38     }\n      39   }\n      40 });\n    → 41 await prisma.apiConnection.deleteMany(\n    Error occurred during query execution:\n    ConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28328 waits for AccessExclusiveLock on tuple (0,19) of relation 33235 of database 21992; blocked by process 28323.\\nProcess 28323 waits for ShareLock on transaction 54201; blocked by process 28324.\\nProcess 28324 waits for ShareLock on transaction 54210; blocked by process 28326.\\nProcess 28326 waits for AccessExclusiveLock on tuple (0,19) of relation 33235 of database 21992; blocked by process 28328.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 122 |\u001b[39m \u001b[32m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 123 |\u001b[39m \u001b[32mMore Information: https://pris.ly/d/execute-raw\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 124 |\u001b[39m \u001b[32m`\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mCo\u001b[39m\u001b[33m=\u001b[39m({clientMethod\u001b[33m:\u001b[39me\u001b[33m,\u001b[39mactiveProvider\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39mt\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[32m\"\"\u001b[39m\u001b[33m,\u001b[39mi\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mFn\u001b[39m(t))n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(t)){\u001b[36mlet\u001b[39m[o\u001b[33m,\u001b[39m\u001b[33m...\u001b[39ms]\u001b[33m=\u001b[39mt\u001b[33m;\u001b[39mn\u001b[33m=\u001b[39mo\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(s\u001b[33m||\u001b[39m[])\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}}\u001b[36melse\u001b[39m \u001b[36mswitch\u001b[39m(r){\u001b[36mcase\u001b[39m\u001b[32m\"sqlite\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"mysql\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"cockroachdb\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgresql\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgres\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mtext\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"sqlserver\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mjl(t)\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`The ${r} provider does not support ${e}`\u001b[39m)}\u001b[36mreturn\u001b[39m i\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mvalues\u001b[33m?\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n}, ${i.values})`\u001b[39m)\u001b[33m:\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n})`\u001b[39m)\u001b[33m,\u001b[39m{query\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mparameters\u001b[33m:\u001b[39mi}}\u001b[33m,\u001b[39m\u001b[33mWl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e\u001b[33m.\u001b[39mstrings\u001b[33m,\u001b[39m\u001b[33m...\u001b[39me\u001b[33m.\u001b[39mvalues]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mlet\u001b[39m[r\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mt]\u001b[33m=\u001b[39me\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m oe(r\u001b[33m,\u001b[39mt)}}\u001b[33m,\u001b[39m\u001b[33mJl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mreturn\u001b[39m e[\u001b[35m0\u001b[39m]}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mAo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mfunction\u001b[39m(t\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m(s\u001b[33m=\u001b[39me)\u001b[33m=>\u001b[39m{\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m s\u001b[33m===\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m||\u001b[39ms\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33m=\u001b[39m\u001b[33mHl\u001b[39m(t(s))\u001b[33m:\u001b[39m\u001b[33mHl\u001b[39m(t(s))}\u001b[36mcatch\u001b[39m(a){\u001b[36mreturn\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mreject(a)}}\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[36mget\u001b[39m spec(){\u001b[36mreturn\u001b[39m n}\u001b[33m,\u001b[39mthen(s\u001b[33m,\u001b[39ma){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39mthen(s\u001b[33m,\u001b[39ma)}\u001b[33m,\u001b[39m\u001b[36mcatch\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(s)}\u001b[33m,\u001b[39m\u001b[36mfinally\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mfinally\u001b[39m(s)}\u001b[33m,\u001b[39mrequestTransaction(s){\u001b[36mlet\u001b[39m a\u001b[33m=\u001b[39mo(s)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m a\u001b[33m.\u001b[39mrequestTransaction\u001b[33m?\u001b[39ma\u001b[33m.\u001b[39mrequestTransaction(s)\u001b[33m:\u001b[39ma}\u001b[33m,\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag]\u001b[33m:\u001b[39m\u001b[32m\"PrismaPromise\"\u001b[39m}}}\u001b[36mfunction\u001b[39m \u001b[33mHl\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mthen\u001b[33m==\u001b[39m\u001b[32m\"function\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39m\u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mresolve(e)}\u001b[36mvar\u001b[39m \u001b[33mTf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mEi\u001b[39m\u001b[33m.\u001b[39msplit(\u001b[32m\".\"\u001b[39m)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mSf\u001b[39m\u001b[33m=\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m}\u001b[33m,\u001b[39mgetTraceParent(){\u001b[36mreturn\u001b[39m\u001b[32m\"00-10-10-00\"\u001b[39m}\u001b[33m,\u001b[39mdispatchEngineSpans(){}\u001b[33m,\u001b[39mgetActiveContext(){}\u001b[33m,\u001b[39mrunInChildSpan(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m r()}}\u001b[33m,\u001b[39m\u001b[33mIo\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39misEnabled()}getTraceParent(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetTraceParent(r)}dispatchEngineSpans(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mdispatchEngineSpans(r)}getActiveContext(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetActiveContext()}runInChildSpan(r\u001b[33m,\u001b[39mt){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mrunInChildSpan(r\u001b[33m,\u001b[39mt)}getGlobalTracingHelper(){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39mglobalThis[\u001b[32m`V${Tf}_PRISMA_INSTRUMENTATION`\u001b[39m]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39mglobalThis\u001b[33m.\u001b[39m\u001b[33mPRISMA_INSTRUMENTATION\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33mSf\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKl\u001b[39m(){\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mIo\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mYl\u001b[39m(e\u001b[33m,\u001b[39mr\u001b[33m=\u001b[39m()\u001b[33m=>\u001b[39m{}){\u001b[36mlet\u001b[39m t\u001b[33m,\u001b[39mn\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m(i\u001b[33m=>\u001b[39mt\u001b[33m=\u001b[39mi)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{then(i){\u001b[36mreturn\u001b[39m\u001b[33m--\u001b[39me\u001b[33m===\u001b[39m\u001b[35m0\u001b[39m\u001b[33m&&\u001b[39mt(r())\u001b[33m,\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m.\u001b[39m(n)}}}\u001b[36mfunction\u001b[39m zl(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mreduce((r\u001b[33m,\u001b[39mt)\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[36mtypeof\u001b[39m t\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mlevel\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m===\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m?\u001b[39mr\u001b[33m:\u001b[39mr\u001b[33m&&\u001b[39m(t\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m||\u001b[39mr\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m)\u001b[33m?\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m:\u001b[39mn}\u001b[33m,\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mHn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{_middlewares\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39muse(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mpush(r)}\u001b[36mget\u001b[39m(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}has(r){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[33m!\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}length(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mlength}}\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mXl\u001b[39m\u001b[33m=\u001b[39mk(\u001b[33mOi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKn\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m==\u001b[39m\u001b[32m\"number\"\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mZl\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUnique\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUniqueOrThrow\"\u001b[39m)\u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mmodelName\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(e\u001b[33m.\u001b[39mmodelName)\u001b[33m,\u001b[39me\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39mselection))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mjoin(\u001b[32m\"\"\u001b[39m)}\u001b[36mfunction\u001b[39m ko(e){\u001b[36mreturn\u001b[39m\u001b[32m`(${Object.keys(e).sort().map(t=>{let n=e[t];return typeof n==\"object\"&&n!==null?`(${t} ${ko(n)})`:t}).join(\" \")})`\u001b[39m}\u001b[36mvar\u001b[39m \u001b[33mRf\u001b[39m\u001b[33m=\u001b[39m{aggregate\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39maggregateRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mcreateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mexecuteRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mfindFirst\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindFirstOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUnique\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUniqueOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mgroupBy\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mqueryRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mrunCommandRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupsertOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mOo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[33mRf\u001b[39m[e]}\u001b[36mvar\u001b[39m \u001b[33mYn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{constructor(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches\u001b[33m=\u001b[39m{}}batches\u001b[33m;\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m;\u001b[39mrequest(r){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchBy(r)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m t\u001b[33m?\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mprocess\u001b[33m.\u001b[39mnextTick(()\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdispatchBatches()\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m})))\u001b[33m,\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m.\u001b[39mpush({request\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mresolve\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mreject\u001b[33m:\u001b[39mi})}))\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(r)}dispatchBatches(){\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m r \u001b[36min\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m;\u001b[39m\u001b[36mdelete\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m,\u001b[39mt\u001b[33m.\u001b[39mlength\u001b[33m===\u001b[39m\u001b[35m1\u001b[39m\u001b[33m?\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mrequest)\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)\u001b[33m:\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mresolve(n)})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)})\u001b[33m:\u001b[39m(t\u001b[33m.\u001b[39msort((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchOrder(n\u001b[33m.\u001b[39mrequest\u001b[33m,\u001b[39mi\u001b[33m.\u001b[39mrequest))\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchLoader(t\u001b[33m.\u001b[39mmap(n\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mrequest))\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m o\u001b[33m=\u001b[39mn[i]\u001b[33m;\u001b[39mo \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[i]\u001b[33m.\u001b[39mreject(o)\u001b[33m:\u001b[39mt[i]\u001b[33m.\u001b[39mresolve(o)}})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)}))}}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"DataLoader\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m mr(e\u001b[33m,\u001b[39mr){\u001b[36mif\u001b[39m(r\u001b[33m===\u001b[39m\u001b[36mnull\u001b[39m)\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mswitch\u001b[39m(e){\u001b[36mcase\u001b[39m\u001b[32m\"bigint\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[33mBigInt\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes\"\u001b[39m\u001b[33m:\u001b[39m{\u001b[36mlet\u001b[39m{buffer\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mbyteOffset\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mbyteLength\u001b[33m:\u001b[39mi}\u001b[33m=\u001b[39m\u001b[33mBuffer\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m(r\u001b[33m,\u001b[39m\u001b[32m\"base64\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mUint8Array\u001b[39m(t\u001b[33m,\u001b[39mn\u001b[33m,\u001b[39mi)}\u001b[36mcase\u001b[39m\u001b[32m\"decimal\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mPe\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(\u001b[32m`1970-01-01T${r}Z`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bigint-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bigint\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bytes\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"decimal-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"decimal\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"datetime\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"date\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"time\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r}}\u001b[36mfunction\u001b[39m zn(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39m\u001b[33mCf\u001b[39m(e)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mn\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mrows\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mn\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mrows[n]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m{\u001b[33m...\u001b[39mt}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m s\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39ms\u001b[33m<\u001b[39m\u001b[33mi\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39ms\u001b[33m++\u001b[39m)o[e\u001b[33m.\u001b[39mcolumns[s]]\u001b[33m=\u001b[39mmr(e\u001b[33m.\u001b[39mtypes[s]\u001b[33m,\u001b[39mi[s])\u001b[33m;\u001b[39mr\u001b[33m.\u001b[39mpush(o)}\u001b[36mreturn\u001b[39m r}\u001b[36mfunction\u001b[39m \u001b[33mCf\u001b[39m(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m{}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mt\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mcolumns\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mt\u001b[33m++\u001b[39m)r[e\u001b[33m.\u001b[39mcolumns[t]]\u001b[33m=\u001b[39m\u001b[36mnull\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r}\u001b[36mvar\u001b[39m \u001b[33mAf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mN\u001b[39m(\u001b[32m\"prisma:client:request_handler\"\u001b[39m)\u001b[33m,\u001b[39m\u001b[33mZn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{client\u001b[33m;\u001b[39mdataloader\u001b[33m;\u001b[39mlogEmitter\u001b[33m;\u001b[39mconstructor(r\u001b[33m,\u001b[39mt){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m=\u001b[39mt\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m=\u001b[39mr\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mYn\u001b[39m({batchLoader\u001b[33m:\u001b[39mol(\u001b[36masync\u001b[39m({requests\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi})\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m{transaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39motelParentCtx\u001b[33m:\u001b[39ms}\u001b[33m=\u001b[39mn[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mmap(p\u001b[33m=>\u001b[39mp\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent(s)\u001b[33m,\u001b[39mu\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39msome(p\u001b[33m=>\u001b[39m\u001b[33mOo\u001b[39m(p\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction))\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m(\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequestBatch(a\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39ml\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39m\u001b[33mIf\u001b[39m(o)\u001b[33m,\u001b[39mcontainsWrite\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi}))\u001b[33m.\u001b[39mmap((p\u001b[33m,\u001b[39md)\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(p \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mreturn\u001b[39m p\u001b[33m;\u001b[39m\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n[d]\u001b[33m,\u001b[39mp)}\u001b[36mcatch\u001b[39m(f){\u001b[36mreturn\u001b[39m f}})})\u001b[33m,\u001b[39msingleLoader\u001b[33m:\u001b[39m\u001b[36masync\u001b[39m n\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39meu(n\u001b[33m.\u001b[39mtransaction)\u001b[33m:\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequest(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent()\u001b[33m,\u001b[39minteractiveTransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39misWrite\u001b[33m:\u001b[39m\u001b[33mOo\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction)\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mn\u001b[33m.\u001b[39mcustomDataProxyFetch})\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n\u001b[33m,\u001b[39mo)}\u001b[33m,\u001b[39mbatchBy\u001b[33m:\u001b[39mn\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mid\u001b[33m?\u001b[39m\u001b[32m`transaction-${n.transaction.id}`\u001b[39m\u001b[33m:\u001b[39m\u001b[33mZl\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39mbatchOrder(n\u001b[33m,\u001b[39mi){\u001b[36mreturn\u001b[39m n\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m?\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m-\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m:\u001b[39m\u001b[35m0\u001b[39m}})}\u001b[36masync\u001b[39m request(r){\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m.\u001b[39mrequest(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mlet\u001b[39m{clientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma}\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleAndLogRequestError({error\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mglobalOmit})}}mapQueryEngineResult({dataPath\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39munpacker\u001b[33m:\u001b[39mt}\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mdata\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39munpack(i\u001b[33m,\u001b[39mr\u001b[33m,\u001b[39mt)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mPRISMA_CLIENT_GET_TIME\u001b[39m\u001b[33m?\u001b[39m{data\u001b[33m:\u001b[39mo}\u001b[33m:\u001b[39mo}handleAndLogRequestError(r){\u001b[36mtry\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleRequestError(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mthrow\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m.\u001b[39memit(\u001b[32m\"error\"\u001b[39m\u001b[33m,\u001b[39m{message\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mmessage\u001b[33m,\u001b[39mtarget\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mclientMethod\u001b[33m,\u001b[39mtimestamp\u001b[33m:\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m})\u001b[33m,\u001b[39mt}}handleRequestError({error\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma}){\u001b[36mif\u001b[39m(\u001b[33mAf\u001b[39m(r)\u001b[33m,\u001b[39mkf(r\u001b[33m,\u001b[39mi))\u001b[36mthrow\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m z\u001b[33m&&\u001b[39m\u001b[33mOf\u001b[39m(r)){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39mru(r\u001b[33m.\u001b[39mmeta)\u001b[33m;\u001b[39mkn({args\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39m[u]\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39merrorFormat\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma})}\u001b[36mlet\u001b[39m l\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mmessage\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m(l\u001b[33m=\u001b[39mwn({callsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39misPanic\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39misPanic\u001b[33m,\u001b[39mshowColors\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m===\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39mmessage\u001b[33m:\u001b[39ml}))\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39msanitizeMessage(l)\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mcode){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39ms\u001b[33m?\u001b[39m{modelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr\u001b[33m.\u001b[39mmeta}\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mmeta\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m z(l\u001b[33m,\u001b[39m{code\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mcode\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mmeta\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})}\u001b[36melse\u001b[39m{\u001b[36mif\u001b[39m(r\u001b[33m.\u001b[39misPanic)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m j)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m j(l\u001b[33m,\u001b[39m{clientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m \u001b[33mT\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mT\u001b[39m(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m le)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)}\u001b[36mthrow\u001b[39m r\u001b[33m.\u001b[39mclientVersion\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mr}sanitizeMessage(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m!==\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m?\u001b[39m(\u001b[35m0\u001b[39m\u001b[33m,\u001b[39m\u001b[33mXl\u001b[39m\u001b[33m.\u001b[39m\u001b[36mdefault\u001b[39m)(r)\u001b[33m:\u001b[39mr}unpack(r\u001b[33m,\u001b[39mt\u001b[33m,\u001b[39mn){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m||\u001b[39m(r\u001b[33m.\u001b[39mdata\u001b[33m&&\u001b[39m(r\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mdata)\u001b[33m,\u001b[39m\u001b[33m!\u001b[39mr))\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mvalues(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ms\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mfilter(u\u001b[33m=>\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"select\"\u001b[39m\u001b[33m&&\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"include\"\u001b[39m)\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mio(o\u001b[33m,\u001b[39ms)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39mi\u001b[33m===\u001b[39m\u001b[32m\"queryRaw\"\u001b[39m\u001b[33m?\u001b[39mzn(a)\u001b[33m:\u001b[39m\u001b[33mTr\u001b[39m(a)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m?\u001b[39mn(l)\u001b[33m:\u001b[39ml}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"RequestHandler\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mIf\u001b[39m(e){\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39m{isolationLevel\u001b[33m:\u001b[39me\u001b[33m.\u001b[39misolationLevel}}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39meu(e)}\u001b[33m;\u001b[39m_e(e\u001b[33m,\u001b[39m\u001b[32m\"Unknown transaction kind\"\u001b[39m)}}\u001b[36mfunction\u001b[39m eu(e){\u001b[36mreturn\u001b[39m{id\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39mpayload\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mpayload}}\u001b[36mfunction\u001b[39m kf(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m \u001b[33mKn\u001b[39m(e)\u001b[33m&&\u001b[39mr\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m!==\u001b[39mr\u001b[33m.\u001b[39mindex}\u001b[36mfunction\u001b[39m \u001b[33mOf\u001b[39m(e){\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2009\"\u001b[39m\u001b[33m||\u001b[39me\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2012\"\u001b[39m}\u001b[36mfunction\u001b[39m ru(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"Union\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"Union\"\u001b[39m\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39me\u001b[33m.\u001b[39merrors\u001b[33m.\u001b[39mmap(ru)}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e\u001b[33m.\u001b[39mselectionPath)){\u001b[36mlet\u001b[39m[\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr]\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mselectionPath\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[33m...\u001b[39me\u001b[33m,\u001b[39mselectionPath\u001b[33m:\u001b[39mr}}\u001b[36mreturn\u001b[39m e}\u001b[36mvar\u001b[39m tu\u001b[33m=\u001b[39m\u001b[33mSl\u001b[39m\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m au\u001b[33m=\u001b[39mk(\u001b[33mQi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mD\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mError\u001b[39m{constructor(r){\u001b[36msuper\u001b[39m(r\u001b[33m+\u001b[39m\u001b[32m`\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 125 |\u001b[39m \u001b[32mRead more at https://pris.ly/d/client-constructor`\u001b[39m)\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mname\u001b[33m=\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}}\u001b[33m;\u001b[39mx(\u001b[33mD\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m nu\u001b[33m=\u001b[39m[\u001b[32m\"datasources\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"datasourceUrl\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"errorFormat\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"adapter\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"log\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"transactionOptions\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"omit\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"__internal\"\u001b[39m]\u001b[33m,\u001b[39miu\u001b[33m=\u001b[39m[\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"colorless\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"minimal\"\u001b[39m]\u001b[33m,\u001b[39mou\u001b[33m=\u001b[39m[\u001b[32m\"info\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"warn\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"error\"\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mDf\u001b[39m\u001b[33m=\u001b[39m{datasources\u001b[33m:\u001b[39m(e\u001b[33m,\u001b[39m{datasourceNames\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m e\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for \"datasources\" provided to PrismaClient constructor`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[t\u001b[33m,\u001b[39mn]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(e)){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m.\u001b[39mincludes(t)){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mWr\u001b[39m(t\u001b[33m,\u001b[39mr)\u001b[33m||\u001b[39m\u001b[32m` Available datasources: ${r.join(\", \")}`\u001b[39m\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Unknown datasource ${t} provided to PrismaClient constructor.${i}`\u001b[39m)}\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m n\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(n))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 126 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m\u001b[36mtypeof\u001b[39m n\u001b[33m==\u001b[39m\u001b[32m\"object\"\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[i\u001b[33m,\u001b[39mo]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(n)){\u001b[36mif\u001b[39m(i\u001b[33m!==\u001b[39m\u001b[32m\"url\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 127 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m o\u001b[33m!=\u001b[39m\u001b[32m\"string\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(o)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:7649)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError [as handleAndLogRequestError] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6784)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleAndLogRequestError [as request] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6491)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat l (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:133:9778)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/auth-flow.test.ts\u001b[39m\u001b[0m\u001b[2m:41:5)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAuthentication Flow Testing - Phase 2.3 › OAuth2 Authentication › should create API connection with OAuth2 authentication\u001b[39m\u001b[22m\n\n    PrismaClientUnknownRequestError: \n    Invalid `prisma.apiConnection.deleteMany()` invocation in\n    /Users/connorbowen/apiq-mvp/tests/integration/api/auth-flow.test.ts:41:32\n\n      38     }\n      39   }\n      40 });\n    → 41 await prisma.apiConnection.deleteMany(\n    Error occurred during query execution:\n    ConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28328 waits for ShareLock on transaction 54221; blocked by process 28326.\\nProcess 28326 waits for AccessExclusiveLock on tuple (0,19) of relation 33235 of database 21992; blocked by process 28323.\\nProcess 28323 waits for ShareLock on transaction 54218; blocked by process 28328.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 122 |\u001b[39m \u001b[32m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 123 |\u001b[39m \u001b[32mMore Information: https://pris.ly/d/execute-raw\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 124 |\u001b[39m \u001b[32m`\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mCo\u001b[39m\u001b[33m=\u001b[39m({clientMethod\u001b[33m:\u001b[39me\u001b[33m,\u001b[39mactiveProvider\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39mt\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[32m\"\"\u001b[39m\u001b[33m,\u001b[39mi\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mFn\u001b[39m(t))n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(t)){\u001b[36mlet\u001b[39m[o\u001b[33m,\u001b[39m\u001b[33m...\u001b[39ms]\u001b[33m=\u001b[39mt\u001b[33m;\u001b[39mn\u001b[33m=\u001b[39mo\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(s\u001b[33m||\u001b[39m[])\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}}\u001b[36melse\u001b[39m \u001b[36mswitch\u001b[39m(r){\u001b[36mcase\u001b[39m\u001b[32m\"sqlite\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"mysql\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"cockroachdb\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgresql\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgres\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mtext\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"sqlserver\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mjl(t)\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`The ${r} provider does not support ${e}`\u001b[39m)}\u001b[36mreturn\u001b[39m i\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mvalues\u001b[33m?\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n}, ${i.values})`\u001b[39m)\u001b[33m:\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n})`\u001b[39m)\u001b[33m,\u001b[39m{query\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mparameters\u001b[33m:\u001b[39mi}}\u001b[33m,\u001b[39m\u001b[33mWl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e\u001b[33m.\u001b[39mstrings\u001b[33m,\u001b[39m\u001b[33m...\u001b[39me\u001b[33m.\u001b[39mvalues]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mlet\u001b[39m[r\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mt]\u001b[33m=\u001b[39me\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m oe(r\u001b[33m,\u001b[39mt)}}\u001b[33m,\u001b[39m\u001b[33mJl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mreturn\u001b[39m e[\u001b[35m0\u001b[39m]}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mAo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mfunction\u001b[39m(t\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m(s\u001b[33m=\u001b[39me)\u001b[33m=>\u001b[39m{\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m s\u001b[33m===\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m||\u001b[39ms\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33m=\u001b[39m\u001b[33mHl\u001b[39m(t(s))\u001b[33m:\u001b[39m\u001b[33mHl\u001b[39m(t(s))}\u001b[36mcatch\u001b[39m(a){\u001b[36mreturn\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mreject(a)}}\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[36mget\u001b[39m spec(){\u001b[36mreturn\u001b[39m n}\u001b[33m,\u001b[39mthen(s\u001b[33m,\u001b[39ma){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39mthen(s\u001b[33m,\u001b[39ma)}\u001b[33m,\u001b[39m\u001b[36mcatch\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(s)}\u001b[33m,\u001b[39m\u001b[36mfinally\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mfinally\u001b[39m(s)}\u001b[33m,\u001b[39mrequestTransaction(s){\u001b[36mlet\u001b[39m a\u001b[33m=\u001b[39mo(s)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m a\u001b[33m.\u001b[39mrequestTransaction\u001b[33m?\u001b[39ma\u001b[33m.\u001b[39mrequestTransaction(s)\u001b[33m:\u001b[39ma}\u001b[33m,\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag]\u001b[33m:\u001b[39m\u001b[32m\"PrismaPromise\"\u001b[39m}}}\u001b[36mfunction\u001b[39m \u001b[33mHl\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mthen\u001b[33m==\u001b[39m\u001b[32m\"function\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39m\u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mresolve(e)}\u001b[36mvar\u001b[39m \u001b[33mTf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mEi\u001b[39m\u001b[33m.\u001b[39msplit(\u001b[32m\".\"\u001b[39m)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mSf\u001b[39m\u001b[33m=\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m}\u001b[33m,\u001b[39mgetTraceParent(){\u001b[36mreturn\u001b[39m\u001b[32m\"00-10-10-00\"\u001b[39m}\u001b[33m,\u001b[39mdispatchEngineSpans(){}\u001b[33m,\u001b[39mgetActiveContext(){}\u001b[33m,\u001b[39mrunInChildSpan(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m r()}}\u001b[33m,\u001b[39m\u001b[33mIo\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39misEnabled()}getTraceParent(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetTraceParent(r)}dispatchEngineSpans(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mdispatchEngineSpans(r)}getActiveContext(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetActiveContext()}runInChildSpan(r\u001b[33m,\u001b[39mt){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mrunInChildSpan(r\u001b[33m,\u001b[39mt)}getGlobalTracingHelper(){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39mglobalThis[\u001b[32m`V${Tf}_PRISMA_INSTRUMENTATION`\u001b[39m]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39mglobalThis\u001b[33m.\u001b[39m\u001b[33mPRISMA_INSTRUMENTATION\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33mSf\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKl\u001b[39m(){\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mIo\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mYl\u001b[39m(e\u001b[33m,\u001b[39mr\u001b[33m=\u001b[39m()\u001b[33m=>\u001b[39m{}){\u001b[36mlet\u001b[39m t\u001b[33m,\u001b[39mn\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m(i\u001b[33m=>\u001b[39mt\u001b[33m=\u001b[39mi)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{then(i){\u001b[36mreturn\u001b[39m\u001b[33m--\u001b[39me\u001b[33m===\u001b[39m\u001b[35m0\u001b[39m\u001b[33m&&\u001b[39mt(r())\u001b[33m,\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m.\u001b[39m(n)}}}\u001b[36mfunction\u001b[39m zl(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mreduce((r\u001b[33m,\u001b[39mt)\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[36mtypeof\u001b[39m t\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mlevel\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m===\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m?\u001b[39mr\u001b[33m:\u001b[39mr\u001b[33m&&\u001b[39m(t\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m||\u001b[39mr\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m)\u001b[33m?\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m:\u001b[39mn}\u001b[33m,\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mHn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{_middlewares\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39muse(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mpush(r)}\u001b[36mget\u001b[39m(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}has(r){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[33m!\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}length(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mlength}}\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mXl\u001b[39m\u001b[33m=\u001b[39mk(\u001b[33mOi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKn\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m==\u001b[39m\u001b[32m\"number\"\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mZl\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUnique\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUniqueOrThrow\"\u001b[39m)\u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mmodelName\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(e\u001b[33m.\u001b[39mmodelName)\u001b[33m,\u001b[39me\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39mselection))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mjoin(\u001b[32m\"\"\u001b[39m)}\u001b[36mfunction\u001b[39m ko(e){\u001b[36mreturn\u001b[39m\u001b[32m`(${Object.keys(e).sort().map(t=>{let n=e[t];return typeof n==\"object\"&&n!==null?`(${t} ${ko(n)})`:t}).join(\" \")})`\u001b[39m}\u001b[36mvar\u001b[39m \u001b[33mRf\u001b[39m\u001b[33m=\u001b[39m{aggregate\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39maggregateRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mcreateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mexecuteRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mfindFirst\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindFirstOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUnique\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUniqueOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mgroupBy\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mqueryRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mrunCommandRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupsertOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mOo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[33mRf\u001b[39m[e]}\u001b[36mvar\u001b[39m \u001b[33mYn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{constructor(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches\u001b[33m=\u001b[39m{}}batches\u001b[33m;\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m;\u001b[39mrequest(r){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchBy(r)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m t\u001b[33m?\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mprocess\u001b[33m.\u001b[39mnextTick(()\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdispatchBatches()\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m})))\u001b[33m,\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m.\u001b[39mpush({request\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mresolve\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mreject\u001b[33m:\u001b[39mi})}))\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(r)}dispatchBatches(){\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m r \u001b[36min\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m;\u001b[39m\u001b[36mdelete\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m,\u001b[39mt\u001b[33m.\u001b[39mlength\u001b[33m===\u001b[39m\u001b[35m1\u001b[39m\u001b[33m?\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mrequest)\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)\u001b[33m:\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mresolve(n)})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)})\u001b[33m:\u001b[39m(t\u001b[33m.\u001b[39msort((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchOrder(n\u001b[33m.\u001b[39mrequest\u001b[33m,\u001b[39mi\u001b[33m.\u001b[39mrequest))\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchLoader(t\u001b[33m.\u001b[39mmap(n\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mrequest))\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m o\u001b[33m=\u001b[39mn[i]\u001b[33m;\u001b[39mo \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[i]\u001b[33m.\u001b[39mreject(o)\u001b[33m:\u001b[39mt[i]\u001b[33m.\u001b[39mresolve(o)}})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)}))}}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"DataLoader\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m mr(e\u001b[33m,\u001b[39mr){\u001b[36mif\u001b[39m(r\u001b[33m===\u001b[39m\u001b[36mnull\u001b[39m)\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mswitch\u001b[39m(e){\u001b[36mcase\u001b[39m\u001b[32m\"bigint\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[33mBigInt\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes\"\u001b[39m\u001b[33m:\u001b[39m{\u001b[36mlet\u001b[39m{buffer\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mbyteOffset\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mbyteLength\u001b[33m:\u001b[39mi}\u001b[33m=\u001b[39m\u001b[33mBuffer\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m(r\u001b[33m,\u001b[39m\u001b[32m\"base64\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mUint8Array\u001b[39m(t\u001b[33m,\u001b[39mn\u001b[33m,\u001b[39mi)}\u001b[36mcase\u001b[39m\u001b[32m\"decimal\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mPe\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(\u001b[32m`1970-01-01T${r}Z`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bigint-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bigint\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bytes\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"decimal-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"decimal\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"datetime\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"date\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"time\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r}}\u001b[36mfunction\u001b[39m zn(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39m\u001b[33mCf\u001b[39m(e)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mn\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mrows\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mn\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mrows[n]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m{\u001b[33m...\u001b[39mt}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m s\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39ms\u001b[33m<\u001b[39m\u001b[33mi\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39ms\u001b[33m++\u001b[39m)o[e\u001b[33m.\u001b[39mcolumns[s]]\u001b[33m=\u001b[39mmr(e\u001b[33m.\u001b[39mtypes[s]\u001b[33m,\u001b[39mi[s])\u001b[33m;\u001b[39mr\u001b[33m.\u001b[39mpush(o)}\u001b[36mreturn\u001b[39m r}\u001b[36mfunction\u001b[39m \u001b[33mCf\u001b[39m(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m{}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mt\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mcolumns\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mt\u001b[33m++\u001b[39m)r[e\u001b[33m.\u001b[39mcolumns[t]]\u001b[33m=\u001b[39m\u001b[36mnull\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r}\u001b[36mvar\u001b[39m \u001b[33mAf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mN\u001b[39m(\u001b[32m\"prisma:client:request_handler\"\u001b[39m)\u001b[33m,\u001b[39m\u001b[33mZn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{client\u001b[33m;\u001b[39mdataloader\u001b[33m;\u001b[39mlogEmitter\u001b[33m;\u001b[39mconstructor(r\u001b[33m,\u001b[39mt){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m=\u001b[39mt\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m=\u001b[39mr\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mYn\u001b[39m({batchLoader\u001b[33m:\u001b[39mol(\u001b[36masync\u001b[39m({requests\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi})\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m{transaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39motelParentCtx\u001b[33m:\u001b[39ms}\u001b[33m=\u001b[39mn[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mmap(p\u001b[33m=>\u001b[39mp\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent(s)\u001b[33m,\u001b[39mu\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39msome(p\u001b[33m=>\u001b[39m\u001b[33mOo\u001b[39m(p\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction))\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m(\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequestBatch(a\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39ml\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39m\u001b[33mIf\u001b[39m(o)\u001b[33m,\u001b[39mcontainsWrite\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi}))\u001b[33m.\u001b[39mmap((p\u001b[33m,\u001b[39md)\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(p \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mreturn\u001b[39m p\u001b[33m;\u001b[39m\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n[d]\u001b[33m,\u001b[39mp)}\u001b[36mcatch\u001b[39m(f){\u001b[36mreturn\u001b[39m f}})})\u001b[33m,\u001b[39msingleLoader\u001b[33m:\u001b[39m\u001b[36masync\u001b[39m n\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39meu(n\u001b[33m.\u001b[39mtransaction)\u001b[33m:\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequest(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent()\u001b[33m,\u001b[39minteractiveTransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39misWrite\u001b[33m:\u001b[39m\u001b[33mOo\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction)\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mn\u001b[33m.\u001b[39mcustomDataProxyFetch})\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n\u001b[33m,\u001b[39mo)}\u001b[33m,\u001b[39mbatchBy\u001b[33m:\u001b[39mn\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mid\u001b[33m?\u001b[39m\u001b[32m`transaction-${n.transaction.id}`\u001b[39m\u001b[33m:\u001b[39m\u001b[33mZl\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39mbatchOrder(n\u001b[33m,\u001b[39mi){\u001b[36mreturn\u001b[39m n\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m?\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m-\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m:\u001b[39m\u001b[35m0\u001b[39m}})}\u001b[36masync\u001b[39m request(r){\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m.\u001b[39mrequest(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mlet\u001b[39m{clientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma}\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleAndLogRequestError({error\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mglobalOmit})}}mapQueryEngineResult({dataPath\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39munpacker\u001b[33m:\u001b[39mt}\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mdata\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39munpack(i\u001b[33m,\u001b[39mr\u001b[33m,\u001b[39mt)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mPRISMA_CLIENT_GET_TIME\u001b[39m\u001b[33m?\u001b[39m{data\u001b[33m:\u001b[39mo}\u001b[33m:\u001b[39mo}handleAndLogRequestError(r){\u001b[36mtry\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleRequestError(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mthrow\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m.\u001b[39memit(\u001b[32m\"error\"\u001b[39m\u001b[33m,\u001b[39m{message\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mmessage\u001b[33m,\u001b[39mtarget\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mclientMethod\u001b[33m,\u001b[39mtimestamp\u001b[33m:\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m})\u001b[33m,\u001b[39mt}}handleRequestError({error\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma}){\u001b[36mif\u001b[39m(\u001b[33mAf\u001b[39m(r)\u001b[33m,\u001b[39mkf(r\u001b[33m,\u001b[39mi))\u001b[36mthrow\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m z\u001b[33m&&\u001b[39m\u001b[33mOf\u001b[39m(r)){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39mru(r\u001b[33m.\u001b[39mmeta)\u001b[33m;\u001b[39mkn({args\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39m[u]\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39merrorFormat\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma})}\u001b[36mlet\u001b[39m l\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mmessage\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m(l\u001b[33m=\u001b[39mwn({callsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39misPanic\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39misPanic\u001b[33m,\u001b[39mshowColors\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m===\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39mmessage\u001b[33m:\u001b[39ml}))\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39msanitizeMessage(l)\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mcode){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39ms\u001b[33m?\u001b[39m{modelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr\u001b[33m.\u001b[39mmeta}\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mmeta\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m z(l\u001b[33m,\u001b[39m{code\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mcode\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mmeta\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})}\u001b[36melse\u001b[39m{\u001b[36mif\u001b[39m(r\u001b[33m.\u001b[39misPanic)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m j)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m j(l\u001b[33m,\u001b[39m{clientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m \u001b[33mT\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mT\u001b[39m(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m le)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)}\u001b[36mthrow\u001b[39m r\u001b[33m.\u001b[39mclientVersion\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mr}sanitizeMessage(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m!==\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m?\u001b[39m(\u001b[35m0\u001b[39m\u001b[33m,\u001b[39m\u001b[33mXl\u001b[39m\u001b[33m.\u001b[39m\u001b[36mdefault\u001b[39m)(r)\u001b[33m:\u001b[39mr}unpack(r\u001b[33m,\u001b[39mt\u001b[33m,\u001b[39mn){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m||\u001b[39m(r\u001b[33m.\u001b[39mdata\u001b[33m&&\u001b[39m(r\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mdata)\u001b[33m,\u001b[39m\u001b[33m!\u001b[39mr))\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mvalues(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ms\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mfilter(u\u001b[33m=>\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"select\"\u001b[39m\u001b[33m&&\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"include\"\u001b[39m)\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mio(o\u001b[33m,\u001b[39ms)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39mi\u001b[33m===\u001b[39m\u001b[32m\"queryRaw\"\u001b[39m\u001b[33m?\u001b[39mzn(a)\u001b[33m:\u001b[39m\u001b[33mTr\u001b[39m(a)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m?\u001b[39mn(l)\u001b[33m:\u001b[39ml}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"RequestHandler\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mIf\u001b[39m(e){\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39m{isolationLevel\u001b[33m:\u001b[39me\u001b[33m.\u001b[39misolationLevel}}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39meu(e)}\u001b[33m;\u001b[39m_e(e\u001b[33m,\u001b[39m\u001b[32m\"Unknown transaction kind\"\u001b[39m)}}\u001b[36mfunction\u001b[39m eu(e){\u001b[36mreturn\u001b[39m{id\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39mpayload\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mpayload}}\u001b[36mfunction\u001b[39m kf(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m \u001b[33mKn\u001b[39m(e)\u001b[33m&&\u001b[39mr\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m!==\u001b[39mr\u001b[33m.\u001b[39mindex}\u001b[36mfunction\u001b[39m \u001b[33mOf\u001b[39m(e){\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2009\"\u001b[39m\u001b[33m||\u001b[39me\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2012\"\u001b[39m}\u001b[36mfunction\u001b[39m ru(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"Union\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"Union\"\u001b[39m\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39me\u001b[33m.\u001b[39merrors\u001b[33m.\u001b[39mmap(ru)}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e\u001b[33m.\u001b[39mselectionPath)){\u001b[36mlet\u001b[39m[\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr]\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mselectionPath\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[33m...\u001b[39me\u001b[33m,\u001b[39mselectionPath\u001b[33m:\u001b[39mr}}\u001b[36mreturn\u001b[39m e}\u001b[36mvar\u001b[39m tu\u001b[33m=\u001b[39m\u001b[33mSl\u001b[39m\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m au\u001b[33m=\u001b[39mk(\u001b[33mQi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mD\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mError\u001b[39m{constructor(r){\u001b[36msuper\u001b[39m(r\u001b[33m+\u001b[39m\u001b[32m`\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 125 |\u001b[39m \u001b[32mRead more at https://pris.ly/d/client-constructor`\u001b[39m)\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mname\u001b[33m=\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}}\u001b[33m;\u001b[39mx(\u001b[33mD\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m nu\u001b[33m=\u001b[39m[\u001b[32m\"datasources\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"datasourceUrl\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"errorFormat\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"adapter\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"log\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"transactionOptions\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"omit\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"__internal\"\u001b[39m]\u001b[33m,\u001b[39miu\u001b[33m=\u001b[39m[\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"colorless\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"minimal\"\u001b[39m]\u001b[33m,\u001b[39mou\u001b[33m=\u001b[39m[\u001b[32m\"info\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"warn\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"error\"\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mDf\u001b[39m\u001b[33m=\u001b[39m{datasources\u001b[33m:\u001b[39m(e\u001b[33m,\u001b[39m{datasourceNames\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m e\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for \"datasources\" provided to PrismaClient constructor`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[t\u001b[33m,\u001b[39mn]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(e)){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m.\u001b[39mincludes(t)){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mWr\u001b[39m(t\u001b[33m,\u001b[39mr)\u001b[33m||\u001b[39m\u001b[32m` Available datasources: ${r.join(\", \")}`\u001b[39m\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Unknown datasource ${t} provided to PrismaClient constructor.${i}`\u001b[39m)}\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m n\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(n))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 126 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m\u001b[36mtypeof\u001b[39m n\u001b[33m==\u001b[39m\u001b[32m\"object\"\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[i\u001b[33m,\u001b[39mo]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(n)){\u001b[36mif\u001b[39m(i\u001b[33m!==\u001b[39m\u001b[32m\"url\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 127 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m o\u001b[33m!=\u001b[39m\u001b[32m\"string\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(o)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:7649)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError [as handleAndLogRequestError] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6784)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleAndLogRequestError [as request] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6491)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat l (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:133:9778)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/auth-flow.test.ts\u001b[39m\u001b[0m\u001b[2m:41:5)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAuthentication Flow Testing - Phase 2.3 › OAuth2 Authentication › should store and retrieve OAuth2 credentials securely\u001b[39m\u001b[22m\n\n    PrismaClientUnknownRequestError: \n    Invalid `prisma.apiConnection.deleteMany()` invocation in\n    /Users/connorbowen/apiq-mvp/tests/integration/api/auth-flow.test.ts:41:32\n\n      38     }\n      39   }\n      40 });\n    → 41 await prisma.apiConnection.deleteMany(\n    Error occurred during query execution:\n    ConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28465 waits for ShareLock on transaction 54226; blocked by process 28469.\\nProcess 28469 waits for ShareLock on transaction 54223; blocked by process 28465.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 122 |\u001b[39m \u001b[32m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 123 |\u001b[39m \u001b[32mMore Information: https://pris.ly/d/execute-raw\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 124 |\u001b[39m \u001b[32m`\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mCo\u001b[39m\u001b[33m=\u001b[39m({clientMethod\u001b[33m:\u001b[39me\u001b[33m,\u001b[39mactiveProvider\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39mt\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[32m\"\"\u001b[39m\u001b[33m,\u001b[39mi\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mFn\u001b[39m(t))n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(t)){\u001b[36mlet\u001b[39m[o\u001b[33m,\u001b[39m\u001b[33m...\u001b[39ms]\u001b[33m=\u001b[39mt\u001b[33m;\u001b[39mn\u001b[33m=\u001b[39mo\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(s\u001b[33m||\u001b[39m[])\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}}\u001b[36melse\u001b[39m \u001b[36mswitch\u001b[39m(r){\u001b[36mcase\u001b[39m\u001b[32m\"sqlite\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"mysql\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"cockroachdb\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgresql\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgres\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mtext\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"sqlserver\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mjl(t)\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`The ${r} provider does not support ${e}`\u001b[39m)}\u001b[36mreturn\u001b[39m i\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mvalues\u001b[33m?\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n}, ${i.values})`\u001b[39m)\u001b[33m:\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n})`\u001b[39m)\u001b[33m,\u001b[39m{query\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mparameters\u001b[33m:\u001b[39mi}}\u001b[33m,\u001b[39m\u001b[33mWl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e\u001b[33m.\u001b[39mstrings\u001b[33m,\u001b[39m\u001b[33m...\u001b[39me\u001b[33m.\u001b[39mvalues]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mlet\u001b[39m[r\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mt]\u001b[33m=\u001b[39me\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m oe(r\u001b[33m,\u001b[39mt)}}\u001b[33m,\u001b[39m\u001b[33mJl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mreturn\u001b[39m e[\u001b[35m0\u001b[39m]}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mAo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mfunction\u001b[39m(t\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m(s\u001b[33m=\u001b[39me)\u001b[33m=>\u001b[39m{\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m s\u001b[33m===\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m||\u001b[39ms\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33m=\u001b[39m\u001b[33mHl\u001b[39m(t(s))\u001b[33m:\u001b[39m\u001b[33mHl\u001b[39m(t(s))}\u001b[36mcatch\u001b[39m(a){\u001b[36mreturn\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mreject(a)}}\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[36mget\u001b[39m spec(){\u001b[36mreturn\u001b[39m n}\u001b[33m,\u001b[39mthen(s\u001b[33m,\u001b[39ma){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39mthen(s\u001b[33m,\u001b[39ma)}\u001b[33m,\u001b[39m\u001b[36mcatch\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(s)}\u001b[33m,\u001b[39m\u001b[36mfinally\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mfinally\u001b[39m(s)}\u001b[33m,\u001b[39mrequestTransaction(s){\u001b[36mlet\u001b[39m a\u001b[33m=\u001b[39mo(s)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m a\u001b[33m.\u001b[39mrequestTransaction\u001b[33m?\u001b[39ma\u001b[33m.\u001b[39mrequestTransaction(s)\u001b[33m:\u001b[39ma}\u001b[33m,\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag]\u001b[33m:\u001b[39m\u001b[32m\"PrismaPromise\"\u001b[39m}}}\u001b[36mfunction\u001b[39m \u001b[33mHl\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mthen\u001b[33m==\u001b[39m\u001b[32m\"function\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39m\u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mresolve(e)}\u001b[36mvar\u001b[39m \u001b[33mTf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mEi\u001b[39m\u001b[33m.\u001b[39msplit(\u001b[32m\".\"\u001b[39m)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mSf\u001b[39m\u001b[33m=\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m}\u001b[33m,\u001b[39mgetTraceParent(){\u001b[36mreturn\u001b[39m\u001b[32m\"00-10-10-00\"\u001b[39m}\u001b[33m,\u001b[39mdispatchEngineSpans(){}\u001b[33m,\u001b[39mgetActiveContext(){}\u001b[33m,\u001b[39mrunInChildSpan(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m r()}}\u001b[33m,\u001b[39m\u001b[33mIo\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39misEnabled()}getTraceParent(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetTraceParent(r)}dispatchEngineSpans(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mdispatchEngineSpans(r)}getActiveContext(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetActiveContext()}runInChildSpan(r\u001b[33m,\u001b[39mt){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mrunInChildSpan(r\u001b[33m,\u001b[39mt)}getGlobalTracingHelper(){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39mglobalThis[\u001b[32m`V${Tf}_PRISMA_INSTRUMENTATION`\u001b[39m]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39mglobalThis\u001b[33m.\u001b[39m\u001b[33mPRISMA_INSTRUMENTATION\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33mSf\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKl\u001b[39m(){\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mIo\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mYl\u001b[39m(e\u001b[33m,\u001b[39mr\u001b[33m=\u001b[39m()\u001b[33m=>\u001b[39m{}){\u001b[36mlet\u001b[39m t\u001b[33m,\u001b[39mn\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m(i\u001b[33m=>\u001b[39mt\u001b[33m=\u001b[39mi)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{then(i){\u001b[36mreturn\u001b[39m\u001b[33m--\u001b[39me\u001b[33m===\u001b[39m\u001b[35m0\u001b[39m\u001b[33m&&\u001b[39mt(r())\u001b[33m,\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m.\u001b[39m(n)}}}\u001b[36mfunction\u001b[39m zl(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mreduce((r\u001b[33m,\u001b[39mt)\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[36mtypeof\u001b[39m t\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mlevel\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m===\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m?\u001b[39mr\u001b[33m:\u001b[39mr\u001b[33m&&\u001b[39m(t\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m||\u001b[39mr\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m)\u001b[33m?\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m:\u001b[39mn}\u001b[33m,\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mHn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{_middlewares\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39muse(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mpush(r)}\u001b[36mget\u001b[39m(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}has(r){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[33m!\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}length(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mlength}}\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mXl\u001b[39m\u001b[33m=\u001b[39mk(\u001b[33mOi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKn\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m==\u001b[39m\u001b[32m\"number\"\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mZl\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUnique\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUniqueOrThrow\"\u001b[39m)\u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mmodelName\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(e\u001b[33m.\u001b[39mmodelName)\u001b[33m,\u001b[39me\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39mselection))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mjoin(\u001b[32m\"\"\u001b[39m)}\u001b[36mfunction\u001b[39m ko(e){\u001b[36mreturn\u001b[39m\u001b[32m`(${Object.keys(e).sort().map(t=>{let n=e[t];return typeof n==\"object\"&&n!==null?`(${t} ${ko(n)})`:t}).join(\" \")})`\u001b[39m}\u001b[36mvar\u001b[39m \u001b[33mRf\u001b[39m\u001b[33m=\u001b[39m{aggregate\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39maggregateRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mcreateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mexecuteRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mfindFirst\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindFirstOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUnique\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUniqueOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mgroupBy\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mqueryRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mrunCommandRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupsertOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mOo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[33mRf\u001b[39m[e]}\u001b[36mvar\u001b[39m \u001b[33mYn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{constructor(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches\u001b[33m=\u001b[39m{}}batches\u001b[33m;\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m;\u001b[39mrequest(r){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchBy(r)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m t\u001b[33m?\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mprocess\u001b[33m.\u001b[39mnextTick(()\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdispatchBatches()\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m})))\u001b[33m,\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m.\u001b[39mpush({request\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mresolve\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mreject\u001b[33m:\u001b[39mi})}))\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(r)}dispatchBatches(){\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m r \u001b[36min\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m;\u001b[39m\u001b[36mdelete\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m,\u001b[39mt\u001b[33m.\u001b[39mlength\u001b[33m===\u001b[39m\u001b[35m1\u001b[39m\u001b[33m?\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mrequest)\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)\u001b[33m:\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mresolve(n)})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)})\u001b[33m:\u001b[39m(t\u001b[33m.\u001b[39msort((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchOrder(n\u001b[33m.\u001b[39mrequest\u001b[33m,\u001b[39mi\u001b[33m.\u001b[39mrequest))\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchLoader(t\u001b[33m.\u001b[39mmap(n\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mrequest))\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m o\u001b[33m=\u001b[39mn[i]\u001b[33m;\u001b[39mo \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[i]\u001b[33m.\u001b[39mreject(o)\u001b[33m:\u001b[39mt[i]\u001b[33m.\u001b[39mresolve(o)}})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)}))}}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"DataLoader\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m mr(e\u001b[33m,\u001b[39mr){\u001b[36mif\u001b[39m(r\u001b[33m===\u001b[39m\u001b[36mnull\u001b[39m)\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mswitch\u001b[39m(e){\u001b[36mcase\u001b[39m\u001b[32m\"bigint\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[33mBigInt\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes\"\u001b[39m\u001b[33m:\u001b[39m{\u001b[36mlet\u001b[39m{buffer\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mbyteOffset\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mbyteLength\u001b[33m:\u001b[39mi}\u001b[33m=\u001b[39m\u001b[33mBuffer\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m(r\u001b[33m,\u001b[39m\u001b[32m\"base64\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mUint8Array\u001b[39m(t\u001b[33m,\u001b[39mn\u001b[33m,\u001b[39mi)}\u001b[36mcase\u001b[39m\u001b[32m\"decimal\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mPe\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(\u001b[32m`1970-01-01T${r}Z`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bigint-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bigint\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bytes\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"decimal-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"decimal\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"datetime\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"date\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"time\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r}}\u001b[36mfunction\u001b[39m zn(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39m\u001b[33mCf\u001b[39m(e)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mn\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mrows\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mn\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mrows[n]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m{\u001b[33m...\u001b[39mt}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m s\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39ms\u001b[33m<\u001b[39m\u001b[33mi\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39ms\u001b[33m++\u001b[39m)o[e\u001b[33m.\u001b[39mcolumns[s]]\u001b[33m=\u001b[39mmr(e\u001b[33m.\u001b[39mtypes[s]\u001b[33m,\u001b[39mi[s])\u001b[33m;\u001b[39mr\u001b[33m.\u001b[39mpush(o)}\u001b[36mreturn\u001b[39m r}\u001b[36mfunction\u001b[39m \u001b[33mCf\u001b[39m(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m{}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mt\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mcolumns\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mt\u001b[33m++\u001b[39m)r[e\u001b[33m.\u001b[39mcolumns[t]]\u001b[33m=\u001b[39m\u001b[36mnull\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r}\u001b[36mvar\u001b[39m \u001b[33mAf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mN\u001b[39m(\u001b[32m\"prisma:client:request_handler\"\u001b[39m)\u001b[33m,\u001b[39m\u001b[33mZn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{client\u001b[33m;\u001b[39mdataloader\u001b[33m;\u001b[39mlogEmitter\u001b[33m;\u001b[39mconstructor(r\u001b[33m,\u001b[39mt){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m=\u001b[39mt\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m=\u001b[39mr\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mYn\u001b[39m({batchLoader\u001b[33m:\u001b[39mol(\u001b[36masync\u001b[39m({requests\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi})\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m{transaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39motelParentCtx\u001b[33m:\u001b[39ms}\u001b[33m=\u001b[39mn[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mmap(p\u001b[33m=>\u001b[39mp\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent(s)\u001b[33m,\u001b[39mu\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39msome(p\u001b[33m=>\u001b[39m\u001b[33mOo\u001b[39m(p\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction))\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m(\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequestBatch(a\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39ml\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39m\u001b[33mIf\u001b[39m(o)\u001b[33m,\u001b[39mcontainsWrite\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi}))\u001b[33m.\u001b[39mmap((p\u001b[33m,\u001b[39md)\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(p \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mreturn\u001b[39m p\u001b[33m;\u001b[39m\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n[d]\u001b[33m,\u001b[39mp)}\u001b[36mcatch\u001b[39m(f){\u001b[36mreturn\u001b[39m f}})})\u001b[33m,\u001b[39msingleLoader\u001b[33m:\u001b[39m\u001b[36masync\u001b[39m n\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39meu(n\u001b[33m.\u001b[39mtransaction)\u001b[33m:\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequest(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent()\u001b[33m,\u001b[39minteractiveTransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39misWrite\u001b[33m:\u001b[39m\u001b[33mOo\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction)\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mn\u001b[33m.\u001b[39mcustomDataProxyFetch})\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n\u001b[33m,\u001b[39mo)}\u001b[33m,\u001b[39mbatchBy\u001b[33m:\u001b[39mn\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mid\u001b[33m?\u001b[39m\u001b[32m`transaction-${n.transaction.id}`\u001b[39m\u001b[33m:\u001b[39m\u001b[33mZl\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39mbatchOrder(n\u001b[33m,\u001b[39mi){\u001b[36mreturn\u001b[39m n\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m?\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m-\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m:\u001b[39m\u001b[35m0\u001b[39m}})}\u001b[36masync\u001b[39m request(r){\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m.\u001b[39mrequest(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mlet\u001b[39m{clientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma}\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleAndLogRequestError({error\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mglobalOmit})}}mapQueryEngineResult({dataPath\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39munpacker\u001b[33m:\u001b[39mt}\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mdata\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39munpack(i\u001b[33m,\u001b[39mr\u001b[33m,\u001b[39mt)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mPRISMA_CLIENT_GET_TIME\u001b[39m\u001b[33m?\u001b[39m{data\u001b[33m:\u001b[39mo}\u001b[33m:\u001b[39mo}handleAndLogRequestError(r){\u001b[36mtry\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleRequestError(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mthrow\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m.\u001b[39memit(\u001b[32m\"error\"\u001b[39m\u001b[33m,\u001b[39m{message\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mmessage\u001b[33m,\u001b[39mtarget\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mclientMethod\u001b[33m,\u001b[39mtimestamp\u001b[33m:\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m})\u001b[33m,\u001b[39mt}}handleRequestError({error\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma}){\u001b[36mif\u001b[39m(\u001b[33mAf\u001b[39m(r)\u001b[33m,\u001b[39mkf(r\u001b[33m,\u001b[39mi))\u001b[36mthrow\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m z\u001b[33m&&\u001b[39m\u001b[33mOf\u001b[39m(r)){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39mru(r\u001b[33m.\u001b[39mmeta)\u001b[33m;\u001b[39mkn({args\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39m[u]\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39merrorFormat\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma})}\u001b[36mlet\u001b[39m l\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mmessage\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m(l\u001b[33m=\u001b[39mwn({callsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39misPanic\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39misPanic\u001b[33m,\u001b[39mshowColors\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m===\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39mmessage\u001b[33m:\u001b[39ml}))\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39msanitizeMessage(l)\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mcode){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39ms\u001b[33m?\u001b[39m{modelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr\u001b[33m.\u001b[39mmeta}\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mmeta\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m z(l\u001b[33m,\u001b[39m{code\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mcode\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mmeta\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})}\u001b[36melse\u001b[39m{\u001b[36mif\u001b[39m(r\u001b[33m.\u001b[39misPanic)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m j)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m j(l\u001b[33m,\u001b[39m{clientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m \u001b[33mT\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mT\u001b[39m(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m le)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)}\u001b[36mthrow\u001b[39m r\u001b[33m.\u001b[39mclientVersion\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mr}sanitizeMessage(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m!==\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m?\u001b[39m(\u001b[35m0\u001b[39m\u001b[33m,\u001b[39m\u001b[33mXl\u001b[39m\u001b[33m.\u001b[39m\u001b[36mdefault\u001b[39m)(r)\u001b[33m:\u001b[39mr}unpack(r\u001b[33m,\u001b[39mt\u001b[33m,\u001b[39mn){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m||\u001b[39m(r\u001b[33m.\u001b[39mdata\u001b[33m&&\u001b[39m(r\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mdata)\u001b[33m,\u001b[39m\u001b[33m!\u001b[39mr))\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mvalues(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ms\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mfilter(u\u001b[33m=>\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"select\"\u001b[39m\u001b[33m&&\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"include\"\u001b[39m)\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mio(o\u001b[33m,\u001b[39ms)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39mi\u001b[33m===\u001b[39m\u001b[32m\"queryRaw\"\u001b[39m\u001b[33m?\u001b[39mzn(a)\u001b[33m:\u001b[39m\u001b[33mTr\u001b[39m(a)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m?\u001b[39mn(l)\u001b[33m:\u001b[39ml}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"RequestHandler\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mIf\u001b[39m(e){\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39m{isolationLevel\u001b[33m:\u001b[39me\u001b[33m.\u001b[39misolationLevel}}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39meu(e)}\u001b[33m;\u001b[39m_e(e\u001b[33m,\u001b[39m\u001b[32m\"Unknown transaction kind\"\u001b[39m)}}\u001b[36mfunction\u001b[39m eu(e){\u001b[36mreturn\u001b[39m{id\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39mpayload\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mpayload}}\u001b[36mfunction\u001b[39m kf(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m \u001b[33mKn\u001b[39m(e)\u001b[33m&&\u001b[39mr\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m!==\u001b[39mr\u001b[33m.\u001b[39mindex}\u001b[36mfunction\u001b[39m \u001b[33mOf\u001b[39m(e){\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2009\"\u001b[39m\u001b[33m||\u001b[39me\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2012\"\u001b[39m}\u001b[36mfunction\u001b[39m ru(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"Union\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"Union\"\u001b[39m\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39me\u001b[33m.\u001b[39merrors\u001b[33m.\u001b[39mmap(ru)}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e\u001b[33m.\u001b[39mselectionPath)){\u001b[36mlet\u001b[39m[\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr]\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mselectionPath\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[33m...\u001b[39me\u001b[33m,\u001b[39mselectionPath\u001b[33m:\u001b[39mr}}\u001b[36mreturn\u001b[39m e}\u001b[36mvar\u001b[39m tu\u001b[33m=\u001b[39m\u001b[33mSl\u001b[39m\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m au\u001b[33m=\u001b[39mk(\u001b[33mQi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mD\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mError\u001b[39m{constructor(r){\u001b[36msuper\u001b[39m(r\u001b[33m+\u001b[39m\u001b[32m`\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 125 |\u001b[39m \u001b[32mRead more at https://pris.ly/d/client-constructor`\u001b[39m)\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mname\u001b[33m=\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}}\u001b[33m;\u001b[39mx(\u001b[33mD\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m nu\u001b[33m=\u001b[39m[\u001b[32m\"datasources\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"datasourceUrl\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"errorFormat\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"adapter\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"log\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"transactionOptions\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"omit\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"__internal\"\u001b[39m]\u001b[33m,\u001b[39miu\u001b[33m=\u001b[39m[\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"colorless\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"minimal\"\u001b[39m]\u001b[33m,\u001b[39mou\u001b[33m=\u001b[39m[\u001b[32m\"info\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"warn\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"error\"\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mDf\u001b[39m\u001b[33m=\u001b[39m{datasources\u001b[33m:\u001b[39m(e\u001b[33m,\u001b[39m{datasourceNames\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m e\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for \"datasources\" provided to PrismaClient constructor`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[t\u001b[33m,\u001b[39mn]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(e)){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m.\u001b[39mincludes(t)){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mWr\u001b[39m(t\u001b[33m,\u001b[39mr)\u001b[33m||\u001b[39m\u001b[32m` Available datasources: ${r.join(\", \")}`\u001b[39m\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Unknown datasource ${t} provided to PrismaClient constructor.${i}`\u001b[39m)}\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m n\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(n))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 126 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m\u001b[36mtypeof\u001b[39m n\u001b[33m==\u001b[39m\u001b[32m\"object\"\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[i\u001b[33m,\u001b[39mo]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(n)){\u001b[36mif\u001b[39m(i\u001b[33m!==\u001b[39m\u001b[32m\"url\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 127 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m o\u001b[33m!=\u001b[39m\u001b[32m\"string\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(o)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:7649)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError [as handleAndLogRequestError] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6784)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleAndLogRequestError [as request] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6491)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat l (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:133:9778)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/auth-flow.test.ts\u001b[39m\u001b[0m\u001b[2m:41:5)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAuthentication Flow Testing - Phase 2.3 › Security Validation › should not expose credentials in API responses\u001b[39m\u001b[22m\n\n    PrismaClientUnknownRequestError: \n    Invalid `prisma.apiConnection.deleteMany()` invocation in\n    /Users/connorbowen/apiq-mvp/tests/integration/api/auth-flow.test.ts:41:32\n\n      38     }\n      39   }\n      40 });\n    → 41 await prisma.apiConnection.deleteMany(\n    Error occurred during query execution:\n    ConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28465 waits for ShareLock on transaction 54228; blocked by process 28323.\\nProcess 28323 waits for ShareLock on transaction 54230; blocked by process 28469.\\nProcess 28469 waits for AccessExclusiveLock on tuple (0,19) of relation 33235 of database 21992; blocked by process 28465.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 122 |\u001b[39m \u001b[32m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 123 |\u001b[39m \u001b[32mMore Information: https://pris.ly/d/execute-raw\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 124 |\u001b[39m \u001b[32m`\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mCo\u001b[39m\u001b[33m=\u001b[39m({clientMethod\u001b[33m:\u001b[39me\u001b[33m,\u001b[39mactiveProvider\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39mt\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[32m\"\"\u001b[39m\u001b[33m,\u001b[39mi\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mFn\u001b[39m(t))n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(t)){\u001b[36mlet\u001b[39m[o\u001b[33m,\u001b[39m\u001b[33m...\u001b[39ms]\u001b[33m=\u001b[39mt\u001b[33m;\u001b[39mn\u001b[33m=\u001b[39mo\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(s\u001b[33m||\u001b[39m[])\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}}\u001b[36melse\u001b[39m \u001b[36mswitch\u001b[39m(r){\u001b[36mcase\u001b[39m\u001b[32m\"sqlite\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"mysql\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"cockroachdb\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgresql\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgres\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mtext\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"sqlserver\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mjl(t)\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`The ${r} provider does not support ${e}`\u001b[39m)}\u001b[36mreturn\u001b[39m i\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mvalues\u001b[33m?\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n}, ${i.values})`\u001b[39m)\u001b[33m:\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n})`\u001b[39m)\u001b[33m,\u001b[39m{query\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mparameters\u001b[33m:\u001b[39mi}}\u001b[33m,\u001b[39m\u001b[33mWl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e\u001b[33m.\u001b[39mstrings\u001b[33m,\u001b[39m\u001b[33m...\u001b[39me\u001b[33m.\u001b[39mvalues]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mlet\u001b[39m[r\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mt]\u001b[33m=\u001b[39me\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m oe(r\u001b[33m,\u001b[39mt)}}\u001b[33m,\u001b[39m\u001b[33mJl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mreturn\u001b[39m e[\u001b[35m0\u001b[39m]}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mAo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mfunction\u001b[39m(t\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m(s\u001b[33m=\u001b[39me)\u001b[33m=>\u001b[39m{\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m s\u001b[33m===\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m||\u001b[39ms\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33m=\u001b[39m\u001b[33mHl\u001b[39m(t(s))\u001b[33m:\u001b[39m\u001b[33mHl\u001b[39m(t(s))}\u001b[36mcatch\u001b[39m(a){\u001b[36mreturn\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mreject(a)}}\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[36mget\u001b[39m spec(){\u001b[36mreturn\u001b[39m n}\u001b[33m,\u001b[39mthen(s\u001b[33m,\u001b[39ma){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39mthen(s\u001b[33m,\u001b[39ma)}\u001b[33m,\u001b[39m\u001b[36mcatch\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(s)}\u001b[33m,\u001b[39m\u001b[36mfinally\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mfinally\u001b[39m(s)}\u001b[33m,\u001b[39mrequestTransaction(s){\u001b[36mlet\u001b[39m a\u001b[33m=\u001b[39mo(s)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m a\u001b[33m.\u001b[39mrequestTransaction\u001b[33m?\u001b[39ma\u001b[33m.\u001b[39mrequestTransaction(s)\u001b[33m:\u001b[39ma}\u001b[33m,\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag]\u001b[33m:\u001b[39m\u001b[32m\"PrismaPromise\"\u001b[39m}}}\u001b[36mfunction\u001b[39m \u001b[33mHl\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mthen\u001b[33m==\u001b[39m\u001b[32m\"function\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39m\u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mresolve(e)}\u001b[36mvar\u001b[39m \u001b[33mTf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mEi\u001b[39m\u001b[33m.\u001b[39msplit(\u001b[32m\".\"\u001b[39m)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mSf\u001b[39m\u001b[33m=\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m}\u001b[33m,\u001b[39mgetTraceParent(){\u001b[36mreturn\u001b[39m\u001b[32m\"00-10-10-00\"\u001b[39m}\u001b[33m,\u001b[39mdispatchEngineSpans(){}\u001b[33m,\u001b[39mgetActiveContext(){}\u001b[33m,\u001b[39mrunInChildSpan(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m r()}}\u001b[33m,\u001b[39m\u001b[33mIo\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39misEnabled()}getTraceParent(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetTraceParent(r)}dispatchEngineSpans(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mdispatchEngineSpans(r)}getActiveContext(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetActiveContext()}runInChildSpan(r\u001b[33m,\u001b[39mt){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mrunInChildSpan(r\u001b[33m,\u001b[39mt)}getGlobalTracingHelper(){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39mglobalThis[\u001b[32m`V${Tf}_PRISMA_INSTRUMENTATION`\u001b[39m]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39mglobalThis\u001b[33m.\u001b[39m\u001b[33mPRISMA_INSTRUMENTATION\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33mSf\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKl\u001b[39m(){\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mIo\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mYl\u001b[39m(e\u001b[33m,\u001b[39mr\u001b[33m=\u001b[39m()\u001b[33m=>\u001b[39m{}){\u001b[36mlet\u001b[39m t\u001b[33m,\u001b[39mn\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m(i\u001b[33m=>\u001b[39mt\u001b[33m=\u001b[39mi)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{then(i){\u001b[36mreturn\u001b[39m\u001b[33m--\u001b[39me\u001b[33m===\u001b[39m\u001b[35m0\u001b[39m\u001b[33m&&\u001b[39mt(r())\u001b[33m,\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m.\u001b[39m(n)}}}\u001b[36mfunction\u001b[39m zl(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mreduce((r\u001b[33m,\u001b[39mt)\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[36mtypeof\u001b[39m t\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mlevel\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m===\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m?\u001b[39mr\u001b[33m:\u001b[39mr\u001b[33m&&\u001b[39m(t\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m||\u001b[39mr\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m)\u001b[33m?\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m:\u001b[39mn}\u001b[33m,\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mHn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{_middlewares\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39muse(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mpush(r)}\u001b[36mget\u001b[39m(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}has(r){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[33m!\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}length(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mlength}}\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mXl\u001b[39m\u001b[33m=\u001b[39mk(\u001b[33mOi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKn\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m==\u001b[39m\u001b[32m\"number\"\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mZl\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUnique\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUniqueOrThrow\"\u001b[39m)\u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mmodelName\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(e\u001b[33m.\u001b[39mmodelName)\u001b[33m,\u001b[39me\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39mselection))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mjoin(\u001b[32m\"\"\u001b[39m)}\u001b[36mfunction\u001b[39m ko(e){\u001b[36mreturn\u001b[39m\u001b[32m`(${Object.keys(e).sort().map(t=>{let n=e[t];return typeof n==\"object\"&&n!==null?`(${t} ${ko(n)})`:t}).join(\" \")})`\u001b[39m}\u001b[36mvar\u001b[39m \u001b[33mRf\u001b[39m\u001b[33m=\u001b[39m{aggregate\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39maggregateRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mcreateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mexecuteRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mfindFirst\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindFirstOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUnique\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUniqueOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mgroupBy\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mqueryRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mrunCommandRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupsertOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mOo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[33mRf\u001b[39m[e]}\u001b[36mvar\u001b[39m \u001b[33mYn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{constructor(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches\u001b[33m=\u001b[39m{}}batches\u001b[33m;\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m;\u001b[39mrequest(r){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchBy(r)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m t\u001b[33m?\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mprocess\u001b[33m.\u001b[39mnextTick(()\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdispatchBatches()\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m})))\u001b[33m,\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m.\u001b[39mpush({request\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mresolve\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mreject\u001b[33m:\u001b[39mi})}))\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(r)}dispatchBatches(){\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m r \u001b[36min\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m;\u001b[39m\u001b[36mdelete\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m,\u001b[39mt\u001b[33m.\u001b[39mlength\u001b[33m===\u001b[39m\u001b[35m1\u001b[39m\u001b[33m?\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mrequest)\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)\u001b[33m:\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mresolve(n)})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)})\u001b[33m:\u001b[39m(t\u001b[33m.\u001b[39msort((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchOrder(n\u001b[33m.\u001b[39mrequest\u001b[33m,\u001b[39mi\u001b[33m.\u001b[39mrequest))\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchLoader(t\u001b[33m.\u001b[39mmap(n\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mrequest))\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m o\u001b[33m=\u001b[39mn[i]\u001b[33m;\u001b[39mo \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[i]\u001b[33m.\u001b[39mreject(o)\u001b[33m:\u001b[39mt[i]\u001b[33m.\u001b[39mresolve(o)}})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)}))}}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"DataLoader\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m mr(e\u001b[33m,\u001b[39mr){\u001b[36mif\u001b[39m(r\u001b[33m===\u001b[39m\u001b[36mnull\u001b[39m)\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mswitch\u001b[39m(e){\u001b[36mcase\u001b[39m\u001b[32m\"bigint\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[33mBigInt\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes\"\u001b[39m\u001b[33m:\u001b[39m{\u001b[36mlet\u001b[39m{buffer\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mbyteOffset\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mbyteLength\u001b[33m:\u001b[39mi}\u001b[33m=\u001b[39m\u001b[33mBuffer\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m(r\u001b[33m,\u001b[39m\u001b[32m\"base64\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mUint8Array\u001b[39m(t\u001b[33m,\u001b[39mn\u001b[33m,\u001b[39mi)}\u001b[36mcase\u001b[39m\u001b[32m\"decimal\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mPe\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(\u001b[32m`1970-01-01T${r}Z`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bigint-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bigint\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bytes\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"decimal-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"decimal\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"datetime\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"date\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"time\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r}}\u001b[36mfunction\u001b[39m zn(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39m\u001b[33mCf\u001b[39m(e)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mn\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mrows\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mn\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mrows[n]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m{\u001b[33m...\u001b[39mt}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m s\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39ms\u001b[33m<\u001b[39m\u001b[33mi\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39ms\u001b[33m++\u001b[39m)o[e\u001b[33m.\u001b[39mcolumns[s]]\u001b[33m=\u001b[39mmr(e\u001b[33m.\u001b[39mtypes[s]\u001b[33m,\u001b[39mi[s])\u001b[33m;\u001b[39mr\u001b[33m.\u001b[39mpush(o)}\u001b[36mreturn\u001b[39m r}\u001b[36mfunction\u001b[39m \u001b[33mCf\u001b[39m(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m{}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mt\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mcolumns\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mt\u001b[33m++\u001b[39m)r[e\u001b[33m.\u001b[39mcolumns[t]]\u001b[33m=\u001b[39m\u001b[36mnull\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r}\u001b[36mvar\u001b[39m \u001b[33mAf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mN\u001b[39m(\u001b[32m\"prisma:client:request_handler\"\u001b[39m)\u001b[33m,\u001b[39m\u001b[33mZn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{client\u001b[33m;\u001b[39mdataloader\u001b[33m;\u001b[39mlogEmitter\u001b[33m;\u001b[39mconstructor(r\u001b[33m,\u001b[39mt){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m=\u001b[39mt\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m=\u001b[39mr\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mYn\u001b[39m({batchLoader\u001b[33m:\u001b[39mol(\u001b[36masync\u001b[39m({requests\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi})\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m{transaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39motelParentCtx\u001b[33m:\u001b[39ms}\u001b[33m=\u001b[39mn[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mmap(p\u001b[33m=>\u001b[39mp\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent(s)\u001b[33m,\u001b[39mu\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39msome(p\u001b[33m=>\u001b[39m\u001b[33mOo\u001b[39m(p\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction))\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m(\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequestBatch(a\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39ml\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39m\u001b[33mIf\u001b[39m(o)\u001b[33m,\u001b[39mcontainsWrite\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi}))\u001b[33m.\u001b[39mmap((p\u001b[33m,\u001b[39md)\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(p \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mreturn\u001b[39m p\u001b[33m;\u001b[39m\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n[d]\u001b[33m,\u001b[39mp)}\u001b[36mcatch\u001b[39m(f){\u001b[36mreturn\u001b[39m f}})})\u001b[33m,\u001b[39msingleLoader\u001b[33m:\u001b[39m\u001b[36masync\u001b[39m n\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39meu(n\u001b[33m.\u001b[39mtransaction)\u001b[33m:\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequest(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent()\u001b[33m,\u001b[39minteractiveTransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39misWrite\u001b[33m:\u001b[39m\u001b[33mOo\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction)\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mn\u001b[33m.\u001b[39mcustomDataProxyFetch})\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n\u001b[33m,\u001b[39mo)}\u001b[33m,\u001b[39mbatchBy\u001b[33m:\u001b[39mn\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mid\u001b[33m?\u001b[39m\u001b[32m`transaction-${n.transaction.id}`\u001b[39m\u001b[33m:\u001b[39m\u001b[33mZl\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39mbatchOrder(n\u001b[33m,\u001b[39mi){\u001b[36mreturn\u001b[39m n\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m?\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m-\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m:\u001b[39m\u001b[35m0\u001b[39m}})}\u001b[36masync\u001b[39m request(r){\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m.\u001b[39mrequest(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mlet\u001b[39m{clientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma}\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleAndLogRequestError({error\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mglobalOmit})}}mapQueryEngineResult({dataPath\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39munpacker\u001b[33m:\u001b[39mt}\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mdata\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39munpack(i\u001b[33m,\u001b[39mr\u001b[33m,\u001b[39mt)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mPRISMA_CLIENT_GET_TIME\u001b[39m\u001b[33m?\u001b[39m{data\u001b[33m:\u001b[39mo}\u001b[33m:\u001b[39mo}handleAndLogRequestError(r){\u001b[36mtry\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleRequestError(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mthrow\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m.\u001b[39memit(\u001b[32m\"error\"\u001b[39m\u001b[33m,\u001b[39m{message\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mmessage\u001b[33m,\u001b[39mtarget\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mclientMethod\u001b[33m,\u001b[39mtimestamp\u001b[33m:\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m})\u001b[33m,\u001b[39mt}}handleRequestError({error\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma}){\u001b[36mif\u001b[39m(\u001b[33mAf\u001b[39m(r)\u001b[33m,\u001b[39mkf(r\u001b[33m,\u001b[39mi))\u001b[36mthrow\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m z\u001b[33m&&\u001b[39m\u001b[33mOf\u001b[39m(r)){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39mru(r\u001b[33m.\u001b[39mmeta)\u001b[33m;\u001b[39mkn({args\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39m[u]\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39merrorFormat\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma})}\u001b[36mlet\u001b[39m l\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mmessage\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m(l\u001b[33m=\u001b[39mwn({callsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39misPanic\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39misPanic\u001b[33m,\u001b[39mshowColors\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m===\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39mmessage\u001b[33m:\u001b[39ml}))\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39msanitizeMessage(l)\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mcode){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39ms\u001b[33m?\u001b[39m{modelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr\u001b[33m.\u001b[39mmeta}\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mmeta\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m z(l\u001b[33m,\u001b[39m{code\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mcode\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mmeta\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})}\u001b[36melse\u001b[39m{\u001b[36mif\u001b[39m(r\u001b[33m.\u001b[39misPanic)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m j)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m j(l\u001b[33m,\u001b[39m{clientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m \u001b[33mT\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mT\u001b[39m(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m le)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)}\u001b[36mthrow\u001b[39m r\u001b[33m.\u001b[39mclientVersion\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mr}sanitizeMessage(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m!==\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m?\u001b[39m(\u001b[35m0\u001b[39m\u001b[33m,\u001b[39m\u001b[33mXl\u001b[39m\u001b[33m.\u001b[39m\u001b[36mdefault\u001b[39m)(r)\u001b[33m:\u001b[39mr}unpack(r\u001b[33m,\u001b[39mt\u001b[33m,\u001b[39mn){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m||\u001b[39m(r\u001b[33m.\u001b[39mdata\u001b[33m&&\u001b[39m(r\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mdata)\u001b[33m,\u001b[39m\u001b[33m!\u001b[39mr))\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mvalues(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ms\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mfilter(u\u001b[33m=>\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"select\"\u001b[39m\u001b[33m&&\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"include\"\u001b[39m)\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mio(o\u001b[33m,\u001b[39ms)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39mi\u001b[33m===\u001b[39m\u001b[32m\"queryRaw\"\u001b[39m\u001b[33m?\u001b[39mzn(a)\u001b[33m:\u001b[39m\u001b[33mTr\u001b[39m(a)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m?\u001b[39mn(l)\u001b[33m:\u001b[39ml}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"RequestHandler\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mIf\u001b[39m(e){\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39m{isolationLevel\u001b[33m:\u001b[39me\u001b[33m.\u001b[39misolationLevel}}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39meu(e)}\u001b[33m;\u001b[39m_e(e\u001b[33m,\u001b[39m\u001b[32m\"Unknown transaction kind\"\u001b[39m)}}\u001b[36mfunction\u001b[39m eu(e){\u001b[36mreturn\u001b[39m{id\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39mpayload\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mpayload}}\u001b[36mfunction\u001b[39m kf(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m \u001b[33mKn\u001b[39m(e)\u001b[33m&&\u001b[39mr\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m!==\u001b[39mr\u001b[33m.\u001b[39mindex}\u001b[36mfunction\u001b[39m \u001b[33mOf\u001b[39m(e){\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2009\"\u001b[39m\u001b[33m||\u001b[39me\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2012\"\u001b[39m}\u001b[36mfunction\u001b[39m ru(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"Union\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"Union\"\u001b[39m\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39me\u001b[33m.\u001b[39merrors\u001b[33m.\u001b[39mmap(ru)}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e\u001b[33m.\u001b[39mselectionPath)){\u001b[36mlet\u001b[39m[\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr]\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mselectionPath\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[33m...\u001b[39me\u001b[33m,\u001b[39mselectionPath\u001b[33m:\u001b[39mr}}\u001b[36mreturn\u001b[39m e}\u001b[36mvar\u001b[39m tu\u001b[33m=\u001b[39m\u001b[33mSl\u001b[39m\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m au\u001b[33m=\u001b[39mk(\u001b[33mQi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mD\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mError\u001b[39m{constructor(r){\u001b[36msuper\u001b[39m(r\u001b[33m+\u001b[39m\u001b[32m`\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 125 |\u001b[39m \u001b[32mRead more at https://pris.ly/d/client-constructor`\u001b[39m)\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mname\u001b[33m=\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}}\u001b[33m;\u001b[39mx(\u001b[33mD\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m nu\u001b[33m=\u001b[39m[\u001b[32m\"datasources\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"datasourceUrl\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"errorFormat\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"adapter\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"log\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"transactionOptions\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"omit\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"__internal\"\u001b[39m]\u001b[33m,\u001b[39miu\u001b[33m=\u001b[39m[\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"colorless\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"minimal\"\u001b[39m]\u001b[33m,\u001b[39mou\u001b[33m=\u001b[39m[\u001b[32m\"info\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"warn\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"error\"\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mDf\u001b[39m\u001b[33m=\u001b[39m{datasources\u001b[33m:\u001b[39m(e\u001b[33m,\u001b[39m{datasourceNames\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m e\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for \"datasources\" provided to PrismaClient constructor`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[t\u001b[33m,\u001b[39mn]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(e)){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m.\u001b[39mincludes(t)){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mWr\u001b[39m(t\u001b[33m,\u001b[39mr)\u001b[33m||\u001b[39m\u001b[32m` Available datasources: ${r.join(\", \")}`\u001b[39m\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Unknown datasource ${t} provided to PrismaClient constructor.${i}`\u001b[39m)}\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m n\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(n))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 126 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m\u001b[36mtypeof\u001b[39m n\u001b[33m==\u001b[39m\u001b[32m\"object\"\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[i\u001b[33m,\u001b[39mo]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(n)){\u001b[36mif\u001b[39m(i\u001b[33m!==\u001b[39m\u001b[32m\"url\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 127 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m o\u001b[33m!=\u001b[39m\u001b[32m\"string\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(o)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:7649)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError [as handleAndLogRequestError] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6784)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleAndLogRequestError [as request] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6491)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat l (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:133:9778)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/auth-flow.test.ts\u001b[39m\u001b[0m\u001b[2m:41:5)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAuthentication Flow Testing - Phase 2.3 › Security Validation › should validate credential expiration\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32m201\u001b[39m\n    Received: \u001b[31m500\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 455 |\u001b[39m       \u001b[36mawait\u001b[39m credentialsHandler(storeReq \u001b[36mas\u001b[39m any\u001b[33m,\u001b[39m storeRes \u001b[36mas\u001b[39m any)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 456 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 457 |\u001b[39m       expect(storeRes\u001b[33m.\u001b[39m_getStatusCode())\u001b[33m.\u001b[39mtoBe(\u001b[35m201\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 458 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 459 |\u001b[39m       \u001b[90m// Retrieve credentials and verify expiration status\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 460 |\u001b[39m       \u001b[36mconst\u001b[39m { req\u001b[33m:\u001b[39m getReq\u001b[33m,\u001b[39m res\u001b[33m:\u001b[39m getRes } \u001b[33m=\u001b[39m createAuthenticatedRequest(\u001b[32m'GET'\u001b[39m\u001b[33m,\u001b[39m testUser)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/auth-flow.test.ts\u001b[39m\u001b[0m\u001b[2m:457:41)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAuthentication Flow Testing - Phase 2.3 › Audit Logging › should log credential access events\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBeGreaterThan\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\n    Expected: > \u001b[32m0\u001b[39m\n    Received:   \u001b[31m0\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 509 |\u001b[39m       })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 510 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 511 |\u001b[39m       expect(auditLogs\u001b[33m.\u001b[39mlength)\u001b[33m.\u001b[39mtoBeGreaterThan(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 512 |\u001b[39m       expect(auditLogs[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mresource)\u001b[33m.\u001b[39mtoContain(connectionId)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 513 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 514 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBeGreaterThan (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/auth-flow.test.ts\u001b[39m\u001b[0m\u001b[2m:511:32)\u001b[22m\u001b[2m\u001b[22m\n","name":"/Users/connorbowen/apiq-mvp/tests/integration/api/auth-flow.test.ts","startTime":1751471235004,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["User Registration Integration Tests","POST /api/auth/register"],"duration":763,"failureDetails":[],"failureMessages":[],"fullName":"User Registration Integration Tests POST /api/auth/register should register a new user successfully","invocations":1,"location":null,"numPassingAsserts":11,"retryReasons":[],"status":"passed","title":"should register a new user successfully"},{"ancestorTitles":["User Registration Integration Tests","POST /api/auth/register"],"duration":207,"failureDetails":[],"failureMessages":[],"fullName":"User Registration Integration Tests POST /api/auth/register should reject registration with invalid email","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should reject registration with invalid email"},{"ancestorTitles":["User Registration Integration Tests","POST /api/auth/register"],"duration":176,"failureDetails":[],"failureMessages":[],"fullName":"User Registration Integration Tests POST /api/auth/register should reject registration with weak password","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should reject registration with weak password"},{"ancestorTitles":["User Registration Integration Tests","POST /api/auth/register"],"duration":175,"failureDetails":[],"failureMessages":[],"fullName":"User Registration Integration Tests POST /api/auth/register should reject registration with missing fields","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should reject registration with missing fields"},{"ancestorTitles":["User Registration Integration Tests","POST /api/auth/register"],"duration":30175,"failureDetails":[{"message":"thrown: \"Exceeded timeout of 30000 ms for a test.\nAdd a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\""}],"failureMessages":["Error: thrown: \"Exceeded timeout of 30000 ms for a test.\nAdd a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n    at it (/Users/connorbowen/apiq-mvp/tests/integration/api/registration.test.ts:193:5)\n    at _dispatchDescribe (/Users/connorbowen/apiq-mvp/node_modules/jest-circus/build/index.js:91:26)\n    at describe (/Users/connorbowen/apiq-mvp/node_modules/jest-circus/build/index.js:55:5)\n    at describe (/Users/connorbowen/apiq-mvp/tests/integration/api/registration.test.ts:46:3)\n    at _dispatchDescribe (/Users/connorbowen/apiq-mvp/node_modules/jest-circus/build/index.js:91:26)\n    at describe (/Users/connorbowen/apiq-mvp/node_modules/jest-circus/build/index.js:55:5)\n    at Object.describe (/Users/connorbowen/apiq-mvp/tests/integration/api/registration.test.ts:10:1)\n    at Runtime._execModule (/Users/connorbowen/apiq-mvp/node_modules/jest-runtime/build/index.js:1439:24)\n    at Runtime._loadModule (/Users/connorbowen/apiq-mvp/node_modules/jest-runtime/build/index.js:1022:12)\n    at Runtime.requireModule (/Users/connorbowen/apiq-mvp/node_modules/jest-runtime/build/index.js:882:12)\n    at jestAdapter (/Users/connorbowen/apiq-mvp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:77:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runTestInternal (/Users/connorbowen/apiq-mvp/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/connorbowen/apiq-mvp/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/connorbowen/apiq-mvp/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"User Registration Integration Tests POST /api/auth/register should reject registration with existing email","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should reject registration with existing email"},{"ancestorTitles":["User Registration Integration Tests","POST /api/auth/register"],"duration":249,"failureDetails":[],"failureMessages":[],"fullName":"User Registration Integration Tests POST /api/auth/register should reject wrong HTTP method","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should reject wrong HTTP method"},{"ancestorTitles":["User Registration Integration Tests","POST /api/auth/register"],"duration":487,"failureDetails":[],"failureMessages":[],"fullName":"User Registration Integration Tests POST /api/auth/register 500 ➟ email service throws","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"500 ➟ email service throws"},{"ancestorTitles":["User Registration Integration Tests","POST /api/auth/verify"],"duration":256,"failureDetails":[{"matcherResult":{"actual":400,"expected":200,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m400\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m400\u001b[39m\n    at Object.toBe (/Users/connorbowen/apiq-mvp/tests/integration/api/registration.test.ts:288:36)"],"fullName":"User Registration Integration Tests POST /api/auth/verify should verify email with valid token","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should verify email with valid token"},{"ancestorTitles":["User Registration Integration Tests","POST /api/auth/verify"],"duration":191,"failureDetails":[],"failureMessages":[],"fullName":"User Registration Integration Tests POST /api/auth/verify should reject invalid verification token","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should reject invalid verification token"},{"ancestorTitles":["User Registration Integration Tests","POST /api/auth/verify"],"duration":245,"failureDetails":[{"matcherResult":{"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoContain\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // indexOf\u001b[22m\n\nExpected substring: \u001b[32m\"Verification token has expired\"\u001b[39m\nReceived string:    \u001b[31m\"Invalid verification token\"\u001b[39m","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoContain\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // indexOf\u001b[22m\n\nExpected substring: \u001b[32m\"Verification token has expired\"\u001b[39m\nReceived string:    \u001b[31m\"Invalid verification token\"\u001b[39m\n    at Object.toContain (/Users/connorbowen/apiq-mvp/tests/integration/api/registration.test.ts:360:26)"],"fullName":"User Registration Integration Tests POST /api/auth/verify should reject expired verification token","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"failed","title":"should reject expired verification token"},{"ancestorTitles":["User Registration Integration Tests","POST /api/auth/verify"],"duration":193,"failureDetails":[],"failureMessages":[],"fullName":"User Registration Integration Tests POST /api/auth/verify should reject missing token","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should reject missing token"},{"ancestorTitles":["User Registration Integration Tests","POST /api/auth/resend-verification"],"duration":207,"failureDetails":[{"matcherResult":{"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoContain\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // indexOf\u001b[22m\n\nExpected substring: \u001b[32m\"Verification email sent successfully\"\u001b[39m\nReceived string:    \u001b[31m\"If an account with this email exists, a verification email has been sent.\"\u001b[39m","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoContain\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // indexOf\u001b[22m\n\nExpected substring: \u001b[32m\"Verification email sent successfully\"\u001b[39m\nReceived string:    \u001b[31m\"If an account with this email exists, a verification email has been sent.\"\u001b[39m\n    at Object.toContain (/Users/connorbowen/apiq-mvp/tests/integration/api/registration.test.ts:414:33)"],"fullName":"User Registration Integration Tests POST /api/auth/resend-verification should resend verification email for unverified user","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"failed","title":"should resend verification email for unverified user"},{"ancestorTitles":["User Registration Integration Tests","POST /api/auth/resend-verification"],"duration":174,"failureDetails":[],"failureMessages":[],"fullName":"User Registration Integration Tests POST /api/auth/resend-verification should handle non-existent user gracefully","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle non-existent user gracefully"},{"ancestorTitles":["User Registration Integration Tests","POST /api/auth/resend-verification"],"duration":172,"failureDetails":[{"matcherResult":{"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoContain\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // indexOf\u001b[22m\n\nExpected substring: \u001b[32m\"This account is already verified\"\u001b[39m\nReceived string:    \u001b[31m\"If an account with this email exists, a verification email has been sent.\"\u001b[39m","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoContain\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // indexOf\u001b[22m\n\nExpected substring: \u001b[32m\"This account is already verified\"\u001b[39m\nReceived string:    \u001b[31m\"If an account with this email exists, a verification email has been sent.\"\u001b[39m\n    at Object.toContain (/Users/connorbowen/apiq-mvp/tests/integration/api/registration.test.ts:480:33)"],"fullName":"User Registration Integration Tests POST /api/auth/resend-verification should handle already verified user","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"failed","title":"should handle already verified user"},{"ancestorTitles":["User Registration Integration Tests","POST /api/auth/resend-verification"],"duration":158,"failureDetails":[],"failureMessages":[],"fullName":"User Registration Integration Tests POST /api/auth/resend-verification should reject invalid email format","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should reject invalid email format"},{"ancestorTitles":["User Registration Integration Tests","POST /api/auth/resend-verification"],"duration":175,"failureDetails":[{"matcherResult":{"actual":200,"expected":500,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m500\u001b[39m\nReceived: \u001b[31m200\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m500\u001b[39m\nReceived: \u001b[31m200\u001b[39m\n    at Object.toBe (/Users/connorbowen/apiq-mvp/tests/integration/api/registration.test.ts:523:36)"],"fullName":"User Registration Integration Tests POST /api/auth/resend-verification 500 ➟ email service throws","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"500 ➟ email service throws"}],"endTime":1751471269580,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mUser Registration Integration Tests › POST /api/auth/register › should reject registration with existing email\u001b[39m\u001b[22m\n\n    thrown: \"Exceeded timeout of 30000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 191 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 192 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 193 |\u001b[39m     it(\u001b[32m'should reject registration with existing email'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 194 |\u001b[39m       \u001b[36mconst\u001b[39m registerHandler \u001b[33m=\u001b[39m require(\u001b[32m'../../../pages/api/auth/register'\u001b[39m)\u001b[33m.\u001b[39m\u001b[36mdefault\u001b[39m\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 195 |\u001b[39m       \u001b[90m// Create a test user first\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 196 |\u001b[39m       \u001b[36mconst\u001b[39m existingUser \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m createTestUser(\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat it (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/registration.test.ts\u001b[39m\u001b[0m\u001b[2m:193:5)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat describe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/registration.test.ts\u001b[39m\u001b[0m\u001b[2m:46:3)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.describe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/registration.test.ts\u001b[39m\u001b[0m\u001b[2m:10:1)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mUser Registration Integration Tests › POST /api/auth/verify › should verify email with valid token\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32m200\u001b[39m\n    Received: \u001b[31m400\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 286 |\u001b[39m       \u001b[36mawait\u001b[39m verifyHandler(req\u001b[33m,\u001b[39m res)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 287 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 288 |\u001b[39m       expect(res\u001b[33m.\u001b[39m_getStatusCode())\u001b[33m.\u001b[39mtoBe(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 289 |\u001b[39m       \u001b[36mconst\u001b[39m data \u001b[33m=\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(res\u001b[33m.\u001b[39m_getData())\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 290 |\u001b[39m       expect(data\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 291 |\u001b[39m       expect(data\u001b[33m.\u001b[39mdata\u001b[33m.\u001b[39mmessage)\u001b[33m.\u001b[39mtoContain(\u001b[32m'Email verified successfully'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/registration.test.ts\u001b[39m\u001b[0m\u001b[2m:288:36)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mUser Registration Integration Tests › POST /api/auth/verify › should reject expired verification token\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoContain\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // indexOf\u001b[22m\n\n    Expected substring: \u001b[32m\"Verification token has expired\"\u001b[39m\n    Received string:    \u001b[31m\"Invalid verification token\"\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 358 |\u001b[39m       \u001b[36mconst\u001b[39m data \u001b[33m=\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(res\u001b[33m.\u001b[39m_getData())\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 359 |\u001b[39m       expect(data\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 360 |\u001b[39m       expect(data\u001b[33m.\u001b[39merror)\u001b[33m.\u001b[39mtoContain(\u001b[32m'Verification token has expired'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 361 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 362 |\u001b[39m       \u001b[90m// Verify token was deleted\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 363 |\u001b[39m       \u001b[36mconst\u001b[39m deletedToken \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m prisma\u001b[33m.\u001b[39mverificationToken\u001b[33m.\u001b[39mfindUnique({\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toContain (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/registration.test.ts\u001b[39m\u001b[0m\u001b[2m:360:26)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mUser Registration Integration Tests › POST /api/auth/resend-verification › should resend verification email for unverified user\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoContain\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // indexOf\u001b[22m\n\n    Expected substring: \u001b[32m\"Verification email sent successfully\"\u001b[39m\n    Received string:    \u001b[31m\"If an account with this email exists, a verification email has been sent.\"\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 412 |\u001b[39m       \u001b[36mconst\u001b[39m data \u001b[33m=\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(res\u001b[33m.\u001b[39m_getData())\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 413 |\u001b[39m       expect(data\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 414 |\u001b[39m       expect(data\u001b[33m.\u001b[39mdata\u001b[33m.\u001b[39mmessage)\u001b[33m.\u001b[39mtoContain(\u001b[32m'Verification email sent successfully'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 415 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 416 |\u001b[39m       \u001b[90m// Verify new verification token was created\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 417 |\u001b[39m       \u001b[36mconst\u001b[39m verificationToken \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m prisma\u001b[33m.\u001b[39mverificationToken\u001b[33m.\u001b[39mfindFirst({\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toContain (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/registration.test.ts\u001b[39m\u001b[0m\u001b[2m:414:33)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mUser Registration Integration Tests › POST /api/auth/resend-verification › should handle already verified user\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoContain\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // indexOf\u001b[22m\n\n    Expected substring: \u001b[32m\"This account is already verified\"\u001b[39m\n    Received string:    \u001b[31m\"If an account with this email exists, a verification email has been sent.\"\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 478 |\u001b[39m       \u001b[36mconst\u001b[39m data \u001b[33m=\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(res\u001b[33m.\u001b[39m_getData())\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 479 |\u001b[39m       expect(data\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 480 |\u001b[39m       expect(data\u001b[33m.\u001b[39mdata\u001b[33m.\u001b[39mmessage)\u001b[33m.\u001b[39mtoContain(\u001b[32m'This account is already verified'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 481 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 482 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 483 |\u001b[39m     it(\u001b[32m'should reject invalid email format'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toContain (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/registration.test.ts\u001b[39m\u001b[0m\u001b[2m:480:33)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mUser Registration Integration Tests › POST /api/auth/resend-verification › 500 ➟ email service throws\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32m500\u001b[39m\n    Received: \u001b[31m200\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 521 |\u001b[39m       \u001b[36mawait\u001b[39m resendVerificationHandler(req\u001b[33m,\u001b[39m res)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 522 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 523 |\u001b[39m       expect(res\u001b[33m.\u001b[39m_getStatusCode())\u001b[33m.\u001b[39mtoBe(\u001b[35m500\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 524 |\u001b[39m       expect(res\u001b[33m.\u001b[39m_getJSONData())\u001b[33m.\u001b[39mtoMatchObject({\u001b[22m\n\u001b[2m     \u001b[90m 525 |\u001b[39m         error\u001b[33m:\u001b[39m \u001b[32m'Failed to send verification email'\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 526 |\u001b[39m       })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/registration.test.ts\u001b[39m\u001b[0m\u001b[2m:523:36)\u001b[22m\u001b[2m\u001b[22m\n","name":"/Users/connorbowen/apiq-mvp/tests/integration/api/registration.test.ts","startTime":1751471235001,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["/api/health","GET"],"duration":1500,"failureDetails":[],"failureMessages":[],"fullName":"/api/health GET should return 200 and health status","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should return 200 and health status"},{"ancestorTitles":["/api/health","GET"],"duration":6170,"failureDetails":[],"failureMessages":[],"fullName":"/api/health GET should include required health check fields","invocations":1,"location":null,"numPassingAsserts":11,"retryReasons":[],"status":"passed","title":"should include required health check fields"},{"ancestorTitles":["/api/health","GET"],"duration":2215,"failureDetails":[{"name":"PrismaClientUnknownRequestError","clientVersion":"6.10.1"}],"failureMessages":["PrismaClientUnknownRequestError: \nInvalid `prisma.endpoint.deleteMany()` invocation in\n/Users/connorbowen/apiq-mvp/tests/integration/api/health.test.ts:36:27\n\n  33 describe('/api/health', () => {\n  34   beforeEach(async () => {\n  35     jest.clearAllMocks();\n→ 36     await prisma.endpoint.deleteMany(\nError occurred during query execution:\nConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28324 waits for ShareLock on transaction 54162; blocked by process 28326.\\nProcess 28326 waits for ShareLock on transaction 54169; blocked by process 28324.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n    at Zn.handleRequestError (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:7649)\n    at Zn.handleRequestError [as handleAndLogRequestError] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6784)\n    at Zn.handleAndLogRequestError [as request] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6491)\n    at l (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:133:9778)\n    at Object.<anonymous> (/Users/connorbowen/apiq-mvp/tests/integration/api/health.test.ts:36:5)"],"fullName":"/api/health GET should handle database connectivity check","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle database connectivity check"},{"ancestorTitles":["/api/health","GET"],"duration":1553,"failureDetails":[{"name":"PrismaClientUnknownRequestError","clientVersion":"6.10.1"}],"failureMessages":["PrismaClientUnknownRequestError: \nInvalid `prisma.apiConnection.deleteMany()` invocation in\n/Users/connorbowen/apiq-mvp/tests/integration/api/health.test.ts:48:32\n\n  45     }\n  46   }\n  47 });\n→ 48 await prisma.apiConnection.deleteMany(\nError occurred during query execution:\nConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28324 waits for ShareLock on transaction 54192; blocked by process 28405.\\nProcess 28405 waits for ShareLock on transaction 54197; blocked by process 28328.\\nProcess 28328 waits for AccessShareLock on tuple (0,19) of relation 33235 of database 21992; blocked by process 28324.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n    at Zn.handleRequestError (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:7649)\n    at Zn.handleRequestError [as handleAndLogRequestError] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6784)\n    at Zn.handleAndLogRequestError [as request] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6491)\n    at l (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:133:9778)\n    at Object.<anonymous> (/Users/connorbowen/apiq-mvp/tests/integration/api/health.test.ts:48:5)"],"fullName":"/api/health GET should handle OpenAI service check","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle OpenAI service check"},{"ancestorTitles":["/api/health","GET"],"duration":2722,"failureDetails":[{"name":"PrismaClientUnknownRequestError","clientVersion":"6.10.1"}],"failureMessages":["PrismaClientUnknownRequestError: \nInvalid `prisma.apiConnection.deleteMany()` invocation in\n/Users/connorbowen/apiq-mvp/tests/integration/api/health.test.ts:48:32\n\n  45     }\n  46   }\n  47 });\n→ 48 await prisma.apiConnection.deleteMany(\nError occurred during query execution:\nConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28324 waits for ShareLock on transaction 54210; blocked by process 28326.\\nProcess 28326 waits for ShareLock on transaction 54201; blocked by process 28324.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n    at Zn.handleRequestError (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:7649)\n    at Zn.handleRequestError [as handleAndLogRequestError] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6784)\n    at Zn.handleAndLogRequestError [as request] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6491)\n    at l (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:133:9778)\n    at Object.<anonymous> (/Users/connorbowen/apiq-mvp/tests/integration/api/health.test.ts:48:5)"],"fullName":"/api/health GET should handle encryption service check","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle encryption service check"},{"ancestorTitles":["/api/health","GET"],"duration":1094,"failureDetails":[{"name":"PrismaClientUnknownRequestError","clientVersion":"6.10.1"}],"failureMessages":["PrismaClientUnknownRequestError: \nInvalid `prisma.apiConnection.deleteMany()` invocation in\n/Users/connorbowen/apiq-mvp/tests/integration/api/health.test.ts:48:32\n\n  45     }\n  46   }\n  47 });\n→ 48 await prisma.apiConnection.deleteMany(\nError occurred during query execution:\nConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28324 waits for AccessExclusiveLock on tuple (0,19) of relation 33235 of database 21992; blocked by process 28323.\\nProcess 28323 waits for ShareLock on transaction 54218; blocked by process 28328.\\nProcess 28328 waits for ShareLock on transaction 54221; blocked by process 28326.\\nProcess 28326 waits for AccessExclusiveLock on tuple (0,19) of relation 33235 of database 21992; blocked by process 28324.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n    at Zn.handleRequestError (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:7649)\n    at Zn.handleRequestError [as handleAndLogRequestError] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6784)\n    at Zn.handleAndLogRequestError [as request] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6491)\n    at l (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:133:9778)\n    at Object.<anonymous> (/Users/connorbowen/apiq-mvp/tests/integration/api/health.test.ts:48:5)"],"fullName":"/api/health GET should handle environment check","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle environment check"},{"ancestorTitles":["/api/health","GET"],"duration":2708,"failureDetails":[],"failureMessages":[],"fullName":"/api/health GET should return 405 for non-GET requests","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should return 405 for non-GET requests"},{"ancestorTitles":["/api/health","GET"],"duration":1264,"failureDetails":[],"failureMessages":[],"fullName":"/api/health GET should handle malformed requests gracefully","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle malformed requests gracefully"},{"ancestorTitles":["/api/health","GET"],"duration":1272,"failureDetails":[],"failureMessages":[],"fullName":"/api/health GET should include CORS headers","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should include CORS headers"},{"ancestorTitles":["/api/health","GET"],"duration":5670,"failureDetails":[{"name":"PrismaClientUnknownRequestError","clientVersion":"6.10.1"}],"failureMessages":["PrismaClientUnknownRequestError: \nInvalid `prisma.user.deleteMany()` invocation in\n/Users/connorbowen/apiq-mvp/tests/integration/api/health.test.ts:58:23\n\n  55     }\n  56   }\n  57 });\n→ 58 await prisma.user.deleteMany(\nError occurred during query execution:\nConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28463 waits for ShareLock on transaction 54242; blocked by process 28465.\\nProcess 28465 waits for ShareLock on transaction 54235; blocked by process 28463.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n    at Zn.handleRequestError (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:7649)\n    at Zn.handleRequestError [as handleAndLogRequestError] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6784)\n    at Zn.handleAndLogRequestError [as request] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6491)\n    at l (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:133:9778)\n    at Object.<anonymous> (/Users/connorbowen/apiq-mvp/tests/integration/api/health.test.ts:58:5)"],"fullName":"/api/health GET should handle OPTIONS requests for CORS preflight","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle OPTIONS requests for CORS preflight"},{"ancestorTitles":["/api/health","error handling"],"duration":383,"failureDetails":[],"failureMessages":[],"fullName":"/api/health error handling should handle database connection errors","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle database connection errors"},{"ancestorTitles":["/api/health","error handling"],"duration":3338,"failureDetails":[],"failureMessages":[],"fullName":"/api/health error handling should handle internal server errors gracefully","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle internal server errors gracefully"},{"ancestorTitles":["/api/health","performance"],"duration":638,"failureDetails":[],"failureMessages":[],"fullName":"/api/health performance should respond within reasonable time","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should respond within reasonable time"},{"ancestorTitles":["/api/health","performance"],"duration":1300,"failureDetails":[],"failureMessages":[],"fullName":"/api/health performance should handle concurrent requests","invocations":1,"location":null,"numPassingAsserts":10,"retryReasons":[],"status":"passed","title":"should handle concurrent requests"},{"ancestorTitles":["/api/health","security"],"duration":30032,"failureDetails":[{"message":"thrown: \"Exceeded timeout of 30000 ms for a hook.\nAdd a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\""}],"failureMessages":["Error: thrown: \"Exceeded timeout of 30000 ms for a hook.\nAdd a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n    at beforeEach (/Users/connorbowen/apiq-mvp/tests/integration/api/health.test.ts:34:3)\n    at _dispatchDescribe (/Users/connorbowen/apiq-mvp/node_modules/jest-circus/build/index.js:91:26)\n    at describe (/Users/connorbowen/apiq-mvp/node_modules/jest-circus/build/index.js:55:5)\n    at Object.describe (/Users/connorbowen/apiq-mvp/tests/integration/api/health.test.ts:33:1)\n    at Runtime._execModule (/Users/connorbowen/apiq-mvp/node_modules/jest-runtime/build/index.js:1439:24)\n    at Runtime._loadModule (/Users/connorbowen/apiq-mvp/node_modules/jest-runtime/build/index.js:1022:12)\n    at Runtime.requireModule (/Users/connorbowen/apiq-mvp/node_modules/jest-runtime/build/index.js:882:12)\n    at jestAdapter (/Users/connorbowen/apiq-mvp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:77:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runTestInternal (/Users/connorbowen/apiq-mvp/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/connorbowen/apiq-mvp/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/connorbowen/apiq-mvp/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"/api/health security should not expose sensitive information","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should not expose sensitive information"},{"ancestorTitles":["/api/health","security"],"duration":30022,"failureDetails":[{"message":"thrown: \"Exceeded timeout of 30000 ms for a hook.\nAdd a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\""}],"failureMessages":["Error: thrown: \"Exceeded timeout of 30000 ms for a hook.\nAdd a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n    at beforeEach (/Users/connorbowen/apiq-mvp/tests/integration/api/health.test.ts:34:3)\n    at _dispatchDescribe (/Users/connorbowen/apiq-mvp/node_modules/jest-circus/build/index.js:91:26)\n    at describe (/Users/connorbowen/apiq-mvp/node_modules/jest-circus/build/index.js:55:5)\n    at Object.describe (/Users/connorbowen/apiq-mvp/tests/integration/api/health.test.ts:33:1)\n    at Runtime._execModule (/Users/connorbowen/apiq-mvp/node_modules/jest-runtime/build/index.js:1439:24)\n    at Runtime._loadModule (/Users/connorbowen/apiq-mvp/node_modules/jest-runtime/build/index.js:1022:12)\n    at Runtime.requireModule (/Users/connorbowen/apiq-mvp/node_modules/jest-runtime/build/index.js:882:12)\n    at jestAdapter (/Users/connorbowen/apiq-mvp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:77:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runTestInternal (/Users/connorbowen/apiq-mvp/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/connorbowen/apiq-mvp/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/connorbowen/apiq-mvp/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"/api/health security should handle malicious query parameters","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle malicious query parameters"}],"endTime":1751471327599,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1m/api/health › GET › should handle database connectivity check\u001b[39m\u001b[22m\n\n    PrismaClientUnknownRequestError: \n    Invalid `prisma.endpoint.deleteMany()` invocation in\n    /Users/connorbowen/apiq-mvp/tests/integration/api/health.test.ts:36:27\n\n      33 describe('/api/health', () => {\n      34   beforeEach(async () => {\n      35     jest.clearAllMocks();\n    → 36     await prisma.endpoint.deleteMany(\n    Error occurred during query execution:\n    ConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28324 waits for ShareLock on transaction 54162; blocked by process 28326.\\nProcess 28326 waits for ShareLock on transaction 54169; blocked by process 28324.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 122 |\u001b[39m \u001b[32m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 123 |\u001b[39m \u001b[32mMore Information: https://pris.ly/d/execute-raw\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 124 |\u001b[39m \u001b[32m`\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mCo\u001b[39m\u001b[33m=\u001b[39m({clientMethod\u001b[33m:\u001b[39me\u001b[33m,\u001b[39mactiveProvider\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39mt\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[32m\"\"\u001b[39m\u001b[33m,\u001b[39mi\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mFn\u001b[39m(t))n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(t)){\u001b[36mlet\u001b[39m[o\u001b[33m,\u001b[39m\u001b[33m...\u001b[39ms]\u001b[33m=\u001b[39mt\u001b[33m;\u001b[39mn\u001b[33m=\u001b[39mo\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(s\u001b[33m||\u001b[39m[])\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}}\u001b[36melse\u001b[39m \u001b[36mswitch\u001b[39m(r){\u001b[36mcase\u001b[39m\u001b[32m\"sqlite\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"mysql\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"cockroachdb\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgresql\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgres\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mtext\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"sqlserver\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mjl(t)\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`The ${r} provider does not support ${e}`\u001b[39m)}\u001b[36mreturn\u001b[39m i\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mvalues\u001b[33m?\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n}, ${i.values})`\u001b[39m)\u001b[33m:\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n})`\u001b[39m)\u001b[33m,\u001b[39m{query\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mparameters\u001b[33m:\u001b[39mi}}\u001b[33m,\u001b[39m\u001b[33mWl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e\u001b[33m.\u001b[39mstrings\u001b[33m,\u001b[39m\u001b[33m...\u001b[39me\u001b[33m.\u001b[39mvalues]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mlet\u001b[39m[r\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mt]\u001b[33m=\u001b[39me\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m oe(r\u001b[33m,\u001b[39mt)}}\u001b[33m,\u001b[39m\u001b[33mJl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mreturn\u001b[39m e[\u001b[35m0\u001b[39m]}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mAo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mfunction\u001b[39m(t\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m(s\u001b[33m=\u001b[39me)\u001b[33m=>\u001b[39m{\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m s\u001b[33m===\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m||\u001b[39ms\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33m=\u001b[39m\u001b[33mHl\u001b[39m(t(s))\u001b[33m:\u001b[39m\u001b[33mHl\u001b[39m(t(s))}\u001b[36mcatch\u001b[39m(a){\u001b[36mreturn\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mreject(a)}}\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[36mget\u001b[39m spec(){\u001b[36mreturn\u001b[39m n}\u001b[33m,\u001b[39mthen(s\u001b[33m,\u001b[39ma){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39mthen(s\u001b[33m,\u001b[39ma)}\u001b[33m,\u001b[39m\u001b[36mcatch\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(s)}\u001b[33m,\u001b[39m\u001b[36mfinally\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mfinally\u001b[39m(s)}\u001b[33m,\u001b[39mrequestTransaction(s){\u001b[36mlet\u001b[39m a\u001b[33m=\u001b[39mo(s)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m a\u001b[33m.\u001b[39mrequestTransaction\u001b[33m?\u001b[39ma\u001b[33m.\u001b[39mrequestTransaction(s)\u001b[33m:\u001b[39ma}\u001b[33m,\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag]\u001b[33m:\u001b[39m\u001b[32m\"PrismaPromise\"\u001b[39m}}}\u001b[36mfunction\u001b[39m \u001b[33mHl\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mthen\u001b[33m==\u001b[39m\u001b[32m\"function\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39m\u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mresolve(e)}\u001b[36mvar\u001b[39m \u001b[33mTf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mEi\u001b[39m\u001b[33m.\u001b[39msplit(\u001b[32m\".\"\u001b[39m)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mSf\u001b[39m\u001b[33m=\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m}\u001b[33m,\u001b[39mgetTraceParent(){\u001b[36mreturn\u001b[39m\u001b[32m\"00-10-10-00\"\u001b[39m}\u001b[33m,\u001b[39mdispatchEngineSpans(){}\u001b[33m,\u001b[39mgetActiveContext(){}\u001b[33m,\u001b[39mrunInChildSpan(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m r()}}\u001b[33m,\u001b[39m\u001b[33mIo\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39misEnabled()}getTraceParent(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetTraceParent(r)}dispatchEngineSpans(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mdispatchEngineSpans(r)}getActiveContext(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetActiveContext()}runInChildSpan(r\u001b[33m,\u001b[39mt){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mrunInChildSpan(r\u001b[33m,\u001b[39mt)}getGlobalTracingHelper(){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39mglobalThis[\u001b[32m`V${Tf}_PRISMA_INSTRUMENTATION`\u001b[39m]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39mglobalThis\u001b[33m.\u001b[39m\u001b[33mPRISMA_INSTRUMENTATION\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33mSf\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKl\u001b[39m(){\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mIo\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mYl\u001b[39m(e\u001b[33m,\u001b[39mr\u001b[33m=\u001b[39m()\u001b[33m=>\u001b[39m{}){\u001b[36mlet\u001b[39m t\u001b[33m,\u001b[39mn\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m(i\u001b[33m=>\u001b[39mt\u001b[33m=\u001b[39mi)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{then(i){\u001b[36mreturn\u001b[39m\u001b[33m--\u001b[39me\u001b[33m===\u001b[39m\u001b[35m0\u001b[39m\u001b[33m&&\u001b[39mt(r())\u001b[33m,\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m.\u001b[39m(n)}}}\u001b[36mfunction\u001b[39m zl(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mreduce((r\u001b[33m,\u001b[39mt)\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[36mtypeof\u001b[39m t\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mlevel\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m===\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m?\u001b[39mr\u001b[33m:\u001b[39mr\u001b[33m&&\u001b[39m(t\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m||\u001b[39mr\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m)\u001b[33m?\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m:\u001b[39mn}\u001b[33m,\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mHn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{_middlewares\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39muse(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mpush(r)}\u001b[36mget\u001b[39m(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}has(r){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[33m!\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}length(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mlength}}\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mXl\u001b[39m\u001b[33m=\u001b[39mk(\u001b[33mOi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKn\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m==\u001b[39m\u001b[32m\"number\"\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mZl\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUnique\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUniqueOrThrow\"\u001b[39m)\u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mmodelName\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(e\u001b[33m.\u001b[39mmodelName)\u001b[33m,\u001b[39me\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39mselection))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mjoin(\u001b[32m\"\"\u001b[39m)}\u001b[36mfunction\u001b[39m ko(e){\u001b[36mreturn\u001b[39m\u001b[32m`(${Object.keys(e).sort().map(t=>{let n=e[t];return typeof n==\"object\"&&n!==null?`(${t} ${ko(n)})`:t}).join(\" \")})`\u001b[39m}\u001b[36mvar\u001b[39m \u001b[33mRf\u001b[39m\u001b[33m=\u001b[39m{aggregate\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39maggregateRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mcreateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mexecuteRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mfindFirst\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindFirstOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUnique\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUniqueOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mgroupBy\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mqueryRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mrunCommandRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupsertOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mOo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[33mRf\u001b[39m[e]}\u001b[36mvar\u001b[39m \u001b[33mYn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{constructor(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches\u001b[33m=\u001b[39m{}}batches\u001b[33m;\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m;\u001b[39mrequest(r){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchBy(r)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m t\u001b[33m?\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mprocess\u001b[33m.\u001b[39mnextTick(()\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdispatchBatches()\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m})))\u001b[33m,\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m.\u001b[39mpush({request\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mresolve\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mreject\u001b[33m:\u001b[39mi})}))\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(r)}dispatchBatches(){\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m r \u001b[36min\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m;\u001b[39m\u001b[36mdelete\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m,\u001b[39mt\u001b[33m.\u001b[39mlength\u001b[33m===\u001b[39m\u001b[35m1\u001b[39m\u001b[33m?\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mrequest)\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)\u001b[33m:\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mresolve(n)})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)})\u001b[33m:\u001b[39m(t\u001b[33m.\u001b[39msort((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchOrder(n\u001b[33m.\u001b[39mrequest\u001b[33m,\u001b[39mi\u001b[33m.\u001b[39mrequest))\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchLoader(t\u001b[33m.\u001b[39mmap(n\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mrequest))\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m o\u001b[33m=\u001b[39mn[i]\u001b[33m;\u001b[39mo \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[i]\u001b[33m.\u001b[39mreject(o)\u001b[33m:\u001b[39mt[i]\u001b[33m.\u001b[39mresolve(o)}})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)}))}}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"DataLoader\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m mr(e\u001b[33m,\u001b[39mr){\u001b[36mif\u001b[39m(r\u001b[33m===\u001b[39m\u001b[36mnull\u001b[39m)\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mswitch\u001b[39m(e){\u001b[36mcase\u001b[39m\u001b[32m\"bigint\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[33mBigInt\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes\"\u001b[39m\u001b[33m:\u001b[39m{\u001b[36mlet\u001b[39m{buffer\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mbyteOffset\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mbyteLength\u001b[33m:\u001b[39mi}\u001b[33m=\u001b[39m\u001b[33mBuffer\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m(r\u001b[33m,\u001b[39m\u001b[32m\"base64\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mUint8Array\u001b[39m(t\u001b[33m,\u001b[39mn\u001b[33m,\u001b[39mi)}\u001b[36mcase\u001b[39m\u001b[32m\"decimal\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mPe\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(\u001b[32m`1970-01-01T${r}Z`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bigint-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bigint\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bytes\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"decimal-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"decimal\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"datetime\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"date\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"time\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r}}\u001b[36mfunction\u001b[39m zn(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39m\u001b[33mCf\u001b[39m(e)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mn\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mrows\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mn\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mrows[n]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m{\u001b[33m...\u001b[39mt}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m s\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39ms\u001b[33m<\u001b[39m\u001b[33mi\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39ms\u001b[33m++\u001b[39m)o[e\u001b[33m.\u001b[39mcolumns[s]]\u001b[33m=\u001b[39mmr(e\u001b[33m.\u001b[39mtypes[s]\u001b[33m,\u001b[39mi[s])\u001b[33m;\u001b[39mr\u001b[33m.\u001b[39mpush(o)}\u001b[36mreturn\u001b[39m r}\u001b[36mfunction\u001b[39m \u001b[33mCf\u001b[39m(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m{}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mt\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mcolumns\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mt\u001b[33m++\u001b[39m)r[e\u001b[33m.\u001b[39mcolumns[t]]\u001b[33m=\u001b[39m\u001b[36mnull\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r}\u001b[36mvar\u001b[39m \u001b[33mAf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mN\u001b[39m(\u001b[32m\"prisma:client:request_handler\"\u001b[39m)\u001b[33m,\u001b[39m\u001b[33mZn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{client\u001b[33m;\u001b[39mdataloader\u001b[33m;\u001b[39mlogEmitter\u001b[33m;\u001b[39mconstructor(r\u001b[33m,\u001b[39mt){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m=\u001b[39mt\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m=\u001b[39mr\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mYn\u001b[39m({batchLoader\u001b[33m:\u001b[39mol(\u001b[36masync\u001b[39m({requests\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi})\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m{transaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39motelParentCtx\u001b[33m:\u001b[39ms}\u001b[33m=\u001b[39mn[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mmap(p\u001b[33m=>\u001b[39mp\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent(s)\u001b[33m,\u001b[39mu\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39msome(p\u001b[33m=>\u001b[39m\u001b[33mOo\u001b[39m(p\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction))\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m(\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequestBatch(a\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39ml\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39m\u001b[33mIf\u001b[39m(o)\u001b[33m,\u001b[39mcontainsWrite\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi}))\u001b[33m.\u001b[39mmap((p\u001b[33m,\u001b[39md)\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(p \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mreturn\u001b[39m p\u001b[33m;\u001b[39m\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n[d]\u001b[33m,\u001b[39mp)}\u001b[36mcatch\u001b[39m(f){\u001b[36mreturn\u001b[39m f}})})\u001b[33m,\u001b[39msingleLoader\u001b[33m:\u001b[39m\u001b[36masync\u001b[39m n\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39meu(n\u001b[33m.\u001b[39mtransaction)\u001b[33m:\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequest(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent()\u001b[33m,\u001b[39minteractiveTransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39misWrite\u001b[33m:\u001b[39m\u001b[33mOo\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction)\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mn\u001b[33m.\u001b[39mcustomDataProxyFetch})\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n\u001b[33m,\u001b[39mo)}\u001b[33m,\u001b[39mbatchBy\u001b[33m:\u001b[39mn\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mid\u001b[33m?\u001b[39m\u001b[32m`transaction-${n.transaction.id}`\u001b[39m\u001b[33m:\u001b[39m\u001b[33mZl\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39mbatchOrder(n\u001b[33m,\u001b[39mi){\u001b[36mreturn\u001b[39m n\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m?\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m-\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m:\u001b[39m\u001b[35m0\u001b[39m}})}\u001b[36masync\u001b[39m request(r){\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m.\u001b[39mrequest(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mlet\u001b[39m{clientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma}\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleAndLogRequestError({error\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mglobalOmit})}}mapQueryEngineResult({dataPath\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39munpacker\u001b[33m:\u001b[39mt}\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mdata\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39munpack(i\u001b[33m,\u001b[39mr\u001b[33m,\u001b[39mt)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mPRISMA_CLIENT_GET_TIME\u001b[39m\u001b[33m?\u001b[39m{data\u001b[33m:\u001b[39mo}\u001b[33m:\u001b[39mo}handleAndLogRequestError(r){\u001b[36mtry\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleRequestError(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mthrow\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m.\u001b[39memit(\u001b[32m\"error\"\u001b[39m\u001b[33m,\u001b[39m{message\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mmessage\u001b[33m,\u001b[39mtarget\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mclientMethod\u001b[33m,\u001b[39mtimestamp\u001b[33m:\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m})\u001b[33m,\u001b[39mt}}handleRequestError({error\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma}){\u001b[36mif\u001b[39m(\u001b[33mAf\u001b[39m(r)\u001b[33m,\u001b[39mkf(r\u001b[33m,\u001b[39mi))\u001b[36mthrow\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m z\u001b[33m&&\u001b[39m\u001b[33mOf\u001b[39m(r)){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39mru(r\u001b[33m.\u001b[39mmeta)\u001b[33m;\u001b[39mkn({args\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39m[u]\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39merrorFormat\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma})}\u001b[36mlet\u001b[39m l\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mmessage\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m(l\u001b[33m=\u001b[39mwn({callsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39misPanic\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39misPanic\u001b[33m,\u001b[39mshowColors\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m===\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39mmessage\u001b[33m:\u001b[39ml}))\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39msanitizeMessage(l)\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mcode){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39ms\u001b[33m?\u001b[39m{modelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr\u001b[33m.\u001b[39mmeta}\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mmeta\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m z(l\u001b[33m,\u001b[39m{code\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mcode\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mmeta\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})}\u001b[36melse\u001b[39m{\u001b[36mif\u001b[39m(r\u001b[33m.\u001b[39misPanic)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m j)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m j(l\u001b[33m,\u001b[39m{clientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m \u001b[33mT\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mT\u001b[39m(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m le)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)}\u001b[36mthrow\u001b[39m r\u001b[33m.\u001b[39mclientVersion\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mr}sanitizeMessage(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m!==\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m?\u001b[39m(\u001b[35m0\u001b[39m\u001b[33m,\u001b[39m\u001b[33mXl\u001b[39m\u001b[33m.\u001b[39m\u001b[36mdefault\u001b[39m)(r)\u001b[33m:\u001b[39mr}unpack(r\u001b[33m,\u001b[39mt\u001b[33m,\u001b[39mn){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m||\u001b[39m(r\u001b[33m.\u001b[39mdata\u001b[33m&&\u001b[39m(r\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mdata)\u001b[33m,\u001b[39m\u001b[33m!\u001b[39mr))\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mvalues(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ms\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mfilter(u\u001b[33m=>\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"select\"\u001b[39m\u001b[33m&&\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"include\"\u001b[39m)\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mio(o\u001b[33m,\u001b[39ms)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39mi\u001b[33m===\u001b[39m\u001b[32m\"queryRaw\"\u001b[39m\u001b[33m?\u001b[39mzn(a)\u001b[33m:\u001b[39m\u001b[33mTr\u001b[39m(a)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m?\u001b[39mn(l)\u001b[33m:\u001b[39ml}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"RequestHandler\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mIf\u001b[39m(e){\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39m{isolationLevel\u001b[33m:\u001b[39me\u001b[33m.\u001b[39misolationLevel}}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39meu(e)}\u001b[33m;\u001b[39m_e(e\u001b[33m,\u001b[39m\u001b[32m\"Unknown transaction kind\"\u001b[39m)}}\u001b[36mfunction\u001b[39m eu(e){\u001b[36mreturn\u001b[39m{id\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39mpayload\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mpayload}}\u001b[36mfunction\u001b[39m kf(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m \u001b[33mKn\u001b[39m(e)\u001b[33m&&\u001b[39mr\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m!==\u001b[39mr\u001b[33m.\u001b[39mindex}\u001b[36mfunction\u001b[39m \u001b[33mOf\u001b[39m(e){\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2009\"\u001b[39m\u001b[33m||\u001b[39me\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2012\"\u001b[39m}\u001b[36mfunction\u001b[39m ru(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"Union\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"Union\"\u001b[39m\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39me\u001b[33m.\u001b[39merrors\u001b[33m.\u001b[39mmap(ru)}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e\u001b[33m.\u001b[39mselectionPath)){\u001b[36mlet\u001b[39m[\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr]\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mselectionPath\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[33m...\u001b[39me\u001b[33m,\u001b[39mselectionPath\u001b[33m:\u001b[39mr}}\u001b[36mreturn\u001b[39m e}\u001b[36mvar\u001b[39m tu\u001b[33m=\u001b[39m\u001b[33mSl\u001b[39m\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m au\u001b[33m=\u001b[39mk(\u001b[33mQi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mD\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mError\u001b[39m{constructor(r){\u001b[36msuper\u001b[39m(r\u001b[33m+\u001b[39m\u001b[32m`\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 125 |\u001b[39m \u001b[32mRead more at https://pris.ly/d/client-constructor`\u001b[39m)\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mname\u001b[33m=\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}}\u001b[33m;\u001b[39mx(\u001b[33mD\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m nu\u001b[33m=\u001b[39m[\u001b[32m\"datasources\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"datasourceUrl\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"errorFormat\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"adapter\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"log\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"transactionOptions\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"omit\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"__internal\"\u001b[39m]\u001b[33m,\u001b[39miu\u001b[33m=\u001b[39m[\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"colorless\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"minimal\"\u001b[39m]\u001b[33m,\u001b[39mou\u001b[33m=\u001b[39m[\u001b[32m\"info\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"warn\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"error\"\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mDf\u001b[39m\u001b[33m=\u001b[39m{datasources\u001b[33m:\u001b[39m(e\u001b[33m,\u001b[39m{datasourceNames\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m e\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for \"datasources\" provided to PrismaClient constructor`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[t\u001b[33m,\u001b[39mn]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(e)){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m.\u001b[39mincludes(t)){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mWr\u001b[39m(t\u001b[33m,\u001b[39mr)\u001b[33m||\u001b[39m\u001b[32m` Available datasources: ${r.join(\", \")}`\u001b[39m\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Unknown datasource ${t} provided to PrismaClient constructor.${i}`\u001b[39m)}\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m n\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(n))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 126 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m\u001b[36mtypeof\u001b[39m n\u001b[33m==\u001b[39m\u001b[32m\"object\"\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[i\u001b[33m,\u001b[39mo]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(n)){\u001b[36mif\u001b[39m(i\u001b[33m!==\u001b[39m\u001b[32m\"url\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 127 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m o\u001b[33m!=\u001b[39m\u001b[32m\"string\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(o)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:7649)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError [as handleAndLogRequestError] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6784)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleAndLogRequestError [as request] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6491)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat l (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:133:9778)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/health.test.ts\u001b[39m\u001b[0m\u001b[2m:36:5)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1m/api/health › GET › should handle OpenAI service check\u001b[39m\u001b[22m\n\n    PrismaClientUnknownRequestError: \n    Invalid `prisma.apiConnection.deleteMany()` invocation in\n    /Users/connorbowen/apiq-mvp/tests/integration/api/health.test.ts:48:32\n\n      45     }\n      46   }\n      47 });\n    → 48 await prisma.apiConnection.deleteMany(\n    Error occurred during query execution:\n    ConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28324 waits for ShareLock on transaction 54192; blocked by process 28405.\\nProcess 28405 waits for ShareLock on transaction 54197; blocked by process 28328.\\nProcess 28328 waits for AccessShareLock on tuple (0,19) of relation 33235 of database 21992; blocked by process 28324.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 122 |\u001b[39m \u001b[32m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 123 |\u001b[39m \u001b[32mMore Information: https://pris.ly/d/execute-raw\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 124 |\u001b[39m \u001b[32m`\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mCo\u001b[39m\u001b[33m=\u001b[39m({clientMethod\u001b[33m:\u001b[39me\u001b[33m,\u001b[39mactiveProvider\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39mt\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[32m\"\"\u001b[39m\u001b[33m,\u001b[39mi\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mFn\u001b[39m(t))n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(t)){\u001b[36mlet\u001b[39m[o\u001b[33m,\u001b[39m\u001b[33m...\u001b[39ms]\u001b[33m=\u001b[39mt\u001b[33m;\u001b[39mn\u001b[33m=\u001b[39mo\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(s\u001b[33m||\u001b[39m[])\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}}\u001b[36melse\u001b[39m \u001b[36mswitch\u001b[39m(r){\u001b[36mcase\u001b[39m\u001b[32m\"sqlite\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"mysql\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"cockroachdb\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgresql\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgres\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mtext\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"sqlserver\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mjl(t)\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`The ${r} provider does not support ${e}`\u001b[39m)}\u001b[36mreturn\u001b[39m i\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mvalues\u001b[33m?\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n}, ${i.values})`\u001b[39m)\u001b[33m:\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n})`\u001b[39m)\u001b[33m,\u001b[39m{query\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mparameters\u001b[33m:\u001b[39mi}}\u001b[33m,\u001b[39m\u001b[33mWl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e\u001b[33m.\u001b[39mstrings\u001b[33m,\u001b[39m\u001b[33m...\u001b[39me\u001b[33m.\u001b[39mvalues]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mlet\u001b[39m[r\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mt]\u001b[33m=\u001b[39me\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m oe(r\u001b[33m,\u001b[39mt)}}\u001b[33m,\u001b[39m\u001b[33mJl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mreturn\u001b[39m e[\u001b[35m0\u001b[39m]}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mAo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mfunction\u001b[39m(t\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m(s\u001b[33m=\u001b[39me)\u001b[33m=>\u001b[39m{\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m s\u001b[33m===\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m||\u001b[39ms\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33m=\u001b[39m\u001b[33mHl\u001b[39m(t(s))\u001b[33m:\u001b[39m\u001b[33mHl\u001b[39m(t(s))}\u001b[36mcatch\u001b[39m(a){\u001b[36mreturn\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mreject(a)}}\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[36mget\u001b[39m spec(){\u001b[36mreturn\u001b[39m n}\u001b[33m,\u001b[39mthen(s\u001b[33m,\u001b[39ma){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39mthen(s\u001b[33m,\u001b[39ma)}\u001b[33m,\u001b[39m\u001b[36mcatch\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(s)}\u001b[33m,\u001b[39m\u001b[36mfinally\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mfinally\u001b[39m(s)}\u001b[33m,\u001b[39mrequestTransaction(s){\u001b[36mlet\u001b[39m a\u001b[33m=\u001b[39mo(s)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m a\u001b[33m.\u001b[39mrequestTransaction\u001b[33m?\u001b[39ma\u001b[33m.\u001b[39mrequestTransaction(s)\u001b[33m:\u001b[39ma}\u001b[33m,\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag]\u001b[33m:\u001b[39m\u001b[32m\"PrismaPromise\"\u001b[39m}}}\u001b[36mfunction\u001b[39m \u001b[33mHl\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mthen\u001b[33m==\u001b[39m\u001b[32m\"function\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39m\u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mresolve(e)}\u001b[36mvar\u001b[39m \u001b[33mTf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mEi\u001b[39m\u001b[33m.\u001b[39msplit(\u001b[32m\".\"\u001b[39m)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mSf\u001b[39m\u001b[33m=\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m}\u001b[33m,\u001b[39mgetTraceParent(){\u001b[36mreturn\u001b[39m\u001b[32m\"00-10-10-00\"\u001b[39m}\u001b[33m,\u001b[39mdispatchEngineSpans(){}\u001b[33m,\u001b[39mgetActiveContext(){}\u001b[33m,\u001b[39mrunInChildSpan(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m r()}}\u001b[33m,\u001b[39m\u001b[33mIo\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39misEnabled()}getTraceParent(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetTraceParent(r)}dispatchEngineSpans(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mdispatchEngineSpans(r)}getActiveContext(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetActiveContext()}runInChildSpan(r\u001b[33m,\u001b[39mt){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mrunInChildSpan(r\u001b[33m,\u001b[39mt)}getGlobalTracingHelper(){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39mglobalThis[\u001b[32m`V${Tf}_PRISMA_INSTRUMENTATION`\u001b[39m]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39mglobalThis\u001b[33m.\u001b[39m\u001b[33mPRISMA_INSTRUMENTATION\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33mSf\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKl\u001b[39m(){\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mIo\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mYl\u001b[39m(e\u001b[33m,\u001b[39mr\u001b[33m=\u001b[39m()\u001b[33m=>\u001b[39m{}){\u001b[36mlet\u001b[39m t\u001b[33m,\u001b[39mn\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m(i\u001b[33m=>\u001b[39mt\u001b[33m=\u001b[39mi)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{then(i){\u001b[36mreturn\u001b[39m\u001b[33m--\u001b[39me\u001b[33m===\u001b[39m\u001b[35m0\u001b[39m\u001b[33m&&\u001b[39mt(r())\u001b[33m,\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m.\u001b[39m(n)}}}\u001b[36mfunction\u001b[39m zl(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mreduce((r\u001b[33m,\u001b[39mt)\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[36mtypeof\u001b[39m t\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mlevel\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m===\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m?\u001b[39mr\u001b[33m:\u001b[39mr\u001b[33m&&\u001b[39m(t\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m||\u001b[39mr\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m)\u001b[33m?\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m:\u001b[39mn}\u001b[33m,\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mHn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{_middlewares\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39muse(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mpush(r)}\u001b[36mget\u001b[39m(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}has(r){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[33m!\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}length(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mlength}}\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mXl\u001b[39m\u001b[33m=\u001b[39mk(\u001b[33mOi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKn\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m==\u001b[39m\u001b[32m\"number\"\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mZl\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUnique\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUniqueOrThrow\"\u001b[39m)\u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mmodelName\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(e\u001b[33m.\u001b[39mmodelName)\u001b[33m,\u001b[39me\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39mselection))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mjoin(\u001b[32m\"\"\u001b[39m)}\u001b[36mfunction\u001b[39m ko(e){\u001b[36mreturn\u001b[39m\u001b[32m`(${Object.keys(e).sort().map(t=>{let n=e[t];return typeof n==\"object\"&&n!==null?`(${t} ${ko(n)})`:t}).join(\" \")})`\u001b[39m}\u001b[36mvar\u001b[39m \u001b[33mRf\u001b[39m\u001b[33m=\u001b[39m{aggregate\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39maggregateRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mcreateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mexecuteRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mfindFirst\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindFirstOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUnique\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUniqueOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mgroupBy\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mqueryRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mrunCommandRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupsertOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mOo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[33mRf\u001b[39m[e]}\u001b[36mvar\u001b[39m \u001b[33mYn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{constructor(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches\u001b[33m=\u001b[39m{}}batches\u001b[33m;\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m;\u001b[39mrequest(r){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchBy(r)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m t\u001b[33m?\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mprocess\u001b[33m.\u001b[39mnextTick(()\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdispatchBatches()\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m})))\u001b[33m,\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m.\u001b[39mpush({request\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mresolve\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mreject\u001b[33m:\u001b[39mi})}))\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(r)}dispatchBatches(){\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m r \u001b[36min\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m;\u001b[39m\u001b[36mdelete\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m,\u001b[39mt\u001b[33m.\u001b[39mlength\u001b[33m===\u001b[39m\u001b[35m1\u001b[39m\u001b[33m?\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mrequest)\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)\u001b[33m:\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mresolve(n)})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)})\u001b[33m:\u001b[39m(t\u001b[33m.\u001b[39msort((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchOrder(n\u001b[33m.\u001b[39mrequest\u001b[33m,\u001b[39mi\u001b[33m.\u001b[39mrequest))\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchLoader(t\u001b[33m.\u001b[39mmap(n\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mrequest))\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m o\u001b[33m=\u001b[39mn[i]\u001b[33m;\u001b[39mo \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[i]\u001b[33m.\u001b[39mreject(o)\u001b[33m:\u001b[39mt[i]\u001b[33m.\u001b[39mresolve(o)}})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)}))}}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"DataLoader\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m mr(e\u001b[33m,\u001b[39mr){\u001b[36mif\u001b[39m(r\u001b[33m===\u001b[39m\u001b[36mnull\u001b[39m)\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mswitch\u001b[39m(e){\u001b[36mcase\u001b[39m\u001b[32m\"bigint\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[33mBigInt\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes\"\u001b[39m\u001b[33m:\u001b[39m{\u001b[36mlet\u001b[39m{buffer\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mbyteOffset\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mbyteLength\u001b[33m:\u001b[39mi}\u001b[33m=\u001b[39m\u001b[33mBuffer\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m(r\u001b[33m,\u001b[39m\u001b[32m\"base64\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mUint8Array\u001b[39m(t\u001b[33m,\u001b[39mn\u001b[33m,\u001b[39mi)}\u001b[36mcase\u001b[39m\u001b[32m\"decimal\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mPe\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(\u001b[32m`1970-01-01T${r}Z`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bigint-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bigint\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bytes\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"decimal-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"decimal\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"datetime\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"date\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"time\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r}}\u001b[36mfunction\u001b[39m zn(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39m\u001b[33mCf\u001b[39m(e)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mn\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mrows\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mn\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mrows[n]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m{\u001b[33m...\u001b[39mt}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m s\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39ms\u001b[33m<\u001b[39m\u001b[33mi\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39ms\u001b[33m++\u001b[39m)o[e\u001b[33m.\u001b[39mcolumns[s]]\u001b[33m=\u001b[39mmr(e\u001b[33m.\u001b[39mtypes[s]\u001b[33m,\u001b[39mi[s])\u001b[33m;\u001b[39mr\u001b[33m.\u001b[39mpush(o)}\u001b[36mreturn\u001b[39m r}\u001b[36mfunction\u001b[39m \u001b[33mCf\u001b[39m(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m{}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mt\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mcolumns\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mt\u001b[33m++\u001b[39m)r[e\u001b[33m.\u001b[39mcolumns[t]]\u001b[33m=\u001b[39m\u001b[36mnull\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r}\u001b[36mvar\u001b[39m \u001b[33mAf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mN\u001b[39m(\u001b[32m\"prisma:client:request_handler\"\u001b[39m)\u001b[33m,\u001b[39m\u001b[33mZn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{client\u001b[33m;\u001b[39mdataloader\u001b[33m;\u001b[39mlogEmitter\u001b[33m;\u001b[39mconstructor(r\u001b[33m,\u001b[39mt){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m=\u001b[39mt\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m=\u001b[39mr\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mYn\u001b[39m({batchLoader\u001b[33m:\u001b[39mol(\u001b[36masync\u001b[39m({requests\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi})\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m{transaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39motelParentCtx\u001b[33m:\u001b[39ms}\u001b[33m=\u001b[39mn[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mmap(p\u001b[33m=>\u001b[39mp\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent(s)\u001b[33m,\u001b[39mu\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39msome(p\u001b[33m=>\u001b[39m\u001b[33mOo\u001b[39m(p\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction))\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m(\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequestBatch(a\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39ml\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39m\u001b[33mIf\u001b[39m(o)\u001b[33m,\u001b[39mcontainsWrite\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi}))\u001b[33m.\u001b[39mmap((p\u001b[33m,\u001b[39md)\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(p \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mreturn\u001b[39m p\u001b[33m;\u001b[39m\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n[d]\u001b[33m,\u001b[39mp)}\u001b[36mcatch\u001b[39m(f){\u001b[36mreturn\u001b[39m f}})})\u001b[33m,\u001b[39msingleLoader\u001b[33m:\u001b[39m\u001b[36masync\u001b[39m n\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39meu(n\u001b[33m.\u001b[39mtransaction)\u001b[33m:\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequest(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent()\u001b[33m,\u001b[39minteractiveTransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39misWrite\u001b[33m:\u001b[39m\u001b[33mOo\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction)\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mn\u001b[33m.\u001b[39mcustomDataProxyFetch})\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n\u001b[33m,\u001b[39mo)}\u001b[33m,\u001b[39mbatchBy\u001b[33m:\u001b[39mn\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mid\u001b[33m?\u001b[39m\u001b[32m`transaction-${n.transaction.id}`\u001b[39m\u001b[33m:\u001b[39m\u001b[33mZl\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39mbatchOrder(n\u001b[33m,\u001b[39mi){\u001b[36mreturn\u001b[39m n\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m?\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m-\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m:\u001b[39m\u001b[35m0\u001b[39m}})}\u001b[36masync\u001b[39m request(r){\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m.\u001b[39mrequest(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mlet\u001b[39m{clientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma}\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleAndLogRequestError({error\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mglobalOmit})}}mapQueryEngineResult({dataPath\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39munpacker\u001b[33m:\u001b[39mt}\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mdata\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39munpack(i\u001b[33m,\u001b[39mr\u001b[33m,\u001b[39mt)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mPRISMA_CLIENT_GET_TIME\u001b[39m\u001b[33m?\u001b[39m{data\u001b[33m:\u001b[39mo}\u001b[33m:\u001b[39mo}handleAndLogRequestError(r){\u001b[36mtry\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleRequestError(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mthrow\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m.\u001b[39memit(\u001b[32m\"error\"\u001b[39m\u001b[33m,\u001b[39m{message\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mmessage\u001b[33m,\u001b[39mtarget\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mclientMethod\u001b[33m,\u001b[39mtimestamp\u001b[33m:\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m})\u001b[33m,\u001b[39mt}}handleRequestError({error\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma}){\u001b[36mif\u001b[39m(\u001b[33mAf\u001b[39m(r)\u001b[33m,\u001b[39mkf(r\u001b[33m,\u001b[39mi))\u001b[36mthrow\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m z\u001b[33m&&\u001b[39m\u001b[33mOf\u001b[39m(r)){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39mru(r\u001b[33m.\u001b[39mmeta)\u001b[33m;\u001b[39mkn({args\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39m[u]\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39merrorFormat\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma})}\u001b[36mlet\u001b[39m l\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mmessage\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m(l\u001b[33m=\u001b[39mwn({callsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39misPanic\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39misPanic\u001b[33m,\u001b[39mshowColors\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m===\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39mmessage\u001b[33m:\u001b[39ml}))\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39msanitizeMessage(l)\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mcode){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39ms\u001b[33m?\u001b[39m{modelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr\u001b[33m.\u001b[39mmeta}\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mmeta\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m z(l\u001b[33m,\u001b[39m{code\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mcode\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mmeta\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})}\u001b[36melse\u001b[39m{\u001b[36mif\u001b[39m(r\u001b[33m.\u001b[39misPanic)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m j)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m j(l\u001b[33m,\u001b[39m{clientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m \u001b[33mT\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mT\u001b[39m(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m le)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)}\u001b[36mthrow\u001b[39m r\u001b[33m.\u001b[39mclientVersion\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mr}sanitizeMessage(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m!==\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m?\u001b[39m(\u001b[35m0\u001b[39m\u001b[33m,\u001b[39m\u001b[33mXl\u001b[39m\u001b[33m.\u001b[39m\u001b[36mdefault\u001b[39m)(r)\u001b[33m:\u001b[39mr}unpack(r\u001b[33m,\u001b[39mt\u001b[33m,\u001b[39mn){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m||\u001b[39m(r\u001b[33m.\u001b[39mdata\u001b[33m&&\u001b[39m(r\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mdata)\u001b[33m,\u001b[39m\u001b[33m!\u001b[39mr))\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mvalues(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ms\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mfilter(u\u001b[33m=>\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"select\"\u001b[39m\u001b[33m&&\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"include\"\u001b[39m)\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mio(o\u001b[33m,\u001b[39ms)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39mi\u001b[33m===\u001b[39m\u001b[32m\"queryRaw\"\u001b[39m\u001b[33m?\u001b[39mzn(a)\u001b[33m:\u001b[39m\u001b[33mTr\u001b[39m(a)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m?\u001b[39mn(l)\u001b[33m:\u001b[39ml}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"RequestHandler\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mIf\u001b[39m(e){\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39m{isolationLevel\u001b[33m:\u001b[39me\u001b[33m.\u001b[39misolationLevel}}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39meu(e)}\u001b[33m;\u001b[39m_e(e\u001b[33m,\u001b[39m\u001b[32m\"Unknown transaction kind\"\u001b[39m)}}\u001b[36mfunction\u001b[39m eu(e){\u001b[36mreturn\u001b[39m{id\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39mpayload\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mpayload}}\u001b[36mfunction\u001b[39m kf(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m \u001b[33mKn\u001b[39m(e)\u001b[33m&&\u001b[39mr\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m!==\u001b[39mr\u001b[33m.\u001b[39mindex}\u001b[36mfunction\u001b[39m \u001b[33mOf\u001b[39m(e){\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2009\"\u001b[39m\u001b[33m||\u001b[39me\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2012\"\u001b[39m}\u001b[36mfunction\u001b[39m ru(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"Union\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"Union\"\u001b[39m\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39me\u001b[33m.\u001b[39merrors\u001b[33m.\u001b[39mmap(ru)}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e\u001b[33m.\u001b[39mselectionPath)){\u001b[36mlet\u001b[39m[\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr]\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mselectionPath\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[33m...\u001b[39me\u001b[33m,\u001b[39mselectionPath\u001b[33m:\u001b[39mr}}\u001b[36mreturn\u001b[39m e}\u001b[36mvar\u001b[39m tu\u001b[33m=\u001b[39m\u001b[33mSl\u001b[39m\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m au\u001b[33m=\u001b[39mk(\u001b[33mQi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mD\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mError\u001b[39m{constructor(r){\u001b[36msuper\u001b[39m(r\u001b[33m+\u001b[39m\u001b[32m`\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 125 |\u001b[39m \u001b[32mRead more at https://pris.ly/d/client-constructor`\u001b[39m)\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mname\u001b[33m=\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}}\u001b[33m;\u001b[39mx(\u001b[33mD\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m nu\u001b[33m=\u001b[39m[\u001b[32m\"datasources\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"datasourceUrl\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"errorFormat\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"adapter\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"log\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"transactionOptions\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"omit\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"__internal\"\u001b[39m]\u001b[33m,\u001b[39miu\u001b[33m=\u001b[39m[\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"colorless\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"minimal\"\u001b[39m]\u001b[33m,\u001b[39mou\u001b[33m=\u001b[39m[\u001b[32m\"info\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"warn\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"error\"\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mDf\u001b[39m\u001b[33m=\u001b[39m{datasources\u001b[33m:\u001b[39m(e\u001b[33m,\u001b[39m{datasourceNames\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m e\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for \"datasources\" provided to PrismaClient constructor`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[t\u001b[33m,\u001b[39mn]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(e)){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m.\u001b[39mincludes(t)){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mWr\u001b[39m(t\u001b[33m,\u001b[39mr)\u001b[33m||\u001b[39m\u001b[32m` Available datasources: ${r.join(\", \")}`\u001b[39m\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Unknown datasource ${t} provided to PrismaClient constructor.${i}`\u001b[39m)}\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m n\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(n))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 126 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m\u001b[36mtypeof\u001b[39m n\u001b[33m==\u001b[39m\u001b[32m\"object\"\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[i\u001b[33m,\u001b[39mo]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(n)){\u001b[36mif\u001b[39m(i\u001b[33m!==\u001b[39m\u001b[32m\"url\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 127 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m o\u001b[33m!=\u001b[39m\u001b[32m\"string\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(o)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:7649)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError [as handleAndLogRequestError] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6784)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleAndLogRequestError [as request] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6491)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat l (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:133:9778)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/health.test.ts\u001b[39m\u001b[0m\u001b[2m:48:5)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1m/api/health › GET › should handle encryption service check\u001b[39m\u001b[22m\n\n    PrismaClientUnknownRequestError: \n    Invalid `prisma.apiConnection.deleteMany()` invocation in\n    /Users/connorbowen/apiq-mvp/tests/integration/api/health.test.ts:48:32\n\n      45     }\n      46   }\n      47 });\n    → 48 await prisma.apiConnection.deleteMany(\n    Error occurred during query execution:\n    ConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28324 waits for ShareLock on transaction 54210; blocked by process 28326.\\nProcess 28326 waits for ShareLock on transaction 54201; blocked by process 28324.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 122 |\u001b[39m \u001b[32m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 123 |\u001b[39m \u001b[32mMore Information: https://pris.ly/d/execute-raw\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 124 |\u001b[39m \u001b[32m`\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mCo\u001b[39m\u001b[33m=\u001b[39m({clientMethod\u001b[33m:\u001b[39me\u001b[33m,\u001b[39mactiveProvider\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39mt\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[32m\"\"\u001b[39m\u001b[33m,\u001b[39mi\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mFn\u001b[39m(t))n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(t)){\u001b[36mlet\u001b[39m[o\u001b[33m,\u001b[39m\u001b[33m...\u001b[39ms]\u001b[33m=\u001b[39mt\u001b[33m;\u001b[39mn\u001b[33m=\u001b[39mo\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(s\u001b[33m||\u001b[39m[])\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}}\u001b[36melse\u001b[39m \u001b[36mswitch\u001b[39m(r){\u001b[36mcase\u001b[39m\u001b[32m\"sqlite\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"mysql\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"cockroachdb\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgresql\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgres\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mtext\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"sqlserver\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mjl(t)\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`The ${r} provider does not support ${e}`\u001b[39m)}\u001b[36mreturn\u001b[39m i\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mvalues\u001b[33m?\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n}, ${i.values})`\u001b[39m)\u001b[33m:\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n})`\u001b[39m)\u001b[33m,\u001b[39m{query\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mparameters\u001b[33m:\u001b[39mi}}\u001b[33m,\u001b[39m\u001b[33mWl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e\u001b[33m.\u001b[39mstrings\u001b[33m,\u001b[39m\u001b[33m...\u001b[39me\u001b[33m.\u001b[39mvalues]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mlet\u001b[39m[r\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mt]\u001b[33m=\u001b[39me\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m oe(r\u001b[33m,\u001b[39mt)}}\u001b[33m,\u001b[39m\u001b[33mJl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mreturn\u001b[39m e[\u001b[35m0\u001b[39m]}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mAo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mfunction\u001b[39m(t\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m(s\u001b[33m=\u001b[39me)\u001b[33m=>\u001b[39m{\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m s\u001b[33m===\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m||\u001b[39ms\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33m=\u001b[39m\u001b[33mHl\u001b[39m(t(s))\u001b[33m:\u001b[39m\u001b[33mHl\u001b[39m(t(s))}\u001b[36mcatch\u001b[39m(a){\u001b[36mreturn\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mreject(a)}}\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[36mget\u001b[39m spec(){\u001b[36mreturn\u001b[39m n}\u001b[33m,\u001b[39mthen(s\u001b[33m,\u001b[39ma){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39mthen(s\u001b[33m,\u001b[39ma)}\u001b[33m,\u001b[39m\u001b[36mcatch\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(s)}\u001b[33m,\u001b[39m\u001b[36mfinally\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mfinally\u001b[39m(s)}\u001b[33m,\u001b[39mrequestTransaction(s){\u001b[36mlet\u001b[39m a\u001b[33m=\u001b[39mo(s)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m a\u001b[33m.\u001b[39mrequestTransaction\u001b[33m?\u001b[39ma\u001b[33m.\u001b[39mrequestTransaction(s)\u001b[33m:\u001b[39ma}\u001b[33m,\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag]\u001b[33m:\u001b[39m\u001b[32m\"PrismaPromise\"\u001b[39m}}}\u001b[36mfunction\u001b[39m \u001b[33mHl\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mthen\u001b[33m==\u001b[39m\u001b[32m\"function\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39m\u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mresolve(e)}\u001b[36mvar\u001b[39m \u001b[33mTf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mEi\u001b[39m\u001b[33m.\u001b[39msplit(\u001b[32m\".\"\u001b[39m)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mSf\u001b[39m\u001b[33m=\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m}\u001b[33m,\u001b[39mgetTraceParent(){\u001b[36mreturn\u001b[39m\u001b[32m\"00-10-10-00\"\u001b[39m}\u001b[33m,\u001b[39mdispatchEngineSpans(){}\u001b[33m,\u001b[39mgetActiveContext(){}\u001b[33m,\u001b[39mrunInChildSpan(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m r()}}\u001b[33m,\u001b[39m\u001b[33mIo\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39misEnabled()}getTraceParent(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetTraceParent(r)}dispatchEngineSpans(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mdispatchEngineSpans(r)}getActiveContext(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetActiveContext()}runInChildSpan(r\u001b[33m,\u001b[39mt){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mrunInChildSpan(r\u001b[33m,\u001b[39mt)}getGlobalTracingHelper(){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39mglobalThis[\u001b[32m`V${Tf}_PRISMA_INSTRUMENTATION`\u001b[39m]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39mglobalThis\u001b[33m.\u001b[39m\u001b[33mPRISMA_INSTRUMENTATION\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33mSf\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKl\u001b[39m(){\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mIo\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mYl\u001b[39m(e\u001b[33m,\u001b[39mr\u001b[33m=\u001b[39m()\u001b[33m=>\u001b[39m{}){\u001b[36mlet\u001b[39m t\u001b[33m,\u001b[39mn\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m(i\u001b[33m=>\u001b[39mt\u001b[33m=\u001b[39mi)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{then(i){\u001b[36mreturn\u001b[39m\u001b[33m--\u001b[39me\u001b[33m===\u001b[39m\u001b[35m0\u001b[39m\u001b[33m&&\u001b[39mt(r())\u001b[33m,\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m.\u001b[39m(n)}}}\u001b[36mfunction\u001b[39m zl(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mreduce((r\u001b[33m,\u001b[39mt)\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[36mtypeof\u001b[39m t\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mlevel\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m===\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m?\u001b[39mr\u001b[33m:\u001b[39mr\u001b[33m&&\u001b[39m(t\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m||\u001b[39mr\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m)\u001b[33m?\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m:\u001b[39mn}\u001b[33m,\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mHn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{_middlewares\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39muse(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mpush(r)}\u001b[36mget\u001b[39m(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}has(r){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[33m!\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}length(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mlength}}\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mXl\u001b[39m\u001b[33m=\u001b[39mk(\u001b[33mOi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKn\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m==\u001b[39m\u001b[32m\"number\"\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mZl\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUnique\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUniqueOrThrow\"\u001b[39m)\u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mmodelName\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(e\u001b[33m.\u001b[39mmodelName)\u001b[33m,\u001b[39me\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39mselection))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mjoin(\u001b[32m\"\"\u001b[39m)}\u001b[36mfunction\u001b[39m ko(e){\u001b[36mreturn\u001b[39m\u001b[32m`(${Object.keys(e).sort().map(t=>{let n=e[t];return typeof n==\"object\"&&n!==null?`(${t} ${ko(n)})`:t}).join(\" \")})`\u001b[39m}\u001b[36mvar\u001b[39m \u001b[33mRf\u001b[39m\u001b[33m=\u001b[39m{aggregate\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39maggregateRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mcreateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mexecuteRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mfindFirst\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindFirstOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUnique\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUniqueOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mgroupBy\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mqueryRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mrunCommandRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupsertOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mOo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[33mRf\u001b[39m[e]}\u001b[36mvar\u001b[39m \u001b[33mYn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{constructor(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches\u001b[33m=\u001b[39m{}}batches\u001b[33m;\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m;\u001b[39mrequest(r){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchBy(r)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m t\u001b[33m?\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mprocess\u001b[33m.\u001b[39mnextTick(()\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdispatchBatches()\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m})))\u001b[33m,\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m.\u001b[39mpush({request\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mresolve\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mreject\u001b[33m:\u001b[39mi})}))\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(r)}dispatchBatches(){\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m r \u001b[36min\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m;\u001b[39m\u001b[36mdelete\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m,\u001b[39mt\u001b[33m.\u001b[39mlength\u001b[33m===\u001b[39m\u001b[35m1\u001b[39m\u001b[33m?\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mrequest)\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)\u001b[33m:\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mresolve(n)})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)})\u001b[33m:\u001b[39m(t\u001b[33m.\u001b[39msort((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchOrder(n\u001b[33m.\u001b[39mrequest\u001b[33m,\u001b[39mi\u001b[33m.\u001b[39mrequest))\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchLoader(t\u001b[33m.\u001b[39mmap(n\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mrequest))\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m o\u001b[33m=\u001b[39mn[i]\u001b[33m;\u001b[39mo \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[i]\u001b[33m.\u001b[39mreject(o)\u001b[33m:\u001b[39mt[i]\u001b[33m.\u001b[39mresolve(o)}})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)}))}}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"DataLoader\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m mr(e\u001b[33m,\u001b[39mr){\u001b[36mif\u001b[39m(r\u001b[33m===\u001b[39m\u001b[36mnull\u001b[39m)\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mswitch\u001b[39m(e){\u001b[36mcase\u001b[39m\u001b[32m\"bigint\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[33mBigInt\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes\"\u001b[39m\u001b[33m:\u001b[39m{\u001b[36mlet\u001b[39m{buffer\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mbyteOffset\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mbyteLength\u001b[33m:\u001b[39mi}\u001b[33m=\u001b[39m\u001b[33mBuffer\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m(r\u001b[33m,\u001b[39m\u001b[32m\"base64\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mUint8Array\u001b[39m(t\u001b[33m,\u001b[39mn\u001b[33m,\u001b[39mi)}\u001b[36mcase\u001b[39m\u001b[32m\"decimal\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mPe\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(\u001b[32m`1970-01-01T${r}Z`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bigint-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bigint\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bytes\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"decimal-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"decimal\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"datetime\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"date\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"time\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r}}\u001b[36mfunction\u001b[39m zn(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39m\u001b[33mCf\u001b[39m(e)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mn\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mrows\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mn\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mrows[n]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m{\u001b[33m...\u001b[39mt}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m s\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39ms\u001b[33m<\u001b[39m\u001b[33mi\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39ms\u001b[33m++\u001b[39m)o[e\u001b[33m.\u001b[39mcolumns[s]]\u001b[33m=\u001b[39mmr(e\u001b[33m.\u001b[39mtypes[s]\u001b[33m,\u001b[39mi[s])\u001b[33m;\u001b[39mr\u001b[33m.\u001b[39mpush(o)}\u001b[36mreturn\u001b[39m r}\u001b[36mfunction\u001b[39m \u001b[33mCf\u001b[39m(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m{}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mt\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mcolumns\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mt\u001b[33m++\u001b[39m)r[e\u001b[33m.\u001b[39mcolumns[t]]\u001b[33m=\u001b[39m\u001b[36mnull\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r}\u001b[36mvar\u001b[39m \u001b[33mAf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mN\u001b[39m(\u001b[32m\"prisma:client:request_handler\"\u001b[39m)\u001b[33m,\u001b[39m\u001b[33mZn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{client\u001b[33m;\u001b[39mdataloader\u001b[33m;\u001b[39mlogEmitter\u001b[33m;\u001b[39mconstructor(r\u001b[33m,\u001b[39mt){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m=\u001b[39mt\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m=\u001b[39mr\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mYn\u001b[39m({batchLoader\u001b[33m:\u001b[39mol(\u001b[36masync\u001b[39m({requests\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi})\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m{transaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39motelParentCtx\u001b[33m:\u001b[39ms}\u001b[33m=\u001b[39mn[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mmap(p\u001b[33m=>\u001b[39mp\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent(s)\u001b[33m,\u001b[39mu\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39msome(p\u001b[33m=>\u001b[39m\u001b[33mOo\u001b[39m(p\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction))\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m(\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequestBatch(a\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39ml\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39m\u001b[33mIf\u001b[39m(o)\u001b[33m,\u001b[39mcontainsWrite\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi}))\u001b[33m.\u001b[39mmap((p\u001b[33m,\u001b[39md)\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(p \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mreturn\u001b[39m p\u001b[33m;\u001b[39m\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n[d]\u001b[33m,\u001b[39mp)}\u001b[36mcatch\u001b[39m(f){\u001b[36mreturn\u001b[39m f}})})\u001b[33m,\u001b[39msingleLoader\u001b[33m:\u001b[39m\u001b[36masync\u001b[39m n\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39meu(n\u001b[33m.\u001b[39mtransaction)\u001b[33m:\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequest(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent()\u001b[33m,\u001b[39minteractiveTransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39misWrite\u001b[33m:\u001b[39m\u001b[33mOo\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction)\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mn\u001b[33m.\u001b[39mcustomDataProxyFetch})\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n\u001b[33m,\u001b[39mo)}\u001b[33m,\u001b[39mbatchBy\u001b[33m:\u001b[39mn\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mid\u001b[33m?\u001b[39m\u001b[32m`transaction-${n.transaction.id}`\u001b[39m\u001b[33m:\u001b[39m\u001b[33mZl\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39mbatchOrder(n\u001b[33m,\u001b[39mi){\u001b[36mreturn\u001b[39m n\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m?\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m-\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m:\u001b[39m\u001b[35m0\u001b[39m}})}\u001b[36masync\u001b[39m request(r){\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m.\u001b[39mrequest(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mlet\u001b[39m{clientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma}\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleAndLogRequestError({error\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mglobalOmit})}}mapQueryEngineResult({dataPath\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39munpacker\u001b[33m:\u001b[39mt}\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mdata\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39munpack(i\u001b[33m,\u001b[39mr\u001b[33m,\u001b[39mt)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mPRISMA_CLIENT_GET_TIME\u001b[39m\u001b[33m?\u001b[39m{data\u001b[33m:\u001b[39mo}\u001b[33m:\u001b[39mo}handleAndLogRequestError(r){\u001b[36mtry\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleRequestError(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mthrow\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m.\u001b[39memit(\u001b[32m\"error\"\u001b[39m\u001b[33m,\u001b[39m{message\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mmessage\u001b[33m,\u001b[39mtarget\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mclientMethod\u001b[33m,\u001b[39mtimestamp\u001b[33m:\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m})\u001b[33m,\u001b[39mt}}handleRequestError({error\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma}){\u001b[36mif\u001b[39m(\u001b[33mAf\u001b[39m(r)\u001b[33m,\u001b[39mkf(r\u001b[33m,\u001b[39mi))\u001b[36mthrow\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m z\u001b[33m&&\u001b[39m\u001b[33mOf\u001b[39m(r)){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39mru(r\u001b[33m.\u001b[39mmeta)\u001b[33m;\u001b[39mkn({args\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39m[u]\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39merrorFormat\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma})}\u001b[36mlet\u001b[39m l\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mmessage\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m(l\u001b[33m=\u001b[39mwn({callsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39misPanic\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39misPanic\u001b[33m,\u001b[39mshowColors\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m===\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39mmessage\u001b[33m:\u001b[39ml}))\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39msanitizeMessage(l)\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mcode){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39ms\u001b[33m?\u001b[39m{modelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr\u001b[33m.\u001b[39mmeta}\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mmeta\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m z(l\u001b[33m,\u001b[39m{code\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mcode\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mmeta\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})}\u001b[36melse\u001b[39m{\u001b[36mif\u001b[39m(r\u001b[33m.\u001b[39misPanic)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m j)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m j(l\u001b[33m,\u001b[39m{clientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m \u001b[33mT\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mT\u001b[39m(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m le)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)}\u001b[36mthrow\u001b[39m r\u001b[33m.\u001b[39mclientVersion\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mr}sanitizeMessage(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m!==\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m?\u001b[39m(\u001b[35m0\u001b[39m\u001b[33m,\u001b[39m\u001b[33mXl\u001b[39m\u001b[33m.\u001b[39m\u001b[36mdefault\u001b[39m)(r)\u001b[33m:\u001b[39mr}unpack(r\u001b[33m,\u001b[39mt\u001b[33m,\u001b[39mn){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m||\u001b[39m(r\u001b[33m.\u001b[39mdata\u001b[33m&&\u001b[39m(r\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mdata)\u001b[33m,\u001b[39m\u001b[33m!\u001b[39mr))\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mvalues(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ms\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mfilter(u\u001b[33m=>\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"select\"\u001b[39m\u001b[33m&&\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"include\"\u001b[39m)\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mio(o\u001b[33m,\u001b[39ms)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39mi\u001b[33m===\u001b[39m\u001b[32m\"queryRaw\"\u001b[39m\u001b[33m?\u001b[39mzn(a)\u001b[33m:\u001b[39m\u001b[33mTr\u001b[39m(a)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m?\u001b[39mn(l)\u001b[33m:\u001b[39ml}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"RequestHandler\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mIf\u001b[39m(e){\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39m{isolationLevel\u001b[33m:\u001b[39me\u001b[33m.\u001b[39misolationLevel}}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39meu(e)}\u001b[33m;\u001b[39m_e(e\u001b[33m,\u001b[39m\u001b[32m\"Unknown transaction kind\"\u001b[39m)}}\u001b[36mfunction\u001b[39m eu(e){\u001b[36mreturn\u001b[39m{id\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39mpayload\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mpayload}}\u001b[36mfunction\u001b[39m kf(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m \u001b[33mKn\u001b[39m(e)\u001b[33m&&\u001b[39mr\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m!==\u001b[39mr\u001b[33m.\u001b[39mindex}\u001b[36mfunction\u001b[39m \u001b[33mOf\u001b[39m(e){\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2009\"\u001b[39m\u001b[33m||\u001b[39me\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2012\"\u001b[39m}\u001b[36mfunction\u001b[39m ru(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"Union\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"Union\"\u001b[39m\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39me\u001b[33m.\u001b[39merrors\u001b[33m.\u001b[39mmap(ru)}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e\u001b[33m.\u001b[39mselectionPath)){\u001b[36mlet\u001b[39m[\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr]\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mselectionPath\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[33m...\u001b[39me\u001b[33m,\u001b[39mselectionPath\u001b[33m:\u001b[39mr}}\u001b[36mreturn\u001b[39m e}\u001b[36mvar\u001b[39m tu\u001b[33m=\u001b[39m\u001b[33mSl\u001b[39m\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m au\u001b[33m=\u001b[39mk(\u001b[33mQi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mD\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mError\u001b[39m{constructor(r){\u001b[36msuper\u001b[39m(r\u001b[33m+\u001b[39m\u001b[32m`\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 125 |\u001b[39m \u001b[32mRead more at https://pris.ly/d/client-constructor`\u001b[39m)\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mname\u001b[33m=\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}}\u001b[33m;\u001b[39mx(\u001b[33mD\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m nu\u001b[33m=\u001b[39m[\u001b[32m\"datasources\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"datasourceUrl\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"errorFormat\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"adapter\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"log\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"transactionOptions\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"omit\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"__internal\"\u001b[39m]\u001b[33m,\u001b[39miu\u001b[33m=\u001b[39m[\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"colorless\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"minimal\"\u001b[39m]\u001b[33m,\u001b[39mou\u001b[33m=\u001b[39m[\u001b[32m\"info\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"warn\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"error\"\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mDf\u001b[39m\u001b[33m=\u001b[39m{datasources\u001b[33m:\u001b[39m(e\u001b[33m,\u001b[39m{datasourceNames\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m e\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for \"datasources\" provided to PrismaClient constructor`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[t\u001b[33m,\u001b[39mn]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(e)){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m.\u001b[39mincludes(t)){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mWr\u001b[39m(t\u001b[33m,\u001b[39mr)\u001b[33m||\u001b[39m\u001b[32m` Available datasources: ${r.join(\", \")}`\u001b[39m\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Unknown datasource ${t} provided to PrismaClient constructor.${i}`\u001b[39m)}\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m n\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(n))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 126 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m\u001b[36mtypeof\u001b[39m n\u001b[33m==\u001b[39m\u001b[32m\"object\"\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[i\u001b[33m,\u001b[39mo]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(n)){\u001b[36mif\u001b[39m(i\u001b[33m!==\u001b[39m\u001b[32m\"url\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 127 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m o\u001b[33m!=\u001b[39m\u001b[32m\"string\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(o)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:7649)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError [as handleAndLogRequestError] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6784)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleAndLogRequestError [as request] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6491)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat l (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:133:9778)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/health.test.ts\u001b[39m\u001b[0m\u001b[2m:48:5)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1m/api/health › GET › should handle environment check\u001b[39m\u001b[22m\n\n    PrismaClientUnknownRequestError: \n    Invalid `prisma.apiConnection.deleteMany()` invocation in\n    /Users/connorbowen/apiq-mvp/tests/integration/api/health.test.ts:48:32\n\n      45     }\n      46   }\n      47 });\n    → 48 await prisma.apiConnection.deleteMany(\n    Error occurred during query execution:\n    ConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28324 waits for AccessExclusiveLock on tuple (0,19) of relation 33235 of database 21992; blocked by process 28323.\\nProcess 28323 waits for ShareLock on transaction 54218; blocked by process 28328.\\nProcess 28328 waits for ShareLock on transaction 54221; blocked by process 28326.\\nProcess 28326 waits for AccessExclusiveLock on tuple (0,19) of relation 33235 of database 21992; blocked by process 28324.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 122 |\u001b[39m \u001b[32m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 123 |\u001b[39m \u001b[32mMore Information: https://pris.ly/d/execute-raw\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 124 |\u001b[39m \u001b[32m`\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mCo\u001b[39m\u001b[33m=\u001b[39m({clientMethod\u001b[33m:\u001b[39me\u001b[33m,\u001b[39mactiveProvider\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39mt\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[32m\"\"\u001b[39m\u001b[33m,\u001b[39mi\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mFn\u001b[39m(t))n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(t)){\u001b[36mlet\u001b[39m[o\u001b[33m,\u001b[39m\u001b[33m...\u001b[39ms]\u001b[33m=\u001b[39mt\u001b[33m;\u001b[39mn\u001b[33m=\u001b[39mo\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(s\u001b[33m||\u001b[39m[])\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}}\u001b[36melse\u001b[39m \u001b[36mswitch\u001b[39m(r){\u001b[36mcase\u001b[39m\u001b[32m\"sqlite\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"mysql\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"cockroachdb\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgresql\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgres\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mtext\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"sqlserver\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mjl(t)\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`The ${r} provider does not support ${e}`\u001b[39m)}\u001b[36mreturn\u001b[39m i\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mvalues\u001b[33m?\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n}, ${i.values})`\u001b[39m)\u001b[33m:\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n})`\u001b[39m)\u001b[33m,\u001b[39m{query\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mparameters\u001b[33m:\u001b[39mi}}\u001b[33m,\u001b[39m\u001b[33mWl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e\u001b[33m.\u001b[39mstrings\u001b[33m,\u001b[39m\u001b[33m...\u001b[39me\u001b[33m.\u001b[39mvalues]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mlet\u001b[39m[r\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mt]\u001b[33m=\u001b[39me\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m oe(r\u001b[33m,\u001b[39mt)}}\u001b[33m,\u001b[39m\u001b[33mJl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mreturn\u001b[39m e[\u001b[35m0\u001b[39m]}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mAo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mfunction\u001b[39m(t\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m(s\u001b[33m=\u001b[39me)\u001b[33m=>\u001b[39m{\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m s\u001b[33m===\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m||\u001b[39ms\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33m=\u001b[39m\u001b[33mHl\u001b[39m(t(s))\u001b[33m:\u001b[39m\u001b[33mHl\u001b[39m(t(s))}\u001b[36mcatch\u001b[39m(a){\u001b[36mreturn\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mreject(a)}}\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[36mget\u001b[39m spec(){\u001b[36mreturn\u001b[39m n}\u001b[33m,\u001b[39mthen(s\u001b[33m,\u001b[39ma){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39mthen(s\u001b[33m,\u001b[39ma)}\u001b[33m,\u001b[39m\u001b[36mcatch\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(s)}\u001b[33m,\u001b[39m\u001b[36mfinally\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mfinally\u001b[39m(s)}\u001b[33m,\u001b[39mrequestTransaction(s){\u001b[36mlet\u001b[39m a\u001b[33m=\u001b[39mo(s)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m a\u001b[33m.\u001b[39mrequestTransaction\u001b[33m?\u001b[39ma\u001b[33m.\u001b[39mrequestTransaction(s)\u001b[33m:\u001b[39ma}\u001b[33m,\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag]\u001b[33m:\u001b[39m\u001b[32m\"PrismaPromise\"\u001b[39m}}}\u001b[36mfunction\u001b[39m \u001b[33mHl\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mthen\u001b[33m==\u001b[39m\u001b[32m\"function\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39m\u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mresolve(e)}\u001b[36mvar\u001b[39m \u001b[33mTf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mEi\u001b[39m\u001b[33m.\u001b[39msplit(\u001b[32m\".\"\u001b[39m)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mSf\u001b[39m\u001b[33m=\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m}\u001b[33m,\u001b[39mgetTraceParent(){\u001b[36mreturn\u001b[39m\u001b[32m\"00-10-10-00\"\u001b[39m}\u001b[33m,\u001b[39mdispatchEngineSpans(){}\u001b[33m,\u001b[39mgetActiveContext(){}\u001b[33m,\u001b[39mrunInChildSpan(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m r()}}\u001b[33m,\u001b[39m\u001b[33mIo\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39misEnabled()}getTraceParent(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetTraceParent(r)}dispatchEngineSpans(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mdispatchEngineSpans(r)}getActiveContext(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetActiveContext()}runInChildSpan(r\u001b[33m,\u001b[39mt){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mrunInChildSpan(r\u001b[33m,\u001b[39mt)}getGlobalTracingHelper(){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39mglobalThis[\u001b[32m`V${Tf}_PRISMA_INSTRUMENTATION`\u001b[39m]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39mglobalThis\u001b[33m.\u001b[39m\u001b[33mPRISMA_INSTRUMENTATION\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33mSf\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKl\u001b[39m(){\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mIo\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mYl\u001b[39m(e\u001b[33m,\u001b[39mr\u001b[33m=\u001b[39m()\u001b[33m=>\u001b[39m{}){\u001b[36mlet\u001b[39m t\u001b[33m,\u001b[39mn\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m(i\u001b[33m=>\u001b[39mt\u001b[33m=\u001b[39mi)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{then(i){\u001b[36mreturn\u001b[39m\u001b[33m--\u001b[39me\u001b[33m===\u001b[39m\u001b[35m0\u001b[39m\u001b[33m&&\u001b[39mt(r())\u001b[33m,\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m.\u001b[39m(n)}}}\u001b[36mfunction\u001b[39m zl(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mreduce((r\u001b[33m,\u001b[39mt)\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[36mtypeof\u001b[39m t\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mlevel\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m===\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m?\u001b[39mr\u001b[33m:\u001b[39mr\u001b[33m&&\u001b[39m(t\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m||\u001b[39mr\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m)\u001b[33m?\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m:\u001b[39mn}\u001b[33m,\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mHn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{_middlewares\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39muse(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mpush(r)}\u001b[36mget\u001b[39m(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}has(r){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[33m!\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}length(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mlength}}\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mXl\u001b[39m\u001b[33m=\u001b[39mk(\u001b[33mOi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKn\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m==\u001b[39m\u001b[32m\"number\"\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mZl\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUnique\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUniqueOrThrow\"\u001b[39m)\u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mmodelName\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(e\u001b[33m.\u001b[39mmodelName)\u001b[33m,\u001b[39me\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39mselection))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mjoin(\u001b[32m\"\"\u001b[39m)}\u001b[36mfunction\u001b[39m ko(e){\u001b[36mreturn\u001b[39m\u001b[32m`(${Object.keys(e).sort().map(t=>{let n=e[t];return typeof n==\"object\"&&n!==null?`(${t} ${ko(n)})`:t}).join(\" \")})`\u001b[39m}\u001b[36mvar\u001b[39m \u001b[33mRf\u001b[39m\u001b[33m=\u001b[39m{aggregate\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39maggregateRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mcreateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mexecuteRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mfindFirst\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindFirstOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUnique\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUniqueOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mgroupBy\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mqueryRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mrunCommandRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupsertOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mOo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[33mRf\u001b[39m[e]}\u001b[36mvar\u001b[39m \u001b[33mYn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{constructor(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches\u001b[33m=\u001b[39m{}}batches\u001b[33m;\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m;\u001b[39mrequest(r){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchBy(r)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m t\u001b[33m?\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mprocess\u001b[33m.\u001b[39mnextTick(()\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdispatchBatches()\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m})))\u001b[33m,\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m.\u001b[39mpush({request\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mresolve\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mreject\u001b[33m:\u001b[39mi})}))\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(r)}dispatchBatches(){\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m r \u001b[36min\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m;\u001b[39m\u001b[36mdelete\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m,\u001b[39mt\u001b[33m.\u001b[39mlength\u001b[33m===\u001b[39m\u001b[35m1\u001b[39m\u001b[33m?\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mrequest)\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)\u001b[33m:\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mresolve(n)})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)})\u001b[33m:\u001b[39m(t\u001b[33m.\u001b[39msort((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchOrder(n\u001b[33m.\u001b[39mrequest\u001b[33m,\u001b[39mi\u001b[33m.\u001b[39mrequest))\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchLoader(t\u001b[33m.\u001b[39mmap(n\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mrequest))\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m o\u001b[33m=\u001b[39mn[i]\u001b[33m;\u001b[39mo \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[i]\u001b[33m.\u001b[39mreject(o)\u001b[33m:\u001b[39mt[i]\u001b[33m.\u001b[39mresolve(o)}})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)}))}}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"DataLoader\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m mr(e\u001b[33m,\u001b[39mr){\u001b[36mif\u001b[39m(r\u001b[33m===\u001b[39m\u001b[36mnull\u001b[39m)\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mswitch\u001b[39m(e){\u001b[36mcase\u001b[39m\u001b[32m\"bigint\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[33mBigInt\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes\"\u001b[39m\u001b[33m:\u001b[39m{\u001b[36mlet\u001b[39m{buffer\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mbyteOffset\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mbyteLength\u001b[33m:\u001b[39mi}\u001b[33m=\u001b[39m\u001b[33mBuffer\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m(r\u001b[33m,\u001b[39m\u001b[32m\"base64\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mUint8Array\u001b[39m(t\u001b[33m,\u001b[39mn\u001b[33m,\u001b[39mi)}\u001b[36mcase\u001b[39m\u001b[32m\"decimal\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mPe\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(\u001b[32m`1970-01-01T${r}Z`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bigint-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bigint\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bytes\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"decimal-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"decimal\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"datetime\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"date\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"time\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r}}\u001b[36mfunction\u001b[39m zn(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39m\u001b[33mCf\u001b[39m(e)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mn\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mrows\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mn\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mrows[n]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m{\u001b[33m...\u001b[39mt}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m s\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39ms\u001b[33m<\u001b[39m\u001b[33mi\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39ms\u001b[33m++\u001b[39m)o[e\u001b[33m.\u001b[39mcolumns[s]]\u001b[33m=\u001b[39mmr(e\u001b[33m.\u001b[39mtypes[s]\u001b[33m,\u001b[39mi[s])\u001b[33m;\u001b[39mr\u001b[33m.\u001b[39mpush(o)}\u001b[36mreturn\u001b[39m r}\u001b[36mfunction\u001b[39m \u001b[33mCf\u001b[39m(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m{}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mt\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mcolumns\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mt\u001b[33m++\u001b[39m)r[e\u001b[33m.\u001b[39mcolumns[t]]\u001b[33m=\u001b[39m\u001b[36mnull\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r}\u001b[36mvar\u001b[39m \u001b[33mAf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mN\u001b[39m(\u001b[32m\"prisma:client:request_handler\"\u001b[39m)\u001b[33m,\u001b[39m\u001b[33mZn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{client\u001b[33m;\u001b[39mdataloader\u001b[33m;\u001b[39mlogEmitter\u001b[33m;\u001b[39mconstructor(r\u001b[33m,\u001b[39mt){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m=\u001b[39mt\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m=\u001b[39mr\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mYn\u001b[39m({batchLoader\u001b[33m:\u001b[39mol(\u001b[36masync\u001b[39m({requests\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi})\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m{transaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39motelParentCtx\u001b[33m:\u001b[39ms}\u001b[33m=\u001b[39mn[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mmap(p\u001b[33m=>\u001b[39mp\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent(s)\u001b[33m,\u001b[39mu\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39msome(p\u001b[33m=>\u001b[39m\u001b[33mOo\u001b[39m(p\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction))\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m(\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequestBatch(a\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39ml\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39m\u001b[33mIf\u001b[39m(o)\u001b[33m,\u001b[39mcontainsWrite\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi}))\u001b[33m.\u001b[39mmap((p\u001b[33m,\u001b[39md)\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(p \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mreturn\u001b[39m p\u001b[33m;\u001b[39m\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n[d]\u001b[33m,\u001b[39mp)}\u001b[36mcatch\u001b[39m(f){\u001b[36mreturn\u001b[39m f}})})\u001b[33m,\u001b[39msingleLoader\u001b[33m:\u001b[39m\u001b[36masync\u001b[39m n\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39meu(n\u001b[33m.\u001b[39mtransaction)\u001b[33m:\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequest(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent()\u001b[33m,\u001b[39minteractiveTransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39misWrite\u001b[33m:\u001b[39m\u001b[33mOo\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction)\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mn\u001b[33m.\u001b[39mcustomDataProxyFetch})\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n\u001b[33m,\u001b[39mo)}\u001b[33m,\u001b[39mbatchBy\u001b[33m:\u001b[39mn\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mid\u001b[33m?\u001b[39m\u001b[32m`transaction-${n.transaction.id}`\u001b[39m\u001b[33m:\u001b[39m\u001b[33mZl\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39mbatchOrder(n\u001b[33m,\u001b[39mi){\u001b[36mreturn\u001b[39m n\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m?\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m-\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m:\u001b[39m\u001b[35m0\u001b[39m}})}\u001b[36masync\u001b[39m request(r){\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m.\u001b[39mrequest(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mlet\u001b[39m{clientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma}\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleAndLogRequestError({error\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mglobalOmit})}}mapQueryEngineResult({dataPath\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39munpacker\u001b[33m:\u001b[39mt}\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mdata\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39munpack(i\u001b[33m,\u001b[39mr\u001b[33m,\u001b[39mt)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mPRISMA_CLIENT_GET_TIME\u001b[39m\u001b[33m?\u001b[39m{data\u001b[33m:\u001b[39mo}\u001b[33m:\u001b[39mo}handleAndLogRequestError(r){\u001b[36mtry\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleRequestError(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mthrow\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m.\u001b[39memit(\u001b[32m\"error\"\u001b[39m\u001b[33m,\u001b[39m{message\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mmessage\u001b[33m,\u001b[39mtarget\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mclientMethod\u001b[33m,\u001b[39mtimestamp\u001b[33m:\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m})\u001b[33m,\u001b[39mt}}handleRequestError({error\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma}){\u001b[36mif\u001b[39m(\u001b[33mAf\u001b[39m(r)\u001b[33m,\u001b[39mkf(r\u001b[33m,\u001b[39mi))\u001b[36mthrow\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m z\u001b[33m&&\u001b[39m\u001b[33mOf\u001b[39m(r)){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39mru(r\u001b[33m.\u001b[39mmeta)\u001b[33m;\u001b[39mkn({args\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39m[u]\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39merrorFormat\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma})}\u001b[36mlet\u001b[39m l\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mmessage\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m(l\u001b[33m=\u001b[39mwn({callsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39misPanic\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39misPanic\u001b[33m,\u001b[39mshowColors\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m===\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39mmessage\u001b[33m:\u001b[39ml}))\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39msanitizeMessage(l)\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mcode){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39ms\u001b[33m?\u001b[39m{modelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr\u001b[33m.\u001b[39mmeta}\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mmeta\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m z(l\u001b[33m,\u001b[39m{code\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mcode\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mmeta\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})}\u001b[36melse\u001b[39m{\u001b[36mif\u001b[39m(r\u001b[33m.\u001b[39misPanic)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m j)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m j(l\u001b[33m,\u001b[39m{clientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m \u001b[33mT\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mT\u001b[39m(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m le)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)}\u001b[36mthrow\u001b[39m r\u001b[33m.\u001b[39mclientVersion\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mr}sanitizeMessage(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m!==\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m?\u001b[39m(\u001b[35m0\u001b[39m\u001b[33m,\u001b[39m\u001b[33mXl\u001b[39m\u001b[33m.\u001b[39m\u001b[36mdefault\u001b[39m)(r)\u001b[33m:\u001b[39mr}unpack(r\u001b[33m,\u001b[39mt\u001b[33m,\u001b[39mn){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m||\u001b[39m(r\u001b[33m.\u001b[39mdata\u001b[33m&&\u001b[39m(r\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mdata)\u001b[33m,\u001b[39m\u001b[33m!\u001b[39mr))\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mvalues(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ms\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mfilter(u\u001b[33m=>\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"select\"\u001b[39m\u001b[33m&&\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"include\"\u001b[39m)\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mio(o\u001b[33m,\u001b[39ms)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39mi\u001b[33m===\u001b[39m\u001b[32m\"queryRaw\"\u001b[39m\u001b[33m?\u001b[39mzn(a)\u001b[33m:\u001b[39m\u001b[33mTr\u001b[39m(a)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m?\u001b[39mn(l)\u001b[33m:\u001b[39ml}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"RequestHandler\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mIf\u001b[39m(e){\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39m{isolationLevel\u001b[33m:\u001b[39me\u001b[33m.\u001b[39misolationLevel}}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39meu(e)}\u001b[33m;\u001b[39m_e(e\u001b[33m,\u001b[39m\u001b[32m\"Unknown transaction kind\"\u001b[39m)}}\u001b[36mfunction\u001b[39m eu(e){\u001b[36mreturn\u001b[39m{id\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39mpayload\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mpayload}}\u001b[36mfunction\u001b[39m kf(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m \u001b[33mKn\u001b[39m(e)\u001b[33m&&\u001b[39mr\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m!==\u001b[39mr\u001b[33m.\u001b[39mindex}\u001b[36mfunction\u001b[39m \u001b[33mOf\u001b[39m(e){\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2009\"\u001b[39m\u001b[33m||\u001b[39me\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2012\"\u001b[39m}\u001b[36mfunction\u001b[39m ru(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"Union\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"Union\"\u001b[39m\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39me\u001b[33m.\u001b[39merrors\u001b[33m.\u001b[39mmap(ru)}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e\u001b[33m.\u001b[39mselectionPath)){\u001b[36mlet\u001b[39m[\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr]\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mselectionPath\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[33m...\u001b[39me\u001b[33m,\u001b[39mselectionPath\u001b[33m:\u001b[39mr}}\u001b[36mreturn\u001b[39m e}\u001b[36mvar\u001b[39m tu\u001b[33m=\u001b[39m\u001b[33mSl\u001b[39m\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m au\u001b[33m=\u001b[39mk(\u001b[33mQi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mD\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mError\u001b[39m{constructor(r){\u001b[36msuper\u001b[39m(r\u001b[33m+\u001b[39m\u001b[32m`\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 125 |\u001b[39m \u001b[32mRead more at https://pris.ly/d/client-constructor`\u001b[39m)\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mname\u001b[33m=\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}}\u001b[33m;\u001b[39mx(\u001b[33mD\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m nu\u001b[33m=\u001b[39m[\u001b[32m\"datasources\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"datasourceUrl\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"errorFormat\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"adapter\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"log\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"transactionOptions\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"omit\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"__internal\"\u001b[39m]\u001b[33m,\u001b[39miu\u001b[33m=\u001b[39m[\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"colorless\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"minimal\"\u001b[39m]\u001b[33m,\u001b[39mou\u001b[33m=\u001b[39m[\u001b[32m\"info\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"warn\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"error\"\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mDf\u001b[39m\u001b[33m=\u001b[39m{datasources\u001b[33m:\u001b[39m(e\u001b[33m,\u001b[39m{datasourceNames\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m e\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for \"datasources\" provided to PrismaClient constructor`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[t\u001b[33m,\u001b[39mn]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(e)){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m.\u001b[39mincludes(t)){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mWr\u001b[39m(t\u001b[33m,\u001b[39mr)\u001b[33m||\u001b[39m\u001b[32m` Available datasources: ${r.join(\", \")}`\u001b[39m\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Unknown datasource ${t} provided to PrismaClient constructor.${i}`\u001b[39m)}\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m n\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(n))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 126 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m\u001b[36mtypeof\u001b[39m n\u001b[33m==\u001b[39m\u001b[32m\"object\"\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[i\u001b[33m,\u001b[39mo]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(n)){\u001b[36mif\u001b[39m(i\u001b[33m!==\u001b[39m\u001b[32m\"url\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 127 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m o\u001b[33m!=\u001b[39m\u001b[32m\"string\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(o)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:7649)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError [as handleAndLogRequestError] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6784)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleAndLogRequestError [as request] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6491)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat l (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:133:9778)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/health.test.ts\u001b[39m\u001b[0m\u001b[2m:48:5)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1m/api/health › GET › should handle OPTIONS requests for CORS preflight\u001b[39m\u001b[22m\n\n    PrismaClientUnknownRequestError: \n    Invalid `prisma.user.deleteMany()` invocation in\n    /Users/connorbowen/apiq-mvp/tests/integration/api/health.test.ts:58:23\n\n      55     }\n      56   }\n      57 });\n    → 58 await prisma.user.deleteMany(\n    Error occurred during query execution:\n    ConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28463 waits for ShareLock on transaction 54242; blocked by process 28465.\\nProcess 28465 waits for ShareLock on transaction 54235; blocked by process 28463.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 122 |\u001b[39m \u001b[32m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 123 |\u001b[39m \u001b[32mMore Information: https://pris.ly/d/execute-raw\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 124 |\u001b[39m \u001b[32m`\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mCo\u001b[39m\u001b[33m=\u001b[39m({clientMethod\u001b[33m:\u001b[39me\u001b[33m,\u001b[39mactiveProvider\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39mt\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[32m\"\"\u001b[39m\u001b[33m,\u001b[39mi\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mFn\u001b[39m(t))n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(t)){\u001b[36mlet\u001b[39m[o\u001b[33m,\u001b[39m\u001b[33m...\u001b[39ms]\u001b[33m=\u001b[39mt\u001b[33m;\u001b[39mn\u001b[33m=\u001b[39mo\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(s\u001b[33m||\u001b[39m[])\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}}\u001b[36melse\u001b[39m \u001b[36mswitch\u001b[39m(r){\u001b[36mcase\u001b[39m\u001b[32m\"sqlite\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"mysql\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"cockroachdb\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgresql\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgres\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mtext\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"sqlserver\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mjl(t)\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`The ${r} provider does not support ${e}`\u001b[39m)}\u001b[36mreturn\u001b[39m i\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mvalues\u001b[33m?\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n}, ${i.values})`\u001b[39m)\u001b[33m:\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n})`\u001b[39m)\u001b[33m,\u001b[39m{query\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mparameters\u001b[33m:\u001b[39mi}}\u001b[33m,\u001b[39m\u001b[33mWl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e\u001b[33m.\u001b[39mstrings\u001b[33m,\u001b[39m\u001b[33m...\u001b[39me\u001b[33m.\u001b[39mvalues]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mlet\u001b[39m[r\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mt]\u001b[33m=\u001b[39me\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m oe(r\u001b[33m,\u001b[39mt)}}\u001b[33m,\u001b[39m\u001b[33mJl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mreturn\u001b[39m e[\u001b[35m0\u001b[39m]}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mAo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mfunction\u001b[39m(t\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m(s\u001b[33m=\u001b[39me)\u001b[33m=>\u001b[39m{\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m s\u001b[33m===\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m||\u001b[39ms\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33m=\u001b[39m\u001b[33mHl\u001b[39m(t(s))\u001b[33m:\u001b[39m\u001b[33mHl\u001b[39m(t(s))}\u001b[36mcatch\u001b[39m(a){\u001b[36mreturn\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mreject(a)}}\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[36mget\u001b[39m spec(){\u001b[36mreturn\u001b[39m n}\u001b[33m,\u001b[39mthen(s\u001b[33m,\u001b[39ma){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39mthen(s\u001b[33m,\u001b[39ma)}\u001b[33m,\u001b[39m\u001b[36mcatch\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(s)}\u001b[33m,\u001b[39m\u001b[36mfinally\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mfinally\u001b[39m(s)}\u001b[33m,\u001b[39mrequestTransaction(s){\u001b[36mlet\u001b[39m a\u001b[33m=\u001b[39mo(s)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m a\u001b[33m.\u001b[39mrequestTransaction\u001b[33m?\u001b[39ma\u001b[33m.\u001b[39mrequestTransaction(s)\u001b[33m:\u001b[39ma}\u001b[33m,\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag]\u001b[33m:\u001b[39m\u001b[32m\"PrismaPromise\"\u001b[39m}}}\u001b[36mfunction\u001b[39m \u001b[33mHl\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mthen\u001b[33m==\u001b[39m\u001b[32m\"function\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39m\u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mresolve(e)}\u001b[36mvar\u001b[39m \u001b[33mTf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mEi\u001b[39m\u001b[33m.\u001b[39msplit(\u001b[32m\".\"\u001b[39m)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mSf\u001b[39m\u001b[33m=\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m}\u001b[33m,\u001b[39mgetTraceParent(){\u001b[36mreturn\u001b[39m\u001b[32m\"00-10-10-00\"\u001b[39m}\u001b[33m,\u001b[39mdispatchEngineSpans(){}\u001b[33m,\u001b[39mgetActiveContext(){}\u001b[33m,\u001b[39mrunInChildSpan(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m r()}}\u001b[33m,\u001b[39m\u001b[33mIo\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39misEnabled()}getTraceParent(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetTraceParent(r)}dispatchEngineSpans(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mdispatchEngineSpans(r)}getActiveContext(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetActiveContext()}runInChildSpan(r\u001b[33m,\u001b[39mt){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mrunInChildSpan(r\u001b[33m,\u001b[39mt)}getGlobalTracingHelper(){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39mglobalThis[\u001b[32m`V${Tf}_PRISMA_INSTRUMENTATION`\u001b[39m]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39mglobalThis\u001b[33m.\u001b[39m\u001b[33mPRISMA_INSTRUMENTATION\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33mSf\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKl\u001b[39m(){\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mIo\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mYl\u001b[39m(e\u001b[33m,\u001b[39mr\u001b[33m=\u001b[39m()\u001b[33m=>\u001b[39m{}){\u001b[36mlet\u001b[39m t\u001b[33m,\u001b[39mn\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m(i\u001b[33m=>\u001b[39mt\u001b[33m=\u001b[39mi)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{then(i){\u001b[36mreturn\u001b[39m\u001b[33m--\u001b[39me\u001b[33m===\u001b[39m\u001b[35m0\u001b[39m\u001b[33m&&\u001b[39mt(r())\u001b[33m,\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m.\u001b[39m(n)}}}\u001b[36mfunction\u001b[39m zl(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mreduce((r\u001b[33m,\u001b[39mt)\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[36mtypeof\u001b[39m t\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mlevel\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m===\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m?\u001b[39mr\u001b[33m:\u001b[39mr\u001b[33m&&\u001b[39m(t\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m||\u001b[39mr\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m)\u001b[33m?\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m:\u001b[39mn}\u001b[33m,\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mHn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{_middlewares\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39muse(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mpush(r)}\u001b[36mget\u001b[39m(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}has(r){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[33m!\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}length(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mlength}}\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mXl\u001b[39m\u001b[33m=\u001b[39mk(\u001b[33mOi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKn\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m==\u001b[39m\u001b[32m\"number\"\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mZl\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUnique\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUniqueOrThrow\"\u001b[39m)\u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mmodelName\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(e\u001b[33m.\u001b[39mmodelName)\u001b[33m,\u001b[39me\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39mselection))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mjoin(\u001b[32m\"\"\u001b[39m)}\u001b[36mfunction\u001b[39m ko(e){\u001b[36mreturn\u001b[39m\u001b[32m`(${Object.keys(e).sort().map(t=>{let n=e[t];return typeof n==\"object\"&&n!==null?`(${t} ${ko(n)})`:t}).join(\" \")})`\u001b[39m}\u001b[36mvar\u001b[39m \u001b[33mRf\u001b[39m\u001b[33m=\u001b[39m{aggregate\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39maggregateRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mcreateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mexecuteRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mfindFirst\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindFirstOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUnique\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUniqueOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mgroupBy\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mqueryRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mrunCommandRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupsertOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mOo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[33mRf\u001b[39m[e]}\u001b[36mvar\u001b[39m \u001b[33mYn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{constructor(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches\u001b[33m=\u001b[39m{}}batches\u001b[33m;\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m;\u001b[39mrequest(r){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchBy(r)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m t\u001b[33m?\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mprocess\u001b[33m.\u001b[39mnextTick(()\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdispatchBatches()\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m})))\u001b[33m,\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m.\u001b[39mpush({request\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mresolve\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mreject\u001b[33m:\u001b[39mi})}))\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(r)}dispatchBatches(){\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m r \u001b[36min\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m;\u001b[39m\u001b[36mdelete\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m,\u001b[39mt\u001b[33m.\u001b[39mlength\u001b[33m===\u001b[39m\u001b[35m1\u001b[39m\u001b[33m?\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mrequest)\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)\u001b[33m:\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mresolve(n)})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)})\u001b[33m:\u001b[39m(t\u001b[33m.\u001b[39msort((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchOrder(n\u001b[33m.\u001b[39mrequest\u001b[33m,\u001b[39mi\u001b[33m.\u001b[39mrequest))\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchLoader(t\u001b[33m.\u001b[39mmap(n\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mrequest))\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m o\u001b[33m=\u001b[39mn[i]\u001b[33m;\u001b[39mo \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[i]\u001b[33m.\u001b[39mreject(o)\u001b[33m:\u001b[39mt[i]\u001b[33m.\u001b[39mresolve(o)}})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)}))}}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"DataLoader\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m mr(e\u001b[33m,\u001b[39mr){\u001b[36mif\u001b[39m(r\u001b[33m===\u001b[39m\u001b[36mnull\u001b[39m)\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mswitch\u001b[39m(e){\u001b[36mcase\u001b[39m\u001b[32m\"bigint\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[33mBigInt\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes\"\u001b[39m\u001b[33m:\u001b[39m{\u001b[36mlet\u001b[39m{buffer\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mbyteOffset\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mbyteLength\u001b[33m:\u001b[39mi}\u001b[33m=\u001b[39m\u001b[33mBuffer\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m(r\u001b[33m,\u001b[39m\u001b[32m\"base64\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mUint8Array\u001b[39m(t\u001b[33m,\u001b[39mn\u001b[33m,\u001b[39mi)}\u001b[36mcase\u001b[39m\u001b[32m\"decimal\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mPe\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(\u001b[32m`1970-01-01T${r}Z`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bigint-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bigint\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bytes\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"decimal-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"decimal\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"datetime\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"date\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"time\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r}}\u001b[36mfunction\u001b[39m zn(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39m\u001b[33mCf\u001b[39m(e)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mn\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mrows\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mn\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mrows[n]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m{\u001b[33m...\u001b[39mt}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m s\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39ms\u001b[33m<\u001b[39m\u001b[33mi\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39ms\u001b[33m++\u001b[39m)o[e\u001b[33m.\u001b[39mcolumns[s]]\u001b[33m=\u001b[39mmr(e\u001b[33m.\u001b[39mtypes[s]\u001b[33m,\u001b[39mi[s])\u001b[33m;\u001b[39mr\u001b[33m.\u001b[39mpush(o)}\u001b[36mreturn\u001b[39m r}\u001b[36mfunction\u001b[39m \u001b[33mCf\u001b[39m(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m{}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mt\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mcolumns\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mt\u001b[33m++\u001b[39m)r[e\u001b[33m.\u001b[39mcolumns[t]]\u001b[33m=\u001b[39m\u001b[36mnull\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r}\u001b[36mvar\u001b[39m \u001b[33mAf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mN\u001b[39m(\u001b[32m\"prisma:client:request_handler\"\u001b[39m)\u001b[33m,\u001b[39m\u001b[33mZn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{client\u001b[33m;\u001b[39mdataloader\u001b[33m;\u001b[39mlogEmitter\u001b[33m;\u001b[39mconstructor(r\u001b[33m,\u001b[39mt){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m=\u001b[39mt\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m=\u001b[39mr\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mYn\u001b[39m({batchLoader\u001b[33m:\u001b[39mol(\u001b[36masync\u001b[39m({requests\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi})\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m{transaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39motelParentCtx\u001b[33m:\u001b[39ms}\u001b[33m=\u001b[39mn[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mmap(p\u001b[33m=>\u001b[39mp\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent(s)\u001b[33m,\u001b[39mu\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39msome(p\u001b[33m=>\u001b[39m\u001b[33mOo\u001b[39m(p\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction))\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m(\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequestBatch(a\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39ml\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39m\u001b[33mIf\u001b[39m(o)\u001b[33m,\u001b[39mcontainsWrite\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi}))\u001b[33m.\u001b[39mmap((p\u001b[33m,\u001b[39md)\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(p \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mreturn\u001b[39m p\u001b[33m;\u001b[39m\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n[d]\u001b[33m,\u001b[39mp)}\u001b[36mcatch\u001b[39m(f){\u001b[36mreturn\u001b[39m f}})})\u001b[33m,\u001b[39msingleLoader\u001b[33m:\u001b[39m\u001b[36masync\u001b[39m n\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39meu(n\u001b[33m.\u001b[39mtransaction)\u001b[33m:\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequest(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent()\u001b[33m,\u001b[39minteractiveTransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39misWrite\u001b[33m:\u001b[39m\u001b[33mOo\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction)\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mn\u001b[33m.\u001b[39mcustomDataProxyFetch})\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n\u001b[33m,\u001b[39mo)}\u001b[33m,\u001b[39mbatchBy\u001b[33m:\u001b[39mn\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mid\u001b[33m?\u001b[39m\u001b[32m`transaction-${n.transaction.id}`\u001b[39m\u001b[33m:\u001b[39m\u001b[33mZl\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39mbatchOrder(n\u001b[33m,\u001b[39mi){\u001b[36mreturn\u001b[39m n\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m?\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m-\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m:\u001b[39m\u001b[35m0\u001b[39m}})}\u001b[36masync\u001b[39m request(r){\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m.\u001b[39mrequest(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mlet\u001b[39m{clientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma}\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleAndLogRequestError({error\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mglobalOmit})}}mapQueryEngineResult({dataPath\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39munpacker\u001b[33m:\u001b[39mt}\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mdata\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39munpack(i\u001b[33m,\u001b[39mr\u001b[33m,\u001b[39mt)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mPRISMA_CLIENT_GET_TIME\u001b[39m\u001b[33m?\u001b[39m{data\u001b[33m:\u001b[39mo}\u001b[33m:\u001b[39mo}handleAndLogRequestError(r){\u001b[36mtry\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleRequestError(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mthrow\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m.\u001b[39memit(\u001b[32m\"error\"\u001b[39m\u001b[33m,\u001b[39m{message\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mmessage\u001b[33m,\u001b[39mtarget\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mclientMethod\u001b[33m,\u001b[39mtimestamp\u001b[33m:\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m})\u001b[33m,\u001b[39mt}}handleRequestError({error\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma}){\u001b[36mif\u001b[39m(\u001b[33mAf\u001b[39m(r)\u001b[33m,\u001b[39mkf(r\u001b[33m,\u001b[39mi))\u001b[36mthrow\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m z\u001b[33m&&\u001b[39m\u001b[33mOf\u001b[39m(r)){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39mru(r\u001b[33m.\u001b[39mmeta)\u001b[33m;\u001b[39mkn({args\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39m[u]\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39merrorFormat\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma})}\u001b[36mlet\u001b[39m l\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mmessage\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m(l\u001b[33m=\u001b[39mwn({callsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39misPanic\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39misPanic\u001b[33m,\u001b[39mshowColors\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m===\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39mmessage\u001b[33m:\u001b[39ml}))\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39msanitizeMessage(l)\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mcode){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39ms\u001b[33m?\u001b[39m{modelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr\u001b[33m.\u001b[39mmeta}\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mmeta\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m z(l\u001b[33m,\u001b[39m{code\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mcode\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mmeta\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})}\u001b[36melse\u001b[39m{\u001b[36mif\u001b[39m(r\u001b[33m.\u001b[39misPanic)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m j)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m j(l\u001b[33m,\u001b[39m{clientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m \u001b[33mT\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mT\u001b[39m(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m le)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)}\u001b[36mthrow\u001b[39m r\u001b[33m.\u001b[39mclientVersion\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mr}sanitizeMessage(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m!==\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m?\u001b[39m(\u001b[35m0\u001b[39m\u001b[33m,\u001b[39m\u001b[33mXl\u001b[39m\u001b[33m.\u001b[39m\u001b[36mdefault\u001b[39m)(r)\u001b[33m:\u001b[39mr}unpack(r\u001b[33m,\u001b[39mt\u001b[33m,\u001b[39mn){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m||\u001b[39m(r\u001b[33m.\u001b[39mdata\u001b[33m&&\u001b[39m(r\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mdata)\u001b[33m,\u001b[39m\u001b[33m!\u001b[39mr))\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mvalues(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ms\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mfilter(u\u001b[33m=>\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"select\"\u001b[39m\u001b[33m&&\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"include\"\u001b[39m)\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mio(o\u001b[33m,\u001b[39ms)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39mi\u001b[33m===\u001b[39m\u001b[32m\"queryRaw\"\u001b[39m\u001b[33m?\u001b[39mzn(a)\u001b[33m:\u001b[39m\u001b[33mTr\u001b[39m(a)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m?\u001b[39mn(l)\u001b[33m:\u001b[39ml}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"RequestHandler\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mIf\u001b[39m(e){\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39m{isolationLevel\u001b[33m:\u001b[39me\u001b[33m.\u001b[39misolationLevel}}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39meu(e)}\u001b[33m;\u001b[39m_e(e\u001b[33m,\u001b[39m\u001b[32m\"Unknown transaction kind\"\u001b[39m)}}\u001b[36mfunction\u001b[39m eu(e){\u001b[36mreturn\u001b[39m{id\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39mpayload\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mpayload}}\u001b[36mfunction\u001b[39m kf(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m \u001b[33mKn\u001b[39m(e)\u001b[33m&&\u001b[39mr\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m!==\u001b[39mr\u001b[33m.\u001b[39mindex}\u001b[36mfunction\u001b[39m \u001b[33mOf\u001b[39m(e){\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2009\"\u001b[39m\u001b[33m||\u001b[39me\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2012\"\u001b[39m}\u001b[36mfunction\u001b[39m ru(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"Union\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"Union\"\u001b[39m\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39me\u001b[33m.\u001b[39merrors\u001b[33m.\u001b[39mmap(ru)}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e\u001b[33m.\u001b[39mselectionPath)){\u001b[36mlet\u001b[39m[\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr]\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mselectionPath\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[33m...\u001b[39me\u001b[33m,\u001b[39mselectionPath\u001b[33m:\u001b[39mr}}\u001b[36mreturn\u001b[39m e}\u001b[36mvar\u001b[39m tu\u001b[33m=\u001b[39m\u001b[33mSl\u001b[39m\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m au\u001b[33m=\u001b[39mk(\u001b[33mQi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mD\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mError\u001b[39m{constructor(r){\u001b[36msuper\u001b[39m(r\u001b[33m+\u001b[39m\u001b[32m`\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 125 |\u001b[39m \u001b[32mRead more at https://pris.ly/d/client-constructor`\u001b[39m)\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mname\u001b[33m=\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}}\u001b[33m;\u001b[39mx(\u001b[33mD\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m nu\u001b[33m=\u001b[39m[\u001b[32m\"datasources\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"datasourceUrl\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"errorFormat\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"adapter\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"log\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"transactionOptions\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"omit\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"__internal\"\u001b[39m]\u001b[33m,\u001b[39miu\u001b[33m=\u001b[39m[\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"colorless\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"minimal\"\u001b[39m]\u001b[33m,\u001b[39mou\u001b[33m=\u001b[39m[\u001b[32m\"info\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"warn\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"error\"\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mDf\u001b[39m\u001b[33m=\u001b[39m{datasources\u001b[33m:\u001b[39m(e\u001b[33m,\u001b[39m{datasourceNames\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m e\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for \"datasources\" provided to PrismaClient constructor`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[t\u001b[33m,\u001b[39mn]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(e)){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m.\u001b[39mincludes(t)){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mWr\u001b[39m(t\u001b[33m,\u001b[39mr)\u001b[33m||\u001b[39m\u001b[32m` Available datasources: ${r.join(\", \")}`\u001b[39m\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Unknown datasource ${t} provided to PrismaClient constructor.${i}`\u001b[39m)}\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m n\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(n))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 126 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m\u001b[36mtypeof\u001b[39m n\u001b[33m==\u001b[39m\u001b[32m\"object\"\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[i\u001b[33m,\u001b[39mo]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(n)){\u001b[36mif\u001b[39m(i\u001b[33m!==\u001b[39m\u001b[32m\"url\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 127 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m o\u001b[33m!=\u001b[39m\u001b[32m\"string\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(o)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:7649)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError [as handleAndLogRequestError] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6784)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleAndLogRequestError [as request] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6491)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat l (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:133:9778)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/health.test.ts\u001b[39m\u001b[0m\u001b[2m:58:5)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1m/api/health › security › should not expose sensitive information\u001b[39m\u001b[22m\n\n    thrown: \"Exceeded timeout of 30000 ms for a hook.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 32 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 33 |\u001b[39m describe(\u001b[32m'/api/health'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 34 |\u001b[39m   beforeEach(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 35 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 36 |\u001b[39m     \u001b[36mawait\u001b[39m prisma\u001b[33m.\u001b[39mendpoint\u001b[33m.\u001b[39mdeleteMany({\u001b[22m\n\u001b[2m     \u001b[90m 37 |\u001b[39m       where\u001b[33m:\u001b[39m {\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat beforeEach (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/health.test.ts\u001b[39m\u001b[0m\u001b[2m:34:3)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.describe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/health.test.ts\u001b[39m\u001b[0m\u001b[2m:33:1)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1m/api/health › security › should handle malicious query parameters\u001b[39m\u001b[22m\n\n    thrown: \"Exceeded timeout of 30000 ms for a hook.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 32 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 33 |\u001b[39m describe(\u001b[32m'/api/health'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 34 |\u001b[39m   beforeEach(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 35 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 36 |\u001b[39m     \u001b[36mawait\u001b[39m prisma\u001b[33m.\u001b[39mendpoint\u001b[33m.\u001b[39mdeleteMany({\u001b[22m\n\u001b[2m     \u001b[90m 37 |\u001b[39m       where\u001b[33m:\u001b[39m {\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat beforeEach (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/health.test.ts\u001b[39m\u001b[0m\u001b[2m:34:3)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.describe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/health.test.ts\u001b[39m\u001b[0m\u001b[2m:33:1)\u001b[22m\u001b[2m\u001b[22m\n","name":"/Users/connorbowen/apiq-mvp/tests/integration/api/health.test.ts","startTime":1751471235009,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["SSO Authentication Flow Testing - Phase 2.3","SSO Provider Configuration"],"duration":339,"failureDetails":[],"failureMessages":[],"fullName":"SSO Authentication Flow Testing - Phase 2.3 SSO Provider Configuration should return available providers based on environment configuration","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should return available providers based on environment configuration"},{"ancestorTitles":["SSO Authentication Flow Testing - Phase 2.3","SSO Provider Configuration"],"duration":4029,"failureDetails":[],"failureMessages":[],"fullName":"SSO Authentication Flow Testing - Phase 2.3 SSO Provider Configuration should include Okta provider when configured","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should include Okta provider when configured"},{"ancestorTitles":["SSO Authentication Flow Testing - Phase 2.3","SSO Provider Configuration"],"duration":3318,"failureDetails":[{"name":"PrismaClientUnknownRequestError","clientVersion":"6.10.1"}],"failureMessages":["PrismaClientUnknownRequestError: \nInvalid `prisma.endpoint.deleteMany()` invocation in\n/Users/connorbowen/apiq-mvp/tests/integration/api/sso-auth-flow.test.ts:29:27\n\n  26 \n  27 beforeEach(async () => {\n  28   jest.clearAllMocks();\n→ 29   await prisma.endpoint.deleteMany(\nError occurred during query execution:\nConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28323 waits for ShareLock on transaction 54087; blocked by process 28324.\\nProcess 28324 waits for ShareLock on transaction 54157; blocked by process 28323.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n    at Zn.handleRequestError (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:7649)\n    at Zn.handleRequestError [as handleAndLogRequestError] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6784)\n    at Zn.handleAndLogRequestError [as request] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6491)\n    at l (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:133:9778)\n    at Object.<anonymous> (/Users/connorbowen/apiq-mvp/tests/integration/api/sso-auth-flow.test.ts:29:5)"],"fullName":"SSO Authentication Flow Testing - Phase 2.3 SSO Provider Configuration should include Google provider when configured","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should include Google provider when configured"},{"ancestorTitles":["SSO Authentication Flow Testing - Phase 2.3","SSO Provider Configuration"],"duration":2051,"failureDetails":[{"name":"PrismaClientUnknownRequestError","clientVersion":"6.10.1"}],"failureMessages":["PrismaClientUnknownRequestError: \nInvalid `prisma.endpoint.deleteMany()` invocation in\n/Users/connorbowen/apiq-mvp/tests/integration/api/sso-auth-flow.test.ts:29:27\n\n  26 \n  27 beforeEach(async () => {\n  28   jest.clearAllMocks();\n→ 29   await prisma.endpoint.deleteMany(\nError occurred during query execution:\nConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28323 waits for ShareLock on transaction 54169; blocked by process 28324.\\nProcess 28324 waits for ShareLock on transaction 54162; blocked by process 28326.\\nProcess 28326 waits for AccessExclusiveLock on tuple (0,10) of relation 33244 of database 21992; blocked by process 28323.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n    at Zn.handleRequestError (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:7649)\n    at Zn.handleRequestError [as handleAndLogRequestError] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6784)\n    at Zn.handleAndLogRequestError [as request] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6491)\n    at l (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:133:9778)\n    at Object.<anonymous> (/Users/connorbowen/apiq-mvp/tests/integration/api/sso-auth-flow.test.ts:29:5)"],"fullName":"SSO Authentication Flow Testing - Phase 2.3 SSO Provider Configuration should include Azure AD provider when configured","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should include Azure AD provider when configured"},{"ancestorTitles":["SSO Authentication Flow Testing - Phase 2.3","OAuth2 Flow Testing"],"duration":1496,"failureDetails":[{"name":"PrismaClientUnknownRequestError","clientVersion":"6.10.1"}],"failureMessages":["PrismaClientUnknownRequestError: \nInvalid `prisma.apiConnection.deleteMany()` invocation in\n/Users/connorbowen/apiq-mvp/tests/integration/api/sso-auth-flow.test.ts:41:32\n\n  38     }\n  39   }\n  40 });\n→ 41 await prisma.apiConnection.deleteMany(\nError occurred during query execution:\nConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28323 waits for AccessExclusiveLock on tuple (0,19) of relation 33235 of database 21992; blocked by process 28324.\\nProcess 28324 waits for ShareLock on transaction 54192; blocked by process 28405.\\nProcess 28405 waits for ShareLock on transaction 54197; blocked by process 28328.\\nProcess 28328 waits for AccessShareLock on tuple (0,19) of relation 33235 of database 21992; blocked by process 28323.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n    at Zn.handleRequestError (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:7649)\n    at Zn.handleRequestError [as handleAndLogRequestError] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6784)\n    at Zn.handleAndLogRequestError [as request] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6491)\n    at l (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:133:9778)\n    at Object.<anonymous> (/Users/connorbowen/apiq-mvp/tests/integration/api/sso-auth-flow.test.ts:41:5)"],"fullName":"SSO Authentication Flow Testing - Phase 2.3 OAuth2 Flow Testing should handle OAuth2 authorization URL generation","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle OAuth2 authorization URL generation"},{"ancestorTitles":["SSO Authentication Flow Testing - Phase 2.3","OAuth2 Flow Testing"],"duration":517,"failureDetails":[],"failureMessages":[],"fullName":"SSO Authentication Flow Testing - Phase 2.3 OAuth2 Flow Testing should validate OAuth2 scope configuration","invocations":1,"location":null,"numPassingAsserts":9,"retryReasons":[],"status":"passed","title":"should validate OAuth2 scope configuration"},{"ancestorTitles":["SSO Authentication Flow Testing - Phase 2.3","OAuth2 Flow Testing"],"duration":2342,"failureDetails":[{"name":"PrismaClientUnknownRequestError","clientVersion":"6.10.1"}],"failureMessages":["PrismaClientUnknownRequestError: \nInvalid `prisma.apiConnection.deleteMany()` invocation in\n/Users/connorbowen/apiq-mvp/tests/integration/api/sso-auth-flow.test.ts:41:32\n\n  38     }\n  39   }\n  40 });\n→ 41 await prisma.apiConnection.deleteMany(\nError occurred during query execution:\nConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28323 waits for ShareLock on transaction 54201; blocked by process 28324.\\nProcess 28324 waits for ShareLock on transaction 54210; blocked by process 28326.\\nProcess 28326 waits for AccessExclusiveLock on tuple (0,19) of relation 33235 of database 21992; blocked by process 28323.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n    at Zn.handleRequestError (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:7649)\n    at Zn.handleRequestError [as handleAndLogRequestError] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6784)\n    at Zn.handleAndLogRequestError [as request] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6491)\n    at l (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:133:9778)\n    at Object.<anonymous> (/Users/connorbowen/apiq-mvp/tests/integration/api/sso-auth-flow.test.ts:41:5)"],"fullName":"SSO Authentication Flow Testing - Phase 2.3 OAuth2 Flow Testing should handle OAuth2 callback with state parameter validation","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle OAuth2 callback with state parameter validation"},{"ancestorTitles":["SSO Authentication Flow Testing - Phase 2.3","Token Management"],"duration":2737,"failureDetails":[],"failureMessages":[],"fullName":"SSO Authentication Flow Testing - Phase 2.3 Token Management should handle access token storage and retrieval","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should handle access token storage and retrieval"},{"ancestorTitles":["SSO Authentication Flow Testing - Phase 2.3","Token Management"],"duration":2094,"failureDetails":[{"name":"PrismaClientUnknownRequestError","clientVersion":"6.10.1"}],"failureMessages":["PrismaClientUnknownRequestError: \nInvalid `prisma.apiConnection.deleteMany()` invocation in\n/Users/connorbowen/apiq-mvp/tests/integration/api/sso-auth-flow.test.ts:41:32\n\n  38     }\n  39   }\n  40 });\n→ 41 await prisma.apiConnection.deleteMany(\nError occurred during query execution:\nConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28323 waits for ShareLock on transaction 54223; blocked by process 28465.\\nProcess 28465 waits for ShareLock on transaction 54226; blocked by process 28469.\\nProcess 28469 waits for AccessExclusiveLock on tuple (0,19) of relation 33235 of database 21992; blocked by process 28323.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n    at Zn.handleRequestError (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:7649)\n    at Zn.handleRequestError [as handleAndLogRequestError] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6784)\n    at Zn.handleAndLogRequestError [as request] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6491)\n    at l (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:133:9778)\n    at Object.<anonymous> (/Users/connorbowen/apiq-mvp/tests/integration/api/sso-auth-flow.test.ts:41:5)"],"fullName":"SSO Authentication Flow Testing - Phase 2.3 Token Management should handle token expiration validation","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle token expiration validation"},{"ancestorTitles":["SSO Authentication Flow Testing - Phase 2.3","Token Management"],"duration":1324,"failureDetails":[{"name":"PrismaClientUnknownRequestError","clientVersion":"6.10.1"}],"failureMessages":["PrismaClientUnknownRequestError: \nInvalid `prisma.apiConnection.deleteMany()` invocation in\n/Users/connorbowen/apiq-mvp/tests/integration/api/sso-auth-flow.test.ts:41:32\n\n  38     }\n  39   }\n  40 });\n→ 41 await prisma.apiConnection.deleteMany(\nError occurred during query execution:\nConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28323 waits for ShareLock on transaction 54230; blocked by process 28469.\\nProcess 28469 waits for ShareLock on transaction 54228; blocked by process 28323.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n    at Zn.handleRequestError (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:7649)\n    at Zn.handleRequestError [as handleAndLogRequestError] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6784)\n    at Zn.handleAndLogRequestError [as request] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6491)\n    at l (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:133:9778)\n    at Object.<anonymous> (/Users/connorbowen/apiq-mvp/tests/integration/api/sso-auth-flow.test.ts:41:5)"],"fullName":"SSO Authentication Flow Testing - Phase 2.3 Token Management should handle token refresh flow","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle token refresh flow"},{"ancestorTitles":["SSO Authentication Flow Testing - Phase 2.3","Token Management"],"duration":1266,"failureDetails":[{"name":"PrismaClientUnknownRequestError","clientVersion":"6.10.1"}],"failureMessages":["PrismaClientUnknownRequestError: \nInvalid `prisma.apiConnection.deleteMany()` invocation in\n/Users/connorbowen/apiq-mvp/tests/integration/api/sso-auth-flow.test.ts:41:32\n\n  38     }\n  39   }\n  40 });\n→ 41 await prisma.apiConnection.deleteMany(\nError occurred during query execution:\nConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28323 waits for ShareLock on transaction 54234; blocked by process 28469.\\nProcess 28469 waits for AccessExclusiveLock on tuple (0,19) of relation 33235 of database 21992; blocked by process 28465.\\nProcess 28465 waits for ShareLock on transaction 54232; blocked by process 28323.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n    at Zn.handleRequestError (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:7649)\n    at Zn.handleRequestError [as handleAndLogRequestError] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6784)\n    at Zn.handleAndLogRequestError [as request] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6491)\n    at l (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:133:9778)\n    at Object.<anonymous> (/Users/connorbowen/apiq-mvp/tests/integration/api/sso-auth-flow.test.ts:41:5)"],"fullName":"SSO Authentication Flow Testing - Phase 2.3 Token Management should handle token refresh failure","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle token refresh failure"},{"ancestorTitles":["SSO Authentication Flow Testing - Phase 2.3","Security Validation"],"duration":2314,"failureDetails":[{"name":"PrismaClientUnknownRequestError","clientVersion":"6.10.1"}],"failureMessages":["PrismaClientUnknownRequestError: \nInvalid `prisma.user.deleteMany()` invocation in\n/Users/connorbowen/apiq-mvp/tests/integration/api/sso-auth-flow.test.ts:51:23\n\n  48     }\n  49   }\n  50 });\n→ 51 await prisma.user.deleteMany(\nError occurred during query execution:\nConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28323 waits for ShareLock on transaction 54239; blocked by process 28469.\\nProcess 28469 waits for ShareLock on transaction 54236; blocked by process 28323.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n    at Zn.handleRequestError (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:7649)\n    at Zn.handleRequestError [as handleAndLogRequestError] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6784)\n    at Zn.handleAndLogRequestError [as request] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6491)\n    at l (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:133:9778)\n    at Object.<anonymous> (/Users/connorbowen/apiq-mvp/tests/integration/api/sso-auth-flow.test.ts:51:5)"],"fullName":"SSO Authentication Flow Testing - Phase 2.3 Security Validation should not expose sensitive tokens in responses","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should not expose sensitive tokens in responses"},{"ancestorTitles":["SSO Authentication Flow Testing - Phase 2.3","Security Validation"],"duration":1234,"failureDetails":[{"name":"PrismaClientUnknownRequestError","clientVersion":"6.10.1"}],"failureMessages":["PrismaClientUnknownRequestError: \nInvalid `prisma.apiConnection.deleteMany()` invocation in\n/Users/connorbowen/apiq-mvp/tests/integration/api/sso-auth-flow.test.ts:41:32\n\n  38     }\n  39   }\n  40 });\n→ 41 await prisma.apiConnection.deleteMany(\nError occurred during query execution:\nConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28323 waits for ShareLock on transaction 54242; blocked by process 28465.\\nProcess 28465 waits for ShareLock on transaction 54235; blocked by process 28463.\\nProcess 28463 waits for AccessExclusiveLock on tuple (0,31) of relation 33235 of database 21992; blocked by process 28323.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n    at Zn.handleRequestError (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:7649)\n    at Zn.handleRequestError [as handleAndLogRequestError] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6784)\n    at Zn.handleAndLogRequestError [as request] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6491)\n    at l (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:133:9778)\n    at Object.<anonymous> (/Users/connorbowen/apiq-mvp/tests/integration/api/sso-auth-flow.test.ts:41:5)"],"fullName":"SSO Authentication Flow Testing - Phase 2.3 Security Validation should validate token encryption at rest","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should validate token encryption at rest"},{"ancestorTitles":["SSO Authentication Flow Testing - Phase 2.3","Security Validation"],"duration":1383,"failureDetails":[],"failureMessages":[],"fullName":"SSO Authentication Flow Testing - Phase 2.3 Security Validation should handle token revocation","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle token revocation"},{"ancestorTitles":["SSO Authentication Flow Testing - Phase 2.3","User Experience Flow"],"duration":1075,"failureDetails":[{"name":"PrismaClientUnknownRequestError","clientVersion":"6.10.1"}],"failureMessages":["PrismaClientUnknownRequestError: \nInvalid `prisma.user.deleteMany()` invocation in\n/Users/connorbowen/apiq-mvp/tests/integration/api/sso-auth-flow.test.ts:51:23\n\n  48     }\n  49   }\n  50 });\n→ 51 await prisma.user.deleteMany(\nError occurred during query execution:\nConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28323 waits for AccessExclusiveLock on tuple (4,7) of relation 33225 of database 21992; blocked by process 28465.\\nProcess 28465 waits for ShareLock on transaction 54244; blocked by process 28469.\\nProcess 28469 waits for ShareLock on transaction 54248; blocked by process 28323.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n    at Zn.handleRequestError (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:7649)\n    at Zn.handleRequestError [as handleAndLogRequestError] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6784)\n    at Zn.handleAndLogRequestError [as request] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6491)\n    at l (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:133:9778)\n    at Object.<anonymous> (/Users/connorbowen/apiq-mvp/tests/integration/api/sso-auth-flow.test.ts:51:5)"],"fullName":"SSO Authentication Flow Testing - Phase 2.3 User Experience Flow should provide clear provider selection UI","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should provide clear provider selection UI"},{"ancestorTitles":["SSO Authentication Flow Testing - Phase 2.3","User Experience Flow"],"duration":1239,"failureDetails":[{"name":"PrismaClientUnknownRequestError","clientVersion":"6.10.1"}],"failureMessages":["PrismaClientUnknownRequestError: \nInvalid `prisma.apiConnection.deleteMany()` invocation in\n/Users/connorbowen/apiq-mvp/tests/integration/api/sso-auth-flow.test.ts:41:32\n\n  38     }\n  39   }\n  40 });\n→ 41 await prisma.apiConnection.deleteMany(\nError occurred during query execution:\nConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28323 waits for ShareLock on transaction 54249; blocked by process 28463.\\nProcess 28463 waits for ShareLock on transaction 54247; blocked by process 28465.\\nProcess 28465 waits for AccessShareLock on tuple (0,18) of relation 33235 of database 21992; blocked by process 28323.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n    at Zn.handleRequestError (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:7649)\n    at Zn.handleRequestError [as handleAndLogRequestError] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6784)\n    at Zn.handleAndLogRequestError [as request] (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:124:6491)\n    at l (/Users/connorbowen/apiq-mvp/src/generated/prisma/runtime/library.js:133:9778)\n    at Object.<anonymous> (/Users/connorbowen/apiq-mvp/tests/integration/api/sso-auth-flow.test.ts:41:5)"],"fullName":"SSO Authentication Flow Testing - Phase 2.3 User Experience Flow should handle provider connection status","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle provider connection status"},{"ancestorTitles":["SSO Authentication Flow Testing - Phase 2.3","User Experience Flow"],"duration":1389,"failureDetails":[],"failureMessages":[],"fullName":"SSO Authentication Flow Testing - Phase 2.3 User Experience Flow should handle provider disconnection","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should handle provider disconnection"},{"ancestorTitles":["SSO Authentication Flow Testing - Phase 2.3","Error Handling"],"duration":320,"failureDetails":[],"failureMessages":[],"fullName":"SSO Authentication Flow Testing - Phase 2.3 Error Handling should handle OAuth2 authorization errors","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle OAuth2 authorization errors"},{"ancestorTitles":["SSO Authentication Flow Testing - Phase 2.3","Error Handling"],"duration":1266,"failureDetails":[],"failureMessages":[],"fullName":"SSO Authentication Flow Testing - Phase 2.3 Error Handling should handle network errors during OAuth2 flow","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle network errors during OAuth2 flow"},{"ancestorTitles":["SSO Authentication Flow Testing - Phase 2.3","Error Handling"],"duration":30052,"failureDetails":[{"message":"thrown: \"Exceeded timeout of 30000 ms for a hook.\nAdd a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\""}],"failureMessages":["Error: thrown: \"Exceeded timeout of 30000 ms for a hook.\nAdd a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n    at beforeEach (/Users/connorbowen/apiq-mvp/tests/integration/api/sso-auth-flow.test.ts:27:3)\n    at _dispatchDescribe (/Users/connorbowen/apiq-mvp/node_modules/jest-circus/build/index.js:91:26)\n    at describe (/Users/connorbowen/apiq-mvp/node_modules/jest-circus/build/index.js:55:5)\n    at Object.describe (/Users/connorbowen/apiq-mvp/tests/integration/api/sso-auth-flow.test.ts:14:1)\n    at Runtime._execModule (/Users/connorbowen/apiq-mvp/node_modules/jest-runtime/build/index.js:1439:24)\n    at Runtime._loadModule (/Users/connorbowen/apiq-mvp/node_modules/jest-runtime/build/index.js:1022:12)\n    at Runtime.requireModule (/Users/connorbowen/apiq-mvp/node_modules/jest-runtime/build/index.js:882:12)\n    at jestAdapter (/Users/connorbowen/apiq-mvp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:77:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runTestInternal (/Users/connorbowen/apiq-mvp/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/connorbowen/apiq-mvp/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/connorbowen/apiq-mvp/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"SSO Authentication Flow Testing - Phase 2.3 Error Handling should handle invalid provider configuration","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle invalid provider configuration"},{"ancestorTitles":["SSO Authentication Flow Testing - Phase 2.3","Audit Logging"],"duration":30044,"failureDetails":[{"message":"thrown: \"Exceeded timeout of 30000 ms for a hook.\nAdd a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\""}],"failureMessages":["Error: thrown: \"Exceeded timeout of 30000 ms for a hook.\nAdd a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n    at beforeEach (/Users/connorbowen/apiq-mvp/tests/integration/api/sso-auth-flow.test.ts:27:3)\n    at _dispatchDescribe (/Users/connorbowen/apiq-mvp/node_modules/jest-circus/build/index.js:91:26)\n    at describe (/Users/connorbowen/apiq-mvp/node_modules/jest-circus/build/index.js:55:5)\n    at Object.describe (/Users/connorbowen/apiq-mvp/tests/integration/api/sso-auth-flow.test.ts:14:1)\n    at Runtime._execModule (/Users/connorbowen/apiq-mvp/node_modules/jest-runtime/build/index.js:1439:24)\n    at Runtime._loadModule (/Users/connorbowen/apiq-mvp/node_modules/jest-runtime/build/index.js:1022:12)\n    at Runtime.requireModule (/Users/connorbowen/apiq-mvp/node_modules/jest-runtime/build/index.js:882:12)\n    at jestAdapter (/Users/connorbowen/apiq-mvp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:77:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runTestInternal (/Users/connorbowen/apiq-mvp/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/connorbowen/apiq-mvp/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/connorbowen/apiq-mvp/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"SSO Authentication Flow Testing - Phase 2.3 Audit Logging should log SSO sign-in events","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should log SSO sign-in events"},{"ancestorTitles":["SSO Authentication Flow Testing - Phase 2.3","Audit Logging"],"duration":30014,"failureDetails":[{"message":"thrown: \"Exceeded timeout of 30000 ms for a hook.\nAdd a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\""}],"failureMessages":["Error: thrown: \"Exceeded timeout of 30000 ms for a hook.\nAdd a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n    at beforeEach (/Users/connorbowen/apiq-mvp/tests/integration/api/sso-auth-flow.test.ts:27:3)\n    at _dispatchDescribe (/Users/connorbowen/apiq-mvp/node_modules/jest-circus/build/index.js:91:26)\n    at describe (/Users/connorbowen/apiq-mvp/node_modules/jest-circus/build/index.js:55:5)\n    at Object.describe (/Users/connorbowen/apiq-mvp/tests/integration/api/sso-auth-flow.test.ts:14:1)\n    at Runtime._execModule (/Users/connorbowen/apiq-mvp/node_modules/jest-runtime/build/index.js:1439:24)\n    at Runtime._loadModule (/Users/connorbowen/apiq-mvp/node_modules/jest-runtime/build/index.js:1022:12)\n    at Runtime.requireModule (/Users/connorbowen/apiq-mvp/node_modules/jest-runtime/build/index.js:882:12)\n    at jestAdapter (/Users/connorbowen/apiq-mvp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:77:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runTestInternal (/Users/connorbowen/apiq-mvp/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/connorbowen/apiq-mvp/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/connorbowen/apiq-mvp/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"SSO Authentication Flow Testing - Phase 2.3 Audit Logging should log token refresh events","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should log token refresh events"},{"ancestorTitles":["SSO Authentication Flow Testing - Phase 2.3","Audit Logging"],"duration":30011,"failureDetails":[{"message":"thrown: \"Exceeded timeout of 30000 ms for a hook.\nAdd a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\""}],"failureMessages":["Error: thrown: \"Exceeded timeout of 30000 ms for a hook.\nAdd a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n    at beforeEach (/Users/connorbowen/apiq-mvp/tests/integration/api/sso-auth-flow.test.ts:27:3)\n    at _dispatchDescribe (/Users/connorbowen/apiq-mvp/node_modules/jest-circus/build/index.js:91:26)\n    at describe (/Users/connorbowen/apiq-mvp/node_modules/jest-circus/build/index.js:55:5)\n    at Object.describe (/Users/connorbowen/apiq-mvp/tests/integration/api/sso-auth-flow.test.ts:14:1)\n    at Runtime._execModule (/Users/connorbowen/apiq-mvp/node_modules/jest-runtime/build/index.js:1439:24)\n    at Runtime._loadModule (/Users/connorbowen/apiq-mvp/node_modules/jest-runtime/build/index.js:1022:12)\n    at Runtime.requireModule (/Users/connorbowen/apiq-mvp/node_modules/jest-runtime/build/index.js:882:12)\n    at jestAdapter (/Users/connorbowen/apiq-mvp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:77:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runTestInternal (/Users/connorbowen/apiq-mvp/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/connorbowen/apiq-mvp/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/connorbowen/apiq-mvp/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"SSO Authentication Flow Testing - Phase 2.3 Audit Logging should log provider disconnection events","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should log provider disconnection events"}],"coverage":{},"endTime":1751471418399,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mSSO Authentication Flow Testing - Phase 2.3 › SSO Provider Configuration › should include Google provider when configured\u001b[39m\u001b[22m\n\n    PrismaClientUnknownRequestError: \n    Invalid `prisma.endpoint.deleteMany()` invocation in\n    /Users/connorbowen/apiq-mvp/tests/integration/api/sso-auth-flow.test.ts:29:27\n\n      26 \n      27 beforeEach(async () => {\n      28   jest.clearAllMocks();\n    → 29   await prisma.endpoint.deleteMany(\n    Error occurred during query execution:\n    ConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28323 waits for ShareLock on transaction 54087; blocked by process 28324.\\nProcess 28324 waits for ShareLock on transaction 54157; blocked by process 28323.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 122 |\u001b[39m \u001b[32m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 123 |\u001b[39m \u001b[32mMore Information: https://pris.ly/d/execute-raw\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 124 |\u001b[39m \u001b[32m`\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mCo\u001b[39m\u001b[33m=\u001b[39m({clientMethod\u001b[33m:\u001b[39me\u001b[33m,\u001b[39mactiveProvider\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39mt\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[32m\"\"\u001b[39m\u001b[33m,\u001b[39mi\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mFn\u001b[39m(t))n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(t)){\u001b[36mlet\u001b[39m[o\u001b[33m,\u001b[39m\u001b[33m...\u001b[39ms]\u001b[33m=\u001b[39mt\u001b[33m;\u001b[39mn\u001b[33m=\u001b[39mo\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(s\u001b[33m||\u001b[39m[])\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}}\u001b[36melse\u001b[39m \u001b[36mswitch\u001b[39m(r){\u001b[36mcase\u001b[39m\u001b[32m\"sqlite\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"mysql\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"cockroachdb\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgresql\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgres\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mtext\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"sqlserver\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mjl(t)\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`The ${r} provider does not support ${e}`\u001b[39m)}\u001b[36mreturn\u001b[39m i\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mvalues\u001b[33m?\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n}, ${i.values})`\u001b[39m)\u001b[33m:\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n})`\u001b[39m)\u001b[33m,\u001b[39m{query\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mparameters\u001b[33m:\u001b[39mi}}\u001b[33m,\u001b[39m\u001b[33mWl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e\u001b[33m.\u001b[39mstrings\u001b[33m,\u001b[39m\u001b[33m...\u001b[39me\u001b[33m.\u001b[39mvalues]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mlet\u001b[39m[r\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mt]\u001b[33m=\u001b[39me\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m oe(r\u001b[33m,\u001b[39mt)}}\u001b[33m,\u001b[39m\u001b[33mJl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mreturn\u001b[39m e[\u001b[35m0\u001b[39m]}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mAo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mfunction\u001b[39m(t\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m(s\u001b[33m=\u001b[39me)\u001b[33m=>\u001b[39m{\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m s\u001b[33m===\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m||\u001b[39ms\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33m=\u001b[39m\u001b[33mHl\u001b[39m(t(s))\u001b[33m:\u001b[39m\u001b[33mHl\u001b[39m(t(s))}\u001b[36mcatch\u001b[39m(a){\u001b[36mreturn\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mreject(a)}}\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[36mget\u001b[39m spec(){\u001b[36mreturn\u001b[39m n}\u001b[33m,\u001b[39mthen(s\u001b[33m,\u001b[39ma){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39mthen(s\u001b[33m,\u001b[39ma)}\u001b[33m,\u001b[39m\u001b[36mcatch\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(s)}\u001b[33m,\u001b[39m\u001b[36mfinally\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mfinally\u001b[39m(s)}\u001b[33m,\u001b[39mrequestTransaction(s){\u001b[36mlet\u001b[39m a\u001b[33m=\u001b[39mo(s)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m a\u001b[33m.\u001b[39mrequestTransaction\u001b[33m?\u001b[39ma\u001b[33m.\u001b[39mrequestTransaction(s)\u001b[33m:\u001b[39ma}\u001b[33m,\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag]\u001b[33m:\u001b[39m\u001b[32m\"PrismaPromise\"\u001b[39m}}}\u001b[36mfunction\u001b[39m \u001b[33mHl\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mthen\u001b[33m==\u001b[39m\u001b[32m\"function\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39m\u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mresolve(e)}\u001b[36mvar\u001b[39m \u001b[33mTf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mEi\u001b[39m\u001b[33m.\u001b[39msplit(\u001b[32m\".\"\u001b[39m)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mSf\u001b[39m\u001b[33m=\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m}\u001b[33m,\u001b[39mgetTraceParent(){\u001b[36mreturn\u001b[39m\u001b[32m\"00-10-10-00\"\u001b[39m}\u001b[33m,\u001b[39mdispatchEngineSpans(){}\u001b[33m,\u001b[39mgetActiveContext(){}\u001b[33m,\u001b[39mrunInChildSpan(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m r()}}\u001b[33m,\u001b[39m\u001b[33mIo\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39misEnabled()}getTraceParent(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetTraceParent(r)}dispatchEngineSpans(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mdispatchEngineSpans(r)}getActiveContext(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetActiveContext()}runInChildSpan(r\u001b[33m,\u001b[39mt){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mrunInChildSpan(r\u001b[33m,\u001b[39mt)}getGlobalTracingHelper(){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39mglobalThis[\u001b[32m`V${Tf}_PRISMA_INSTRUMENTATION`\u001b[39m]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39mglobalThis\u001b[33m.\u001b[39m\u001b[33mPRISMA_INSTRUMENTATION\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33mSf\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKl\u001b[39m(){\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mIo\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mYl\u001b[39m(e\u001b[33m,\u001b[39mr\u001b[33m=\u001b[39m()\u001b[33m=>\u001b[39m{}){\u001b[36mlet\u001b[39m t\u001b[33m,\u001b[39mn\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m(i\u001b[33m=>\u001b[39mt\u001b[33m=\u001b[39mi)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{then(i){\u001b[36mreturn\u001b[39m\u001b[33m--\u001b[39me\u001b[33m===\u001b[39m\u001b[35m0\u001b[39m\u001b[33m&&\u001b[39mt(r())\u001b[33m,\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m.\u001b[39m(n)}}}\u001b[36mfunction\u001b[39m zl(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mreduce((r\u001b[33m,\u001b[39mt)\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[36mtypeof\u001b[39m t\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mlevel\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m===\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m?\u001b[39mr\u001b[33m:\u001b[39mr\u001b[33m&&\u001b[39m(t\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m||\u001b[39mr\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m)\u001b[33m?\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m:\u001b[39mn}\u001b[33m,\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mHn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{_middlewares\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39muse(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mpush(r)}\u001b[36mget\u001b[39m(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}has(r){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[33m!\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}length(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mlength}}\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mXl\u001b[39m\u001b[33m=\u001b[39mk(\u001b[33mOi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKn\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m==\u001b[39m\u001b[32m\"number\"\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mZl\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUnique\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUniqueOrThrow\"\u001b[39m)\u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mmodelName\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(e\u001b[33m.\u001b[39mmodelName)\u001b[33m,\u001b[39me\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39mselection))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mjoin(\u001b[32m\"\"\u001b[39m)}\u001b[36mfunction\u001b[39m ko(e){\u001b[36mreturn\u001b[39m\u001b[32m`(${Object.keys(e).sort().map(t=>{let n=e[t];return typeof n==\"object\"&&n!==null?`(${t} ${ko(n)})`:t}).join(\" \")})`\u001b[39m}\u001b[36mvar\u001b[39m \u001b[33mRf\u001b[39m\u001b[33m=\u001b[39m{aggregate\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39maggregateRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mcreateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mexecuteRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mfindFirst\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindFirstOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUnique\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUniqueOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mgroupBy\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mqueryRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mrunCommandRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupsertOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mOo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[33mRf\u001b[39m[e]}\u001b[36mvar\u001b[39m \u001b[33mYn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{constructor(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches\u001b[33m=\u001b[39m{}}batches\u001b[33m;\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m;\u001b[39mrequest(r){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchBy(r)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m t\u001b[33m?\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mprocess\u001b[33m.\u001b[39mnextTick(()\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdispatchBatches()\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m})))\u001b[33m,\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m.\u001b[39mpush({request\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mresolve\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mreject\u001b[33m:\u001b[39mi})}))\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(r)}dispatchBatches(){\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m r \u001b[36min\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m;\u001b[39m\u001b[36mdelete\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m,\u001b[39mt\u001b[33m.\u001b[39mlength\u001b[33m===\u001b[39m\u001b[35m1\u001b[39m\u001b[33m?\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mrequest)\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)\u001b[33m:\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mresolve(n)})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)})\u001b[33m:\u001b[39m(t\u001b[33m.\u001b[39msort((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchOrder(n\u001b[33m.\u001b[39mrequest\u001b[33m,\u001b[39mi\u001b[33m.\u001b[39mrequest))\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchLoader(t\u001b[33m.\u001b[39mmap(n\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mrequest))\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m o\u001b[33m=\u001b[39mn[i]\u001b[33m;\u001b[39mo \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[i]\u001b[33m.\u001b[39mreject(o)\u001b[33m:\u001b[39mt[i]\u001b[33m.\u001b[39mresolve(o)}})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)}))}}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"DataLoader\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m mr(e\u001b[33m,\u001b[39mr){\u001b[36mif\u001b[39m(r\u001b[33m===\u001b[39m\u001b[36mnull\u001b[39m)\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mswitch\u001b[39m(e){\u001b[36mcase\u001b[39m\u001b[32m\"bigint\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[33mBigInt\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes\"\u001b[39m\u001b[33m:\u001b[39m{\u001b[36mlet\u001b[39m{buffer\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mbyteOffset\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mbyteLength\u001b[33m:\u001b[39mi}\u001b[33m=\u001b[39m\u001b[33mBuffer\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m(r\u001b[33m,\u001b[39m\u001b[32m\"base64\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mUint8Array\u001b[39m(t\u001b[33m,\u001b[39mn\u001b[33m,\u001b[39mi)}\u001b[36mcase\u001b[39m\u001b[32m\"decimal\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mPe\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(\u001b[32m`1970-01-01T${r}Z`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bigint-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bigint\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bytes\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"decimal-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"decimal\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"datetime\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"date\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"time\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r}}\u001b[36mfunction\u001b[39m zn(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39m\u001b[33mCf\u001b[39m(e)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mn\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mrows\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mn\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mrows[n]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m{\u001b[33m...\u001b[39mt}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m s\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39ms\u001b[33m<\u001b[39m\u001b[33mi\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39ms\u001b[33m++\u001b[39m)o[e\u001b[33m.\u001b[39mcolumns[s]]\u001b[33m=\u001b[39mmr(e\u001b[33m.\u001b[39mtypes[s]\u001b[33m,\u001b[39mi[s])\u001b[33m;\u001b[39mr\u001b[33m.\u001b[39mpush(o)}\u001b[36mreturn\u001b[39m r}\u001b[36mfunction\u001b[39m \u001b[33mCf\u001b[39m(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m{}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mt\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mcolumns\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mt\u001b[33m++\u001b[39m)r[e\u001b[33m.\u001b[39mcolumns[t]]\u001b[33m=\u001b[39m\u001b[36mnull\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r}\u001b[36mvar\u001b[39m \u001b[33mAf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mN\u001b[39m(\u001b[32m\"prisma:client:request_handler\"\u001b[39m)\u001b[33m,\u001b[39m\u001b[33mZn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{client\u001b[33m;\u001b[39mdataloader\u001b[33m;\u001b[39mlogEmitter\u001b[33m;\u001b[39mconstructor(r\u001b[33m,\u001b[39mt){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m=\u001b[39mt\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m=\u001b[39mr\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mYn\u001b[39m({batchLoader\u001b[33m:\u001b[39mol(\u001b[36masync\u001b[39m({requests\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi})\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m{transaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39motelParentCtx\u001b[33m:\u001b[39ms}\u001b[33m=\u001b[39mn[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mmap(p\u001b[33m=>\u001b[39mp\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent(s)\u001b[33m,\u001b[39mu\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39msome(p\u001b[33m=>\u001b[39m\u001b[33mOo\u001b[39m(p\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction))\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m(\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequestBatch(a\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39ml\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39m\u001b[33mIf\u001b[39m(o)\u001b[33m,\u001b[39mcontainsWrite\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi}))\u001b[33m.\u001b[39mmap((p\u001b[33m,\u001b[39md)\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(p \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mreturn\u001b[39m p\u001b[33m;\u001b[39m\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n[d]\u001b[33m,\u001b[39mp)}\u001b[36mcatch\u001b[39m(f){\u001b[36mreturn\u001b[39m f}})})\u001b[33m,\u001b[39msingleLoader\u001b[33m:\u001b[39m\u001b[36masync\u001b[39m n\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39meu(n\u001b[33m.\u001b[39mtransaction)\u001b[33m:\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequest(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent()\u001b[33m,\u001b[39minteractiveTransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39misWrite\u001b[33m:\u001b[39m\u001b[33mOo\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction)\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mn\u001b[33m.\u001b[39mcustomDataProxyFetch})\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n\u001b[33m,\u001b[39mo)}\u001b[33m,\u001b[39mbatchBy\u001b[33m:\u001b[39mn\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mid\u001b[33m?\u001b[39m\u001b[32m`transaction-${n.transaction.id}`\u001b[39m\u001b[33m:\u001b[39m\u001b[33mZl\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39mbatchOrder(n\u001b[33m,\u001b[39mi){\u001b[36mreturn\u001b[39m n\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m?\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m-\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m:\u001b[39m\u001b[35m0\u001b[39m}})}\u001b[36masync\u001b[39m request(r){\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m.\u001b[39mrequest(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mlet\u001b[39m{clientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma}\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleAndLogRequestError({error\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mglobalOmit})}}mapQueryEngineResult({dataPath\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39munpacker\u001b[33m:\u001b[39mt}\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mdata\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39munpack(i\u001b[33m,\u001b[39mr\u001b[33m,\u001b[39mt)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mPRISMA_CLIENT_GET_TIME\u001b[39m\u001b[33m?\u001b[39m{data\u001b[33m:\u001b[39mo}\u001b[33m:\u001b[39mo}handleAndLogRequestError(r){\u001b[36mtry\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleRequestError(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mthrow\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m.\u001b[39memit(\u001b[32m\"error\"\u001b[39m\u001b[33m,\u001b[39m{message\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mmessage\u001b[33m,\u001b[39mtarget\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mclientMethod\u001b[33m,\u001b[39mtimestamp\u001b[33m:\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m})\u001b[33m,\u001b[39mt}}handleRequestError({error\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma}){\u001b[36mif\u001b[39m(\u001b[33mAf\u001b[39m(r)\u001b[33m,\u001b[39mkf(r\u001b[33m,\u001b[39mi))\u001b[36mthrow\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m z\u001b[33m&&\u001b[39m\u001b[33mOf\u001b[39m(r)){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39mru(r\u001b[33m.\u001b[39mmeta)\u001b[33m;\u001b[39mkn({args\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39m[u]\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39merrorFormat\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma})}\u001b[36mlet\u001b[39m l\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mmessage\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m(l\u001b[33m=\u001b[39mwn({callsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39misPanic\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39misPanic\u001b[33m,\u001b[39mshowColors\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m===\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39mmessage\u001b[33m:\u001b[39ml}))\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39msanitizeMessage(l)\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mcode){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39ms\u001b[33m?\u001b[39m{modelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr\u001b[33m.\u001b[39mmeta}\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mmeta\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m z(l\u001b[33m,\u001b[39m{code\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mcode\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mmeta\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})}\u001b[36melse\u001b[39m{\u001b[36mif\u001b[39m(r\u001b[33m.\u001b[39misPanic)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m j)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m j(l\u001b[33m,\u001b[39m{clientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m \u001b[33mT\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mT\u001b[39m(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m le)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)}\u001b[36mthrow\u001b[39m r\u001b[33m.\u001b[39mclientVersion\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mr}sanitizeMessage(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m!==\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m?\u001b[39m(\u001b[35m0\u001b[39m\u001b[33m,\u001b[39m\u001b[33mXl\u001b[39m\u001b[33m.\u001b[39m\u001b[36mdefault\u001b[39m)(r)\u001b[33m:\u001b[39mr}unpack(r\u001b[33m,\u001b[39mt\u001b[33m,\u001b[39mn){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m||\u001b[39m(r\u001b[33m.\u001b[39mdata\u001b[33m&&\u001b[39m(r\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mdata)\u001b[33m,\u001b[39m\u001b[33m!\u001b[39mr))\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mvalues(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ms\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mfilter(u\u001b[33m=>\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"select\"\u001b[39m\u001b[33m&&\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"include\"\u001b[39m)\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mio(o\u001b[33m,\u001b[39ms)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39mi\u001b[33m===\u001b[39m\u001b[32m\"queryRaw\"\u001b[39m\u001b[33m?\u001b[39mzn(a)\u001b[33m:\u001b[39m\u001b[33mTr\u001b[39m(a)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m?\u001b[39mn(l)\u001b[33m:\u001b[39ml}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"RequestHandler\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mIf\u001b[39m(e){\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39m{isolationLevel\u001b[33m:\u001b[39me\u001b[33m.\u001b[39misolationLevel}}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39meu(e)}\u001b[33m;\u001b[39m_e(e\u001b[33m,\u001b[39m\u001b[32m\"Unknown transaction kind\"\u001b[39m)}}\u001b[36mfunction\u001b[39m eu(e){\u001b[36mreturn\u001b[39m{id\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39mpayload\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mpayload}}\u001b[36mfunction\u001b[39m kf(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m \u001b[33mKn\u001b[39m(e)\u001b[33m&&\u001b[39mr\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m!==\u001b[39mr\u001b[33m.\u001b[39mindex}\u001b[36mfunction\u001b[39m \u001b[33mOf\u001b[39m(e){\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2009\"\u001b[39m\u001b[33m||\u001b[39me\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2012\"\u001b[39m}\u001b[36mfunction\u001b[39m ru(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"Union\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"Union\"\u001b[39m\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39me\u001b[33m.\u001b[39merrors\u001b[33m.\u001b[39mmap(ru)}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e\u001b[33m.\u001b[39mselectionPath)){\u001b[36mlet\u001b[39m[\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr]\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mselectionPath\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[33m...\u001b[39me\u001b[33m,\u001b[39mselectionPath\u001b[33m:\u001b[39mr}}\u001b[36mreturn\u001b[39m e}\u001b[36mvar\u001b[39m tu\u001b[33m=\u001b[39m\u001b[33mSl\u001b[39m\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m au\u001b[33m=\u001b[39mk(\u001b[33mQi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mD\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mError\u001b[39m{constructor(r){\u001b[36msuper\u001b[39m(r\u001b[33m+\u001b[39m\u001b[32m`\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 125 |\u001b[39m \u001b[32mRead more at https://pris.ly/d/client-constructor`\u001b[39m)\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mname\u001b[33m=\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}}\u001b[33m;\u001b[39mx(\u001b[33mD\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m nu\u001b[33m=\u001b[39m[\u001b[32m\"datasources\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"datasourceUrl\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"errorFormat\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"adapter\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"log\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"transactionOptions\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"omit\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"__internal\"\u001b[39m]\u001b[33m,\u001b[39miu\u001b[33m=\u001b[39m[\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"colorless\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"minimal\"\u001b[39m]\u001b[33m,\u001b[39mou\u001b[33m=\u001b[39m[\u001b[32m\"info\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"warn\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"error\"\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mDf\u001b[39m\u001b[33m=\u001b[39m{datasources\u001b[33m:\u001b[39m(e\u001b[33m,\u001b[39m{datasourceNames\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m e\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for \"datasources\" provided to PrismaClient constructor`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[t\u001b[33m,\u001b[39mn]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(e)){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m.\u001b[39mincludes(t)){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mWr\u001b[39m(t\u001b[33m,\u001b[39mr)\u001b[33m||\u001b[39m\u001b[32m` Available datasources: ${r.join(\", \")}`\u001b[39m\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Unknown datasource ${t} provided to PrismaClient constructor.${i}`\u001b[39m)}\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m n\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(n))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 126 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m\u001b[36mtypeof\u001b[39m n\u001b[33m==\u001b[39m\u001b[32m\"object\"\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[i\u001b[33m,\u001b[39mo]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(n)){\u001b[36mif\u001b[39m(i\u001b[33m!==\u001b[39m\u001b[32m\"url\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 127 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m o\u001b[33m!=\u001b[39m\u001b[32m\"string\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(o)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:7649)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError [as handleAndLogRequestError] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6784)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleAndLogRequestError [as request] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6491)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat l (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:133:9778)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/sso-auth-flow.test.ts\u001b[39m\u001b[0m\u001b[2m:29:5)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mSSO Authentication Flow Testing - Phase 2.3 › SSO Provider Configuration › should include Azure AD provider when configured\u001b[39m\u001b[22m\n\n    PrismaClientUnknownRequestError: \n    Invalid `prisma.endpoint.deleteMany()` invocation in\n    /Users/connorbowen/apiq-mvp/tests/integration/api/sso-auth-flow.test.ts:29:27\n\n      26 \n      27 beforeEach(async () => {\n      28   jest.clearAllMocks();\n    → 29   await prisma.endpoint.deleteMany(\n    Error occurred during query execution:\n    ConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28323 waits for ShareLock on transaction 54169; blocked by process 28324.\\nProcess 28324 waits for ShareLock on transaction 54162; blocked by process 28326.\\nProcess 28326 waits for AccessExclusiveLock on tuple (0,10) of relation 33244 of database 21992; blocked by process 28323.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 122 |\u001b[39m \u001b[32m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 123 |\u001b[39m \u001b[32mMore Information: https://pris.ly/d/execute-raw\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 124 |\u001b[39m \u001b[32m`\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mCo\u001b[39m\u001b[33m=\u001b[39m({clientMethod\u001b[33m:\u001b[39me\u001b[33m,\u001b[39mactiveProvider\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39mt\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[32m\"\"\u001b[39m\u001b[33m,\u001b[39mi\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mFn\u001b[39m(t))n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(t)){\u001b[36mlet\u001b[39m[o\u001b[33m,\u001b[39m\u001b[33m...\u001b[39ms]\u001b[33m=\u001b[39mt\u001b[33m;\u001b[39mn\u001b[33m=\u001b[39mo\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(s\u001b[33m||\u001b[39m[])\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}}\u001b[36melse\u001b[39m \u001b[36mswitch\u001b[39m(r){\u001b[36mcase\u001b[39m\u001b[32m\"sqlite\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"mysql\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"cockroachdb\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgresql\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgres\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mtext\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"sqlserver\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mjl(t)\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`The ${r} provider does not support ${e}`\u001b[39m)}\u001b[36mreturn\u001b[39m i\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mvalues\u001b[33m?\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n}, ${i.values})`\u001b[39m)\u001b[33m:\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n})`\u001b[39m)\u001b[33m,\u001b[39m{query\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mparameters\u001b[33m:\u001b[39mi}}\u001b[33m,\u001b[39m\u001b[33mWl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e\u001b[33m.\u001b[39mstrings\u001b[33m,\u001b[39m\u001b[33m...\u001b[39me\u001b[33m.\u001b[39mvalues]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mlet\u001b[39m[r\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mt]\u001b[33m=\u001b[39me\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m oe(r\u001b[33m,\u001b[39mt)}}\u001b[33m,\u001b[39m\u001b[33mJl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mreturn\u001b[39m e[\u001b[35m0\u001b[39m]}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mAo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mfunction\u001b[39m(t\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m(s\u001b[33m=\u001b[39me)\u001b[33m=>\u001b[39m{\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m s\u001b[33m===\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m||\u001b[39ms\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33m=\u001b[39m\u001b[33mHl\u001b[39m(t(s))\u001b[33m:\u001b[39m\u001b[33mHl\u001b[39m(t(s))}\u001b[36mcatch\u001b[39m(a){\u001b[36mreturn\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mreject(a)}}\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[36mget\u001b[39m spec(){\u001b[36mreturn\u001b[39m n}\u001b[33m,\u001b[39mthen(s\u001b[33m,\u001b[39ma){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39mthen(s\u001b[33m,\u001b[39ma)}\u001b[33m,\u001b[39m\u001b[36mcatch\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(s)}\u001b[33m,\u001b[39m\u001b[36mfinally\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mfinally\u001b[39m(s)}\u001b[33m,\u001b[39mrequestTransaction(s){\u001b[36mlet\u001b[39m a\u001b[33m=\u001b[39mo(s)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m a\u001b[33m.\u001b[39mrequestTransaction\u001b[33m?\u001b[39ma\u001b[33m.\u001b[39mrequestTransaction(s)\u001b[33m:\u001b[39ma}\u001b[33m,\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag]\u001b[33m:\u001b[39m\u001b[32m\"PrismaPromise\"\u001b[39m}}}\u001b[36mfunction\u001b[39m \u001b[33mHl\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mthen\u001b[33m==\u001b[39m\u001b[32m\"function\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39m\u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mresolve(e)}\u001b[36mvar\u001b[39m \u001b[33mTf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mEi\u001b[39m\u001b[33m.\u001b[39msplit(\u001b[32m\".\"\u001b[39m)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mSf\u001b[39m\u001b[33m=\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m}\u001b[33m,\u001b[39mgetTraceParent(){\u001b[36mreturn\u001b[39m\u001b[32m\"00-10-10-00\"\u001b[39m}\u001b[33m,\u001b[39mdispatchEngineSpans(){}\u001b[33m,\u001b[39mgetActiveContext(){}\u001b[33m,\u001b[39mrunInChildSpan(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m r()}}\u001b[33m,\u001b[39m\u001b[33mIo\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39misEnabled()}getTraceParent(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetTraceParent(r)}dispatchEngineSpans(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mdispatchEngineSpans(r)}getActiveContext(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetActiveContext()}runInChildSpan(r\u001b[33m,\u001b[39mt){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mrunInChildSpan(r\u001b[33m,\u001b[39mt)}getGlobalTracingHelper(){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39mglobalThis[\u001b[32m`V${Tf}_PRISMA_INSTRUMENTATION`\u001b[39m]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39mglobalThis\u001b[33m.\u001b[39m\u001b[33mPRISMA_INSTRUMENTATION\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33mSf\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKl\u001b[39m(){\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mIo\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mYl\u001b[39m(e\u001b[33m,\u001b[39mr\u001b[33m=\u001b[39m()\u001b[33m=>\u001b[39m{}){\u001b[36mlet\u001b[39m t\u001b[33m,\u001b[39mn\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m(i\u001b[33m=>\u001b[39mt\u001b[33m=\u001b[39mi)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{then(i){\u001b[36mreturn\u001b[39m\u001b[33m--\u001b[39me\u001b[33m===\u001b[39m\u001b[35m0\u001b[39m\u001b[33m&&\u001b[39mt(r())\u001b[33m,\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m.\u001b[39m(n)}}}\u001b[36mfunction\u001b[39m zl(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mreduce((r\u001b[33m,\u001b[39mt)\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[36mtypeof\u001b[39m t\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mlevel\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m===\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m?\u001b[39mr\u001b[33m:\u001b[39mr\u001b[33m&&\u001b[39m(t\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m||\u001b[39mr\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m)\u001b[33m?\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m:\u001b[39mn}\u001b[33m,\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mHn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{_middlewares\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39muse(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mpush(r)}\u001b[36mget\u001b[39m(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}has(r){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[33m!\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}length(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mlength}}\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mXl\u001b[39m\u001b[33m=\u001b[39mk(\u001b[33mOi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKn\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m==\u001b[39m\u001b[32m\"number\"\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mZl\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUnique\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUniqueOrThrow\"\u001b[39m)\u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mmodelName\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(e\u001b[33m.\u001b[39mmodelName)\u001b[33m,\u001b[39me\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39mselection))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mjoin(\u001b[32m\"\"\u001b[39m)}\u001b[36mfunction\u001b[39m ko(e){\u001b[36mreturn\u001b[39m\u001b[32m`(${Object.keys(e).sort().map(t=>{let n=e[t];return typeof n==\"object\"&&n!==null?`(${t} ${ko(n)})`:t}).join(\" \")})`\u001b[39m}\u001b[36mvar\u001b[39m \u001b[33mRf\u001b[39m\u001b[33m=\u001b[39m{aggregate\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39maggregateRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mcreateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mexecuteRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mfindFirst\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindFirstOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUnique\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUniqueOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mgroupBy\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mqueryRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mrunCommandRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupsertOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mOo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[33mRf\u001b[39m[e]}\u001b[36mvar\u001b[39m \u001b[33mYn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{constructor(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches\u001b[33m=\u001b[39m{}}batches\u001b[33m;\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m;\u001b[39mrequest(r){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchBy(r)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m t\u001b[33m?\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mprocess\u001b[33m.\u001b[39mnextTick(()\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdispatchBatches()\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m})))\u001b[33m,\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m.\u001b[39mpush({request\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mresolve\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mreject\u001b[33m:\u001b[39mi})}))\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(r)}dispatchBatches(){\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m r \u001b[36min\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m;\u001b[39m\u001b[36mdelete\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m,\u001b[39mt\u001b[33m.\u001b[39mlength\u001b[33m===\u001b[39m\u001b[35m1\u001b[39m\u001b[33m?\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mrequest)\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)\u001b[33m:\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mresolve(n)})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)})\u001b[33m:\u001b[39m(t\u001b[33m.\u001b[39msort((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchOrder(n\u001b[33m.\u001b[39mrequest\u001b[33m,\u001b[39mi\u001b[33m.\u001b[39mrequest))\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchLoader(t\u001b[33m.\u001b[39mmap(n\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mrequest))\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m o\u001b[33m=\u001b[39mn[i]\u001b[33m;\u001b[39mo \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[i]\u001b[33m.\u001b[39mreject(o)\u001b[33m:\u001b[39mt[i]\u001b[33m.\u001b[39mresolve(o)}})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)}))}}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"DataLoader\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m mr(e\u001b[33m,\u001b[39mr){\u001b[36mif\u001b[39m(r\u001b[33m===\u001b[39m\u001b[36mnull\u001b[39m)\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mswitch\u001b[39m(e){\u001b[36mcase\u001b[39m\u001b[32m\"bigint\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[33mBigInt\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes\"\u001b[39m\u001b[33m:\u001b[39m{\u001b[36mlet\u001b[39m{buffer\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mbyteOffset\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mbyteLength\u001b[33m:\u001b[39mi}\u001b[33m=\u001b[39m\u001b[33mBuffer\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m(r\u001b[33m,\u001b[39m\u001b[32m\"base64\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mUint8Array\u001b[39m(t\u001b[33m,\u001b[39mn\u001b[33m,\u001b[39mi)}\u001b[36mcase\u001b[39m\u001b[32m\"decimal\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mPe\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(\u001b[32m`1970-01-01T${r}Z`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bigint-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bigint\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bytes\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"decimal-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"decimal\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"datetime\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"date\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"time\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r}}\u001b[36mfunction\u001b[39m zn(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39m\u001b[33mCf\u001b[39m(e)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mn\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mrows\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mn\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mrows[n]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m{\u001b[33m...\u001b[39mt}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m s\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39ms\u001b[33m<\u001b[39m\u001b[33mi\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39ms\u001b[33m++\u001b[39m)o[e\u001b[33m.\u001b[39mcolumns[s]]\u001b[33m=\u001b[39mmr(e\u001b[33m.\u001b[39mtypes[s]\u001b[33m,\u001b[39mi[s])\u001b[33m;\u001b[39mr\u001b[33m.\u001b[39mpush(o)}\u001b[36mreturn\u001b[39m r}\u001b[36mfunction\u001b[39m \u001b[33mCf\u001b[39m(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m{}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mt\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mcolumns\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mt\u001b[33m++\u001b[39m)r[e\u001b[33m.\u001b[39mcolumns[t]]\u001b[33m=\u001b[39m\u001b[36mnull\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r}\u001b[36mvar\u001b[39m \u001b[33mAf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mN\u001b[39m(\u001b[32m\"prisma:client:request_handler\"\u001b[39m)\u001b[33m,\u001b[39m\u001b[33mZn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{client\u001b[33m;\u001b[39mdataloader\u001b[33m;\u001b[39mlogEmitter\u001b[33m;\u001b[39mconstructor(r\u001b[33m,\u001b[39mt){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m=\u001b[39mt\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m=\u001b[39mr\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mYn\u001b[39m({batchLoader\u001b[33m:\u001b[39mol(\u001b[36masync\u001b[39m({requests\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi})\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m{transaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39motelParentCtx\u001b[33m:\u001b[39ms}\u001b[33m=\u001b[39mn[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mmap(p\u001b[33m=>\u001b[39mp\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent(s)\u001b[33m,\u001b[39mu\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39msome(p\u001b[33m=>\u001b[39m\u001b[33mOo\u001b[39m(p\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction))\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m(\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequestBatch(a\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39ml\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39m\u001b[33mIf\u001b[39m(o)\u001b[33m,\u001b[39mcontainsWrite\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi}))\u001b[33m.\u001b[39mmap((p\u001b[33m,\u001b[39md)\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(p \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mreturn\u001b[39m p\u001b[33m;\u001b[39m\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n[d]\u001b[33m,\u001b[39mp)}\u001b[36mcatch\u001b[39m(f){\u001b[36mreturn\u001b[39m f}})})\u001b[33m,\u001b[39msingleLoader\u001b[33m:\u001b[39m\u001b[36masync\u001b[39m n\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39meu(n\u001b[33m.\u001b[39mtransaction)\u001b[33m:\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequest(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent()\u001b[33m,\u001b[39minteractiveTransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39misWrite\u001b[33m:\u001b[39m\u001b[33mOo\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction)\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mn\u001b[33m.\u001b[39mcustomDataProxyFetch})\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n\u001b[33m,\u001b[39mo)}\u001b[33m,\u001b[39mbatchBy\u001b[33m:\u001b[39mn\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mid\u001b[33m?\u001b[39m\u001b[32m`transaction-${n.transaction.id}`\u001b[39m\u001b[33m:\u001b[39m\u001b[33mZl\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39mbatchOrder(n\u001b[33m,\u001b[39mi){\u001b[36mreturn\u001b[39m n\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m?\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m-\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m:\u001b[39m\u001b[35m0\u001b[39m}})}\u001b[36masync\u001b[39m request(r){\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m.\u001b[39mrequest(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mlet\u001b[39m{clientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma}\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleAndLogRequestError({error\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mglobalOmit})}}mapQueryEngineResult({dataPath\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39munpacker\u001b[33m:\u001b[39mt}\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mdata\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39munpack(i\u001b[33m,\u001b[39mr\u001b[33m,\u001b[39mt)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mPRISMA_CLIENT_GET_TIME\u001b[39m\u001b[33m?\u001b[39m{data\u001b[33m:\u001b[39mo}\u001b[33m:\u001b[39mo}handleAndLogRequestError(r){\u001b[36mtry\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleRequestError(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mthrow\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m.\u001b[39memit(\u001b[32m\"error\"\u001b[39m\u001b[33m,\u001b[39m{message\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mmessage\u001b[33m,\u001b[39mtarget\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mclientMethod\u001b[33m,\u001b[39mtimestamp\u001b[33m:\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m})\u001b[33m,\u001b[39mt}}handleRequestError({error\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma}){\u001b[36mif\u001b[39m(\u001b[33mAf\u001b[39m(r)\u001b[33m,\u001b[39mkf(r\u001b[33m,\u001b[39mi))\u001b[36mthrow\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m z\u001b[33m&&\u001b[39m\u001b[33mOf\u001b[39m(r)){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39mru(r\u001b[33m.\u001b[39mmeta)\u001b[33m;\u001b[39mkn({args\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39m[u]\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39merrorFormat\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma})}\u001b[36mlet\u001b[39m l\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mmessage\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m(l\u001b[33m=\u001b[39mwn({callsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39misPanic\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39misPanic\u001b[33m,\u001b[39mshowColors\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m===\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39mmessage\u001b[33m:\u001b[39ml}))\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39msanitizeMessage(l)\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mcode){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39ms\u001b[33m?\u001b[39m{modelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr\u001b[33m.\u001b[39mmeta}\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mmeta\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m z(l\u001b[33m,\u001b[39m{code\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mcode\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mmeta\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})}\u001b[36melse\u001b[39m{\u001b[36mif\u001b[39m(r\u001b[33m.\u001b[39misPanic)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m j)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m j(l\u001b[33m,\u001b[39m{clientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m \u001b[33mT\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mT\u001b[39m(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m le)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)}\u001b[36mthrow\u001b[39m r\u001b[33m.\u001b[39mclientVersion\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mr}sanitizeMessage(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m!==\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m?\u001b[39m(\u001b[35m0\u001b[39m\u001b[33m,\u001b[39m\u001b[33mXl\u001b[39m\u001b[33m.\u001b[39m\u001b[36mdefault\u001b[39m)(r)\u001b[33m:\u001b[39mr}unpack(r\u001b[33m,\u001b[39mt\u001b[33m,\u001b[39mn){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m||\u001b[39m(r\u001b[33m.\u001b[39mdata\u001b[33m&&\u001b[39m(r\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mdata)\u001b[33m,\u001b[39m\u001b[33m!\u001b[39mr))\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mvalues(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ms\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mfilter(u\u001b[33m=>\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"select\"\u001b[39m\u001b[33m&&\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"include\"\u001b[39m)\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mio(o\u001b[33m,\u001b[39ms)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39mi\u001b[33m===\u001b[39m\u001b[32m\"queryRaw\"\u001b[39m\u001b[33m?\u001b[39mzn(a)\u001b[33m:\u001b[39m\u001b[33mTr\u001b[39m(a)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m?\u001b[39mn(l)\u001b[33m:\u001b[39ml}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"RequestHandler\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mIf\u001b[39m(e){\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39m{isolationLevel\u001b[33m:\u001b[39me\u001b[33m.\u001b[39misolationLevel}}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39meu(e)}\u001b[33m;\u001b[39m_e(e\u001b[33m,\u001b[39m\u001b[32m\"Unknown transaction kind\"\u001b[39m)}}\u001b[36mfunction\u001b[39m eu(e){\u001b[36mreturn\u001b[39m{id\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39mpayload\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mpayload}}\u001b[36mfunction\u001b[39m kf(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m \u001b[33mKn\u001b[39m(e)\u001b[33m&&\u001b[39mr\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m!==\u001b[39mr\u001b[33m.\u001b[39mindex}\u001b[36mfunction\u001b[39m \u001b[33mOf\u001b[39m(e){\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2009\"\u001b[39m\u001b[33m||\u001b[39me\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2012\"\u001b[39m}\u001b[36mfunction\u001b[39m ru(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"Union\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"Union\"\u001b[39m\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39me\u001b[33m.\u001b[39merrors\u001b[33m.\u001b[39mmap(ru)}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e\u001b[33m.\u001b[39mselectionPath)){\u001b[36mlet\u001b[39m[\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr]\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mselectionPath\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[33m...\u001b[39me\u001b[33m,\u001b[39mselectionPath\u001b[33m:\u001b[39mr}}\u001b[36mreturn\u001b[39m e}\u001b[36mvar\u001b[39m tu\u001b[33m=\u001b[39m\u001b[33mSl\u001b[39m\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m au\u001b[33m=\u001b[39mk(\u001b[33mQi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mD\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mError\u001b[39m{constructor(r){\u001b[36msuper\u001b[39m(r\u001b[33m+\u001b[39m\u001b[32m`\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 125 |\u001b[39m \u001b[32mRead more at https://pris.ly/d/client-constructor`\u001b[39m)\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mname\u001b[33m=\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}}\u001b[33m;\u001b[39mx(\u001b[33mD\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m nu\u001b[33m=\u001b[39m[\u001b[32m\"datasources\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"datasourceUrl\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"errorFormat\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"adapter\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"log\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"transactionOptions\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"omit\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"__internal\"\u001b[39m]\u001b[33m,\u001b[39miu\u001b[33m=\u001b[39m[\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"colorless\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"minimal\"\u001b[39m]\u001b[33m,\u001b[39mou\u001b[33m=\u001b[39m[\u001b[32m\"info\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"warn\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"error\"\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mDf\u001b[39m\u001b[33m=\u001b[39m{datasources\u001b[33m:\u001b[39m(e\u001b[33m,\u001b[39m{datasourceNames\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m e\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for \"datasources\" provided to PrismaClient constructor`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[t\u001b[33m,\u001b[39mn]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(e)){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m.\u001b[39mincludes(t)){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mWr\u001b[39m(t\u001b[33m,\u001b[39mr)\u001b[33m||\u001b[39m\u001b[32m` Available datasources: ${r.join(\", \")}`\u001b[39m\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Unknown datasource ${t} provided to PrismaClient constructor.${i}`\u001b[39m)}\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m n\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(n))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 126 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m\u001b[36mtypeof\u001b[39m n\u001b[33m==\u001b[39m\u001b[32m\"object\"\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[i\u001b[33m,\u001b[39mo]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(n)){\u001b[36mif\u001b[39m(i\u001b[33m!==\u001b[39m\u001b[32m\"url\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 127 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m o\u001b[33m!=\u001b[39m\u001b[32m\"string\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(o)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:7649)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError [as handleAndLogRequestError] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6784)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleAndLogRequestError [as request] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6491)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat l (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:133:9778)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/sso-auth-flow.test.ts\u001b[39m\u001b[0m\u001b[2m:29:5)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mSSO Authentication Flow Testing - Phase 2.3 › OAuth2 Flow Testing › should handle OAuth2 authorization URL generation\u001b[39m\u001b[22m\n\n    PrismaClientUnknownRequestError: \n    Invalid `prisma.apiConnection.deleteMany()` invocation in\n    /Users/connorbowen/apiq-mvp/tests/integration/api/sso-auth-flow.test.ts:41:32\n\n      38     }\n      39   }\n      40 });\n    → 41 await prisma.apiConnection.deleteMany(\n    Error occurred during query execution:\n    ConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28323 waits for AccessExclusiveLock on tuple (0,19) of relation 33235 of database 21992; blocked by process 28324.\\nProcess 28324 waits for ShareLock on transaction 54192; blocked by process 28405.\\nProcess 28405 waits for ShareLock on transaction 54197; blocked by process 28328.\\nProcess 28328 waits for AccessShareLock on tuple (0,19) of relation 33235 of database 21992; blocked by process 28323.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 122 |\u001b[39m \u001b[32m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 123 |\u001b[39m \u001b[32mMore Information: https://pris.ly/d/execute-raw\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 124 |\u001b[39m \u001b[32m`\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mCo\u001b[39m\u001b[33m=\u001b[39m({clientMethod\u001b[33m:\u001b[39me\u001b[33m,\u001b[39mactiveProvider\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39mt\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[32m\"\"\u001b[39m\u001b[33m,\u001b[39mi\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mFn\u001b[39m(t))n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(t)){\u001b[36mlet\u001b[39m[o\u001b[33m,\u001b[39m\u001b[33m...\u001b[39ms]\u001b[33m=\u001b[39mt\u001b[33m;\u001b[39mn\u001b[33m=\u001b[39mo\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(s\u001b[33m||\u001b[39m[])\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}}\u001b[36melse\u001b[39m \u001b[36mswitch\u001b[39m(r){\u001b[36mcase\u001b[39m\u001b[32m\"sqlite\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"mysql\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"cockroachdb\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgresql\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgres\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mtext\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"sqlserver\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mjl(t)\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`The ${r} provider does not support ${e}`\u001b[39m)}\u001b[36mreturn\u001b[39m i\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mvalues\u001b[33m?\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n}, ${i.values})`\u001b[39m)\u001b[33m:\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n})`\u001b[39m)\u001b[33m,\u001b[39m{query\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mparameters\u001b[33m:\u001b[39mi}}\u001b[33m,\u001b[39m\u001b[33mWl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e\u001b[33m.\u001b[39mstrings\u001b[33m,\u001b[39m\u001b[33m...\u001b[39me\u001b[33m.\u001b[39mvalues]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mlet\u001b[39m[r\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mt]\u001b[33m=\u001b[39me\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m oe(r\u001b[33m,\u001b[39mt)}}\u001b[33m,\u001b[39m\u001b[33mJl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mreturn\u001b[39m e[\u001b[35m0\u001b[39m]}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mAo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mfunction\u001b[39m(t\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m(s\u001b[33m=\u001b[39me)\u001b[33m=>\u001b[39m{\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m s\u001b[33m===\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m||\u001b[39ms\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33m=\u001b[39m\u001b[33mHl\u001b[39m(t(s))\u001b[33m:\u001b[39m\u001b[33mHl\u001b[39m(t(s))}\u001b[36mcatch\u001b[39m(a){\u001b[36mreturn\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mreject(a)}}\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[36mget\u001b[39m spec(){\u001b[36mreturn\u001b[39m n}\u001b[33m,\u001b[39mthen(s\u001b[33m,\u001b[39ma){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39mthen(s\u001b[33m,\u001b[39ma)}\u001b[33m,\u001b[39m\u001b[36mcatch\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(s)}\u001b[33m,\u001b[39m\u001b[36mfinally\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mfinally\u001b[39m(s)}\u001b[33m,\u001b[39mrequestTransaction(s){\u001b[36mlet\u001b[39m a\u001b[33m=\u001b[39mo(s)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m a\u001b[33m.\u001b[39mrequestTransaction\u001b[33m?\u001b[39ma\u001b[33m.\u001b[39mrequestTransaction(s)\u001b[33m:\u001b[39ma}\u001b[33m,\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag]\u001b[33m:\u001b[39m\u001b[32m\"PrismaPromise\"\u001b[39m}}}\u001b[36mfunction\u001b[39m \u001b[33mHl\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mthen\u001b[33m==\u001b[39m\u001b[32m\"function\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39m\u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mresolve(e)}\u001b[36mvar\u001b[39m \u001b[33mTf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mEi\u001b[39m\u001b[33m.\u001b[39msplit(\u001b[32m\".\"\u001b[39m)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mSf\u001b[39m\u001b[33m=\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m}\u001b[33m,\u001b[39mgetTraceParent(){\u001b[36mreturn\u001b[39m\u001b[32m\"00-10-10-00\"\u001b[39m}\u001b[33m,\u001b[39mdispatchEngineSpans(){}\u001b[33m,\u001b[39mgetActiveContext(){}\u001b[33m,\u001b[39mrunInChildSpan(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m r()}}\u001b[33m,\u001b[39m\u001b[33mIo\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39misEnabled()}getTraceParent(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetTraceParent(r)}dispatchEngineSpans(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mdispatchEngineSpans(r)}getActiveContext(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetActiveContext()}runInChildSpan(r\u001b[33m,\u001b[39mt){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mrunInChildSpan(r\u001b[33m,\u001b[39mt)}getGlobalTracingHelper(){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39mglobalThis[\u001b[32m`V${Tf}_PRISMA_INSTRUMENTATION`\u001b[39m]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39mglobalThis\u001b[33m.\u001b[39m\u001b[33mPRISMA_INSTRUMENTATION\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33mSf\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKl\u001b[39m(){\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mIo\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mYl\u001b[39m(e\u001b[33m,\u001b[39mr\u001b[33m=\u001b[39m()\u001b[33m=>\u001b[39m{}){\u001b[36mlet\u001b[39m t\u001b[33m,\u001b[39mn\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m(i\u001b[33m=>\u001b[39mt\u001b[33m=\u001b[39mi)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{then(i){\u001b[36mreturn\u001b[39m\u001b[33m--\u001b[39me\u001b[33m===\u001b[39m\u001b[35m0\u001b[39m\u001b[33m&&\u001b[39mt(r())\u001b[33m,\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m.\u001b[39m(n)}}}\u001b[36mfunction\u001b[39m zl(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mreduce((r\u001b[33m,\u001b[39mt)\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[36mtypeof\u001b[39m t\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mlevel\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m===\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m?\u001b[39mr\u001b[33m:\u001b[39mr\u001b[33m&&\u001b[39m(t\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m||\u001b[39mr\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m)\u001b[33m?\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m:\u001b[39mn}\u001b[33m,\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mHn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{_middlewares\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39muse(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mpush(r)}\u001b[36mget\u001b[39m(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}has(r){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[33m!\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}length(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mlength}}\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mXl\u001b[39m\u001b[33m=\u001b[39mk(\u001b[33mOi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKn\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m==\u001b[39m\u001b[32m\"number\"\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mZl\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUnique\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUniqueOrThrow\"\u001b[39m)\u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mmodelName\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(e\u001b[33m.\u001b[39mmodelName)\u001b[33m,\u001b[39me\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39mselection))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mjoin(\u001b[32m\"\"\u001b[39m)}\u001b[36mfunction\u001b[39m ko(e){\u001b[36mreturn\u001b[39m\u001b[32m`(${Object.keys(e).sort().map(t=>{let n=e[t];return typeof n==\"object\"&&n!==null?`(${t} ${ko(n)})`:t}).join(\" \")})`\u001b[39m}\u001b[36mvar\u001b[39m \u001b[33mRf\u001b[39m\u001b[33m=\u001b[39m{aggregate\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39maggregateRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mcreateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mexecuteRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mfindFirst\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindFirstOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUnique\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUniqueOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mgroupBy\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mqueryRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mrunCommandRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupsertOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mOo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[33mRf\u001b[39m[e]}\u001b[36mvar\u001b[39m \u001b[33mYn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{constructor(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches\u001b[33m=\u001b[39m{}}batches\u001b[33m;\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m;\u001b[39mrequest(r){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchBy(r)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m t\u001b[33m?\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mprocess\u001b[33m.\u001b[39mnextTick(()\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdispatchBatches()\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m})))\u001b[33m,\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m.\u001b[39mpush({request\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mresolve\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mreject\u001b[33m:\u001b[39mi})}))\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(r)}dispatchBatches(){\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m r \u001b[36min\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m;\u001b[39m\u001b[36mdelete\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m,\u001b[39mt\u001b[33m.\u001b[39mlength\u001b[33m===\u001b[39m\u001b[35m1\u001b[39m\u001b[33m?\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mrequest)\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)\u001b[33m:\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mresolve(n)})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)})\u001b[33m:\u001b[39m(t\u001b[33m.\u001b[39msort((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchOrder(n\u001b[33m.\u001b[39mrequest\u001b[33m,\u001b[39mi\u001b[33m.\u001b[39mrequest))\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchLoader(t\u001b[33m.\u001b[39mmap(n\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mrequest))\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m o\u001b[33m=\u001b[39mn[i]\u001b[33m;\u001b[39mo \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[i]\u001b[33m.\u001b[39mreject(o)\u001b[33m:\u001b[39mt[i]\u001b[33m.\u001b[39mresolve(o)}})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)}))}}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"DataLoader\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m mr(e\u001b[33m,\u001b[39mr){\u001b[36mif\u001b[39m(r\u001b[33m===\u001b[39m\u001b[36mnull\u001b[39m)\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mswitch\u001b[39m(e){\u001b[36mcase\u001b[39m\u001b[32m\"bigint\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[33mBigInt\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes\"\u001b[39m\u001b[33m:\u001b[39m{\u001b[36mlet\u001b[39m{buffer\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mbyteOffset\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mbyteLength\u001b[33m:\u001b[39mi}\u001b[33m=\u001b[39m\u001b[33mBuffer\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m(r\u001b[33m,\u001b[39m\u001b[32m\"base64\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mUint8Array\u001b[39m(t\u001b[33m,\u001b[39mn\u001b[33m,\u001b[39mi)}\u001b[36mcase\u001b[39m\u001b[32m\"decimal\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mPe\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(\u001b[32m`1970-01-01T${r}Z`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bigint-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bigint\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bytes\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"decimal-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"decimal\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"datetime\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"date\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"time\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r}}\u001b[36mfunction\u001b[39m zn(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39m\u001b[33mCf\u001b[39m(e)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mn\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mrows\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mn\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mrows[n]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m{\u001b[33m...\u001b[39mt}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m s\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39ms\u001b[33m<\u001b[39m\u001b[33mi\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39ms\u001b[33m++\u001b[39m)o[e\u001b[33m.\u001b[39mcolumns[s]]\u001b[33m=\u001b[39mmr(e\u001b[33m.\u001b[39mtypes[s]\u001b[33m,\u001b[39mi[s])\u001b[33m;\u001b[39mr\u001b[33m.\u001b[39mpush(o)}\u001b[36mreturn\u001b[39m r}\u001b[36mfunction\u001b[39m \u001b[33mCf\u001b[39m(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m{}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mt\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mcolumns\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mt\u001b[33m++\u001b[39m)r[e\u001b[33m.\u001b[39mcolumns[t]]\u001b[33m=\u001b[39m\u001b[36mnull\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r}\u001b[36mvar\u001b[39m \u001b[33mAf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mN\u001b[39m(\u001b[32m\"prisma:client:request_handler\"\u001b[39m)\u001b[33m,\u001b[39m\u001b[33mZn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{client\u001b[33m;\u001b[39mdataloader\u001b[33m;\u001b[39mlogEmitter\u001b[33m;\u001b[39mconstructor(r\u001b[33m,\u001b[39mt){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m=\u001b[39mt\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m=\u001b[39mr\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mYn\u001b[39m({batchLoader\u001b[33m:\u001b[39mol(\u001b[36masync\u001b[39m({requests\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi})\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m{transaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39motelParentCtx\u001b[33m:\u001b[39ms}\u001b[33m=\u001b[39mn[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mmap(p\u001b[33m=>\u001b[39mp\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent(s)\u001b[33m,\u001b[39mu\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39msome(p\u001b[33m=>\u001b[39m\u001b[33mOo\u001b[39m(p\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction))\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m(\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequestBatch(a\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39ml\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39m\u001b[33mIf\u001b[39m(o)\u001b[33m,\u001b[39mcontainsWrite\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi}))\u001b[33m.\u001b[39mmap((p\u001b[33m,\u001b[39md)\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(p \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mreturn\u001b[39m p\u001b[33m;\u001b[39m\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n[d]\u001b[33m,\u001b[39mp)}\u001b[36mcatch\u001b[39m(f){\u001b[36mreturn\u001b[39m f}})})\u001b[33m,\u001b[39msingleLoader\u001b[33m:\u001b[39m\u001b[36masync\u001b[39m n\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39meu(n\u001b[33m.\u001b[39mtransaction)\u001b[33m:\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequest(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent()\u001b[33m,\u001b[39minteractiveTransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39misWrite\u001b[33m:\u001b[39m\u001b[33mOo\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction)\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mn\u001b[33m.\u001b[39mcustomDataProxyFetch})\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n\u001b[33m,\u001b[39mo)}\u001b[33m,\u001b[39mbatchBy\u001b[33m:\u001b[39mn\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mid\u001b[33m?\u001b[39m\u001b[32m`transaction-${n.transaction.id}`\u001b[39m\u001b[33m:\u001b[39m\u001b[33mZl\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39mbatchOrder(n\u001b[33m,\u001b[39mi){\u001b[36mreturn\u001b[39m n\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m?\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m-\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m:\u001b[39m\u001b[35m0\u001b[39m}})}\u001b[36masync\u001b[39m request(r){\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m.\u001b[39mrequest(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mlet\u001b[39m{clientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma}\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleAndLogRequestError({error\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mglobalOmit})}}mapQueryEngineResult({dataPath\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39munpacker\u001b[33m:\u001b[39mt}\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mdata\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39munpack(i\u001b[33m,\u001b[39mr\u001b[33m,\u001b[39mt)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mPRISMA_CLIENT_GET_TIME\u001b[39m\u001b[33m?\u001b[39m{data\u001b[33m:\u001b[39mo}\u001b[33m:\u001b[39mo}handleAndLogRequestError(r){\u001b[36mtry\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleRequestError(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mthrow\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m.\u001b[39memit(\u001b[32m\"error\"\u001b[39m\u001b[33m,\u001b[39m{message\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mmessage\u001b[33m,\u001b[39mtarget\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mclientMethod\u001b[33m,\u001b[39mtimestamp\u001b[33m:\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m})\u001b[33m,\u001b[39mt}}handleRequestError({error\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma}){\u001b[36mif\u001b[39m(\u001b[33mAf\u001b[39m(r)\u001b[33m,\u001b[39mkf(r\u001b[33m,\u001b[39mi))\u001b[36mthrow\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m z\u001b[33m&&\u001b[39m\u001b[33mOf\u001b[39m(r)){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39mru(r\u001b[33m.\u001b[39mmeta)\u001b[33m;\u001b[39mkn({args\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39m[u]\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39merrorFormat\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma})}\u001b[36mlet\u001b[39m l\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mmessage\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m(l\u001b[33m=\u001b[39mwn({callsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39misPanic\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39misPanic\u001b[33m,\u001b[39mshowColors\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m===\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39mmessage\u001b[33m:\u001b[39ml}))\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39msanitizeMessage(l)\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mcode){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39ms\u001b[33m?\u001b[39m{modelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr\u001b[33m.\u001b[39mmeta}\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mmeta\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m z(l\u001b[33m,\u001b[39m{code\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mcode\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mmeta\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})}\u001b[36melse\u001b[39m{\u001b[36mif\u001b[39m(r\u001b[33m.\u001b[39misPanic)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m j)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m j(l\u001b[33m,\u001b[39m{clientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m \u001b[33mT\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mT\u001b[39m(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m le)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)}\u001b[36mthrow\u001b[39m r\u001b[33m.\u001b[39mclientVersion\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mr}sanitizeMessage(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m!==\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m?\u001b[39m(\u001b[35m0\u001b[39m\u001b[33m,\u001b[39m\u001b[33mXl\u001b[39m\u001b[33m.\u001b[39m\u001b[36mdefault\u001b[39m)(r)\u001b[33m:\u001b[39mr}unpack(r\u001b[33m,\u001b[39mt\u001b[33m,\u001b[39mn){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m||\u001b[39m(r\u001b[33m.\u001b[39mdata\u001b[33m&&\u001b[39m(r\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mdata)\u001b[33m,\u001b[39m\u001b[33m!\u001b[39mr))\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mvalues(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ms\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mfilter(u\u001b[33m=>\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"select\"\u001b[39m\u001b[33m&&\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"include\"\u001b[39m)\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mio(o\u001b[33m,\u001b[39ms)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39mi\u001b[33m===\u001b[39m\u001b[32m\"queryRaw\"\u001b[39m\u001b[33m?\u001b[39mzn(a)\u001b[33m:\u001b[39m\u001b[33mTr\u001b[39m(a)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m?\u001b[39mn(l)\u001b[33m:\u001b[39ml}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"RequestHandler\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mIf\u001b[39m(e){\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39m{isolationLevel\u001b[33m:\u001b[39me\u001b[33m.\u001b[39misolationLevel}}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39meu(e)}\u001b[33m;\u001b[39m_e(e\u001b[33m,\u001b[39m\u001b[32m\"Unknown transaction kind\"\u001b[39m)}}\u001b[36mfunction\u001b[39m eu(e){\u001b[36mreturn\u001b[39m{id\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39mpayload\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mpayload}}\u001b[36mfunction\u001b[39m kf(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m \u001b[33mKn\u001b[39m(e)\u001b[33m&&\u001b[39mr\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m!==\u001b[39mr\u001b[33m.\u001b[39mindex}\u001b[36mfunction\u001b[39m \u001b[33mOf\u001b[39m(e){\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2009\"\u001b[39m\u001b[33m||\u001b[39me\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2012\"\u001b[39m}\u001b[36mfunction\u001b[39m ru(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"Union\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"Union\"\u001b[39m\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39me\u001b[33m.\u001b[39merrors\u001b[33m.\u001b[39mmap(ru)}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e\u001b[33m.\u001b[39mselectionPath)){\u001b[36mlet\u001b[39m[\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr]\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mselectionPath\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[33m...\u001b[39me\u001b[33m,\u001b[39mselectionPath\u001b[33m:\u001b[39mr}}\u001b[36mreturn\u001b[39m e}\u001b[36mvar\u001b[39m tu\u001b[33m=\u001b[39m\u001b[33mSl\u001b[39m\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m au\u001b[33m=\u001b[39mk(\u001b[33mQi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mD\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mError\u001b[39m{constructor(r){\u001b[36msuper\u001b[39m(r\u001b[33m+\u001b[39m\u001b[32m`\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 125 |\u001b[39m \u001b[32mRead more at https://pris.ly/d/client-constructor`\u001b[39m)\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mname\u001b[33m=\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}}\u001b[33m;\u001b[39mx(\u001b[33mD\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m nu\u001b[33m=\u001b[39m[\u001b[32m\"datasources\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"datasourceUrl\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"errorFormat\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"adapter\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"log\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"transactionOptions\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"omit\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"__internal\"\u001b[39m]\u001b[33m,\u001b[39miu\u001b[33m=\u001b[39m[\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"colorless\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"minimal\"\u001b[39m]\u001b[33m,\u001b[39mou\u001b[33m=\u001b[39m[\u001b[32m\"info\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"warn\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"error\"\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mDf\u001b[39m\u001b[33m=\u001b[39m{datasources\u001b[33m:\u001b[39m(e\u001b[33m,\u001b[39m{datasourceNames\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m e\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for \"datasources\" provided to PrismaClient constructor`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[t\u001b[33m,\u001b[39mn]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(e)){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m.\u001b[39mincludes(t)){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mWr\u001b[39m(t\u001b[33m,\u001b[39mr)\u001b[33m||\u001b[39m\u001b[32m` Available datasources: ${r.join(\", \")}`\u001b[39m\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Unknown datasource ${t} provided to PrismaClient constructor.${i}`\u001b[39m)}\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m n\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(n))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 126 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m\u001b[36mtypeof\u001b[39m n\u001b[33m==\u001b[39m\u001b[32m\"object\"\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[i\u001b[33m,\u001b[39mo]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(n)){\u001b[36mif\u001b[39m(i\u001b[33m!==\u001b[39m\u001b[32m\"url\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 127 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m o\u001b[33m!=\u001b[39m\u001b[32m\"string\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(o)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:7649)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError [as handleAndLogRequestError] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6784)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleAndLogRequestError [as request] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6491)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat l (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:133:9778)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/sso-auth-flow.test.ts\u001b[39m\u001b[0m\u001b[2m:41:5)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mSSO Authentication Flow Testing - Phase 2.3 › OAuth2 Flow Testing › should handle OAuth2 callback with state parameter validation\u001b[39m\u001b[22m\n\n    PrismaClientUnknownRequestError: \n    Invalid `prisma.apiConnection.deleteMany()` invocation in\n    /Users/connorbowen/apiq-mvp/tests/integration/api/sso-auth-flow.test.ts:41:32\n\n      38     }\n      39   }\n      40 });\n    → 41 await prisma.apiConnection.deleteMany(\n    Error occurred during query execution:\n    ConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28323 waits for ShareLock on transaction 54201; blocked by process 28324.\\nProcess 28324 waits for ShareLock on transaction 54210; blocked by process 28326.\\nProcess 28326 waits for AccessExclusiveLock on tuple (0,19) of relation 33235 of database 21992; blocked by process 28323.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 122 |\u001b[39m \u001b[32m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 123 |\u001b[39m \u001b[32mMore Information: https://pris.ly/d/execute-raw\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 124 |\u001b[39m \u001b[32m`\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mCo\u001b[39m\u001b[33m=\u001b[39m({clientMethod\u001b[33m:\u001b[39me\u001b[33m,\u001b[39mactiveProvider\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39mt\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[32m\"\"\u001b[39m\u001b[33m,\u001b[39mi\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mFn\u001b[39m(t))n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(t)){\u001b[36mlet\u001b[39m[o\u001b[33m,\u001b[39m\u001b[33m...\u001b[39ms]\u001b[33m=\u001b[39mt\u001b[33m;\u001b[39mn\u001b[33m=\u001b[39mo\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(s\u001b[33m||\u001b[39m[])\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}}\u001b[36melse\u001b[39m \u001b[36mswitch\u001b[39m(r){\u001b[36mcase\u001b[39m\u001b[32m\"sqlite\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"mysql\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"cockroachdb\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgresql\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgres\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mtext\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"sqlserver\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mjl(t)\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`The ${r} provider does not support ${e}`\u001b[39m)}\u001b[36mreturn\u001b[39m i\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mvalues\u001b[33m?\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n}, ${i.values})`\u001b[39m)\u001b[33m:\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n})`\u001b[39m)\u001b[33m,\u001b[39m{query\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mparameters\u001b[33m:\u001b[39mi}}\u001b[33m,\u001b[39m\u001b[33mWl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e\u001b[33m.\u001b[39mstrings\u001b[33m,\u001b[39m\u001b[33m...\u001b[39me\u001b[33m.\u001b[39mvalues]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mlet\u001b[39m[r\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mt]\u001b[33m=\u001b[39me\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m oe(r\u001b[33m,\u001b[39mt)}}\u001b[33m,\u001b[39m\u001b[33mJl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mreturn\u001b[39m e[\u001b[35m0\u001b[39m]}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mAo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mfunction\u001b[39m(t\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m(s\u001b[33m=\u001b[39me)\u001b[33m=>\u001b[39m{\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m s\u001b[33m===\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m||\u001b[39ms\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33m=\u001b[39m\u001b[33mHl\u001b[39m(t(s))\u001b[33m:\u001b[39m\u001b[33mHl\u001b[39m(t(s))}\u001b[36mcatch\u001b[39m(a){\u001b[36mreturn\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mreject(a)}}\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[36mget\u001b[39m spec(){\u001b[36mreturn\u001b[39m n}\u001b[33m,\u001b[39mthen(s\u001b[33m,\u001b[39ma){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39mthen(s\u001b[33m,\u001b[39ma)}\u001b[33m,\u001b[39m\u001b[36mcatch\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(s)}\u001b[33m,\u001b[39m\u001b[36mfinally\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mfinally\u001b[39m(s)}\u001b[33m,\u001b[39mrequestTransaction(s){\u001b[36mlet\u001b[39m a\u001b[33m=\u001b[39mo(s)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m a\u001b[33m.\u001b[39mrequestTransaction\u001b[33m?\u001b[39ma\u001b[33m.\u001b[39mrequestTransaction(s)\u001b[33m:\u001b[39ma}\u001b[33m,\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag]\u001b[33m:\u001b[39m\u001b[32m\"PrismaPromise\"\u001b[39m}}}\u001b[36mfunction\u001b[39m \u001b[33mHl\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mthen\u001b[33m==\u001b[39m\u001b[32m\"function\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39m\u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mresolve(e)}\u001b[36mvar\u001b[39m \u001b[33mTf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mEi\u001b[39m\u001b[33m.\u001b[39msplit(\u001b[32m\".\"\u001b[39m)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mSf\u001b[39m\u001b[33m=\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m}\u001b[33m,\u001b[39mgetTraceParent(){\u001b[36mreturn\u001b[39m\u001b[32m\"00-10-10-00\"\u001b[39m}\u001b[33m,\u001b[39mdispatchEngineSpans(){}\u001b[33m,\u001b[39mgetActiveContext(){}\u001b[33m,\u001b[39mrunInChildSpan(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m r()}}\u001b[33m,\u001b[39m\u001b[33mIo\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39misEnabled()}getTraceParent(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetTraceParent(r)}dispatchEngineSpans(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mdispatchEngineSpans(r)}getActiveContext(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetActiveContext()}runInChildSpan(r\u001b[33m,\u001b[39mt){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mrunInChildSpan(r\u001b[33m,\u001b[39mt)}getGlobalTracingHelper(){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39mglobalThis[\u001b[32m`V${Tf}_PRISMA_INSTRUMENTATION`\u001b[39m]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39mglobalThis\u001b[33m.\u001b[39m\u001b[33mPRISMA_INSTRUMENTATION\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33mSf\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKl\u001b[39m(){\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mIo\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mYl\u001b[39m(e\u001b[33m,\u001b[39mr\u001b[33m=\u001b[39m()\u001b[33m=>\u001b[39m{}){\u001b[36mlet\u001b[39m t\u001b[33m,\u001b[39mn\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m(i\u001b[33m=>\u001b[39mt\u001b[33m=\u001b[39mi)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{then(i){\u001b[36mreturn\u001b[39m\u001b[33m--\u001b[39me\u001b[33m===\u001b[39m\u001b[35m0\u001b[39m\u001b[33m&&\u001b[39mt(r())\u001b[33m,\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m.\u001b[39m(n)}}}\u001b[36mfunction\u001b[39m zl(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mreduce((r\u001b[33m,\u001b[39mt)\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[36mtypeof\u001b[39m t\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mlevel\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m===\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m?\u001b[39mr\u001b[33m:\u001b[39mr\u001b[33m&&\u001b[39m(t\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m||\u001b[39mr\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m)\u001b[33m?\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m:\u001b[39mn}\u001b[33m,\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mHn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{_middlewares\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39muse(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mpush(r)}\u001b[36mget\u001b[39m(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}has(r){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[33m!\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}length(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mlength}}\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mXl\u001b[39m\u001b[33m=\u001b[39mk(\u001b[33mOi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKn\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m==\u001b[39m\u001b[32m\"number\"\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mZl\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUnique\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUniqueOrThrow\"\u001b[39m)\u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mmodelName\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(e\u001b[33m.\u001b[39mmodelName)\u001b[33m,\u001b[39me\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39mselection))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mjoin(\u001b[32m\"\"\u001b[39m)}\u001b[36mfunction\u001b[39m ko(e){\u001b[36mreturn\u001b[39m\u001b[32m`(${Object.keys(e).sort().map(t=>{let n=e[t];return typeof n==\"object\"&&n!==null?`(${t} ${ko(n)})`:t}).join(\" \")})`\u001b[39m}\u001b[36mvar\u001b[39m \u001b[33mRf\u001b[39m\u001b[33m=\u001b[39m{aggregate\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39maggregateRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mcreateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mexecuteRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mfindFirst\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindFirstOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUnique\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUniqueOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mgroupBy\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mqueryRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mrunCommandRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupsertOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mOo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[33mRf\u001b[39m[e]}\u001b[36mvar\u001b[39m \u001b[33mYn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{constructor(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches\u001b[33m=\u001b[39m{}}batches\u001b[33m;\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m;\u001b[39mrequest(r){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchBy(r)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m t\u001b[33m?\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mprocess\u001b[33m.\u001b[39mnextTick(()\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdispatchBatches()\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m})))\u001b[33m,\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m.\u001b[39mpush({request\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mresolve\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mreject\u001b[33m:\u001b[39mi})}))\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(r)}dispatchBatches(){\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m r \u001b[36min\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m;\u001b[39m\u001b[36mdelete\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m,\u001b[39mt\u001b[33m.\u001b[39mlength\u001b[33m===\u001b[39m\u001b[35m1\u001b[39m\u001b[33m?\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mrequest)\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)\u001b[33m:\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mresolve(n)})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)})\u001b[33m:\u001b[39m(t\u001b[33m.\u001b[39msort((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchOrder(n\u001b[33m.\u001b[39mrequest\u001b[33m,\u001b[39mi\u001b[33m.\u001b[39mrequest))\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchLoader(t\u001b[33m.\u001b[39mmap(n\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mrequest))\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m o\u001b[33m=\u001b[39mn[i]\u001b[33m;\u001b[39mo \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[i]\u001b[33m.\u001b[39mreject(o)\u001b[33m:\u001b[39mt[i]\u001b[33m.\u001b[39mresolve(o)}})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)}))}}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"DataLoader\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m mr(e\u001b[33m,\u001b[39mr){\u001b[36mif\u001b[39m(r\u001b[33m===\u001b[39m\u001b[36mnull\u001b[39m)\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mswitch\u001b[39m(e){\u001b[36mcase\u001b[39m\u001b[32m\"bigint\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[33mBigInt\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes\"\u001b[39m\u001b[33m:\u001b[39m{\u001b[36mlet\u001b[39m{buffer\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mbyteOffset\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mbyteLength\u001b[33m:\u001b[39mi}\u001b[33m=\u001b[39m\u001b[33mBuffer\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m(r\u001b[33m,\u001b[39m\u001b[32m\"base64\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mUint8Array\u001b[39m(t\u001b[33m,\u001b[39mn\u001b[33m,\u001b[39mi)}\u001b[36mcase\u001b[39m\u001b[32m\"decimal\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mPe\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(\u001b[32m`1970-01-01T${r}Z`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bigint-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bigint\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bytes\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"decimal-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"decimal\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"datetime\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"date\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"time\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r}}\u001b[36mfunction\u001b[39m zn(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39m\u001b[33mCf\u001b[39m(e)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mn\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mrows\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mn\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mrows[n]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m{\u001b[33m...\u001b[39mt}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m s\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39ms\u001b[33m<\u001b[39m\u001b[33mi\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39ms\u001b[33m++\u001b[39m)o[e\u001b[33m.\u001b[39mcolumns[s]]\u001b[33m=\u001b[39mmr(e\u001b[33m.\u001b[39mtypes[s]\u001b[33m,\u001b[39mi[s])\u001b[33m;\u001b[39mr\u001b[33m.\u001b[39mpush(o)}\u001b[36mreturn\u001b[39m r}\u001b[36mfunction\u001b[39m \u001b[33mCf\u001b[39m(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m{}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mt\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mcolumns\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mt\u001b[33m++\u001b[39m)r[e\u001b[33m.\u001b[39mcolumns[t]]\u001b[33m=\u001b[39m\u001b[36mnull\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r}\u001b[36mvar\u001b[39m \u001b[33mAf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mN\u001b[39m(\u001b[32m\"prisma:client:request_handler\"\u001b[39m)\u001b[33m,\u001b[39m\u001b[33mZn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{client\u001b[33m;\u001b[39mdataloader\u001b[33m;\u001b[39mlogEmitter\u001b[33m;\u001b[39mconstructor(r\u001b[33m,\u001b[39mt){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m=\u001b[39mt\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m=\u001b[39mr\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mYn\u001b[39m({batchLoader\u001b[33m:\u001b[39mol(\u001b[36masync\u001b[39m({requests\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi})\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m{transaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39motelParentCtx\u001b[33m:\u001b[39ms}\u001b[33m=\u001b[39mn[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mmap(p\u001b[33m=>\u001b[39mp\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent(s)\u001b[33m,\u001b[39mu\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39msome(p\u001b[33m=>\u001b[39m\u001b[33mOo\u001b[39m(p\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction))\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m(\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequestBatch(a\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39ml\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39m\u001b[33mIf\u001b[39m(o)\u001b[33m,\u001b[39mcontainsWrite\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi}))\u001b[33m.\u001b[39mmap((p\u001b[33m,\u001b[39md)\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(p \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mreturn\u001b[39m p\u001b[33m;\u001b[39m\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n[d]\u001b[33m,\u001b[39mp)}\u001b[36mcatch\u001b[39m(f){\u001b[36mreturn\u001b[39m f}})})\u001b[33m,\u001b[39msingleLoader\u001b[33m:\u001b[39m\u001b[36masync\u001b[39m n\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39meu(n\u001b[33m.\u001b[39mtransaction)\u001b[33m:\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequest(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent()\u001b[33m,\u001b[39minteractiveTransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39misWrite\u001b[33m:\u001b[39m\u001b[33mOo\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction)\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mn\u001b[33m.\u001b[39mcustomDataProxyFetch})\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n\u001b[33m,\u001b[39mo)}\u001b[33m,\u001b[39mbatchBy\u001b[33m:\u001b[39mn\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mid\u001b[33m?\u001b[39m\u001b[32m`transaction-${n.transaction.id}`\u001b[39m\u001b[33m:\u001b[39m\u001b[33mZl\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39mbatchOrder(n\u001b[33m,\u001b[39mi){\u001b[36mreturn\u001b[39m n\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m?\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m-\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m:\u001b[39m\u001b[35m0\u001b[39m}})}\u001b[36masync\u001b[39m request(r){\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m.\u001b[39mrequest(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mlet\u001b[39m{clientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma}\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleAndLogRequestError({error\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mglobalOmit})}}mapQueryEngineResult({dataPath\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39munpacker\u001b[33m:\u001b[39mt}\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mdata\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39munpack(i\u001b[33m,\u001b[39mr\u001b[33m,\u001b[39mt)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mPRISMA_CLIENT_GET_TIME\u001b[39m\u001b[33m?\u001b[39m{data\u001b[33m:\u001b[39mo}\u001b[33m:\u001b[39mo}handleAndLogRequestError(r){\u001b[36mtry\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleRequestError(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mthrow\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m.\u001b[39memit(\u001b[32m\"error\"\u001b[39m\u001b[33m,\u001b[39m{message\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mmessage\u001b[33m,\u001b[39mtarget\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mclientMethod\u001b[33m,\u001b[39mtimestamp\u001b[33m:\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m})\u001b[33m,\u001b[39mt}}handleRequestError({error\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma}){\u001b[36mif\u001b[39m(\u001b[33mAf\u001b[39m(r)\u001b[33m,\u001b[39mkf(r\u001b[33m,\u001b[39mi))\u001b[36mthrow\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m z\u001b[33m&&\u001b[39m\u001b[33mOf\u001b[39m(r)){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39mru(r\u001b[33m.\u001b[39mmeta)\u001b[33m;\u001b[39mkn({args\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39m[u]\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39merrorFormat\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma})}\u001b[36mlet\u001b[39m l\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mmessage\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m(l\u001b[33m=\u001b[39mwn({callsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39misPanic\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39misPanic\u001b[33m,\u001b[39mshowColors\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m===\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39mmessage\u001b[33m:\u001b[39ml}))\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39msanitizeMessage(l)\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mcode){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39ms\u001b[33m?\u001b[39m{modelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr\u001b[33m.\u001b[39mmeta}\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mmeta\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m z(l\u001b[33m,\u001b[39m{code\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mcode\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mmeta\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})}\u001b[36melse\u001b[39m{\u001b[36mif\u001b[39m(r\u001b[33m.\u001b[39misPanic)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m j)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m j(l\u001b[33m,\u001b[39m{clientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m \u001b[33mT\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mT\u001b[39m(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m le)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)}\u001b[36mthrow\u001b[39m r\u001b[33m.\u001b[39mclientVersion\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mr}sanitizeMessage(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m!==\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m?\u001b[39m(\u001b[35m0\u001b[39m\u001b[33m,\u001b[39m\u001b[33mXl\u001b[39m\u001b[33m.\u001b[39m\u001b[36mdefault\u001b[39m)(r)\u001b[33m:\u001b[39mr}unpack(r\u001b[33m,\u001b[39mt\u001b[33m,\u001b[39mn){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m||\u001b[39m(r\u001b[33m.\u001b[39mdata\u001b[33m&&\u001b[39m(r\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mdata)\u001b[33m,\u001b[39m\u001b[33m!\u001b[39mr))\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mvalues(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ms\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mfilter(u\u001b[33m=>\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"select\"\u001b[39m\u001b[33m&&\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"include\"\u001b[39m)\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mio(o\u001b[33m,\u001b[39ms)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39mi\u001b[33m===\u001b[39m\u001b[32m\"queryRaw\"\u001b[39m\u001b[33m?\u001b[39mzn(a)\u001b[33m:\u001b[39m\u001b[33mTr\u001b[39m(a)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m?\u001b[39mn(l)\u001b[33m:\u001b[39ml}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"RequestHandler\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mIf\u001b[39m(e){\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39m{isolationLevel\u001b[33m:\u001b[39me\u001b[33m.\u001b[39misolationLevel}}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39meu(e)}\u001b[33m;\u001b[39m_e(e\u001b[33m,\u001b[39m\u001b[32m\"Unknown transaction kind\"\u001b[39m)}}\u001b[36mfunction\u001b[39m eu(e){\u001b[36mreturn\u001b[39m{id\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39mpayload\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mpayload}}\u001b[36mfunction\u001b[39m kf(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m \u001b[33mKn\u001b[39m(e)\u001b[33m&&\u001b[39mr\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m!==\u001b[39mr\u001b[33m.\u001b[39mindex}\u001b[36mfunction\u001b[39m \u001b[33mOf\u001b[39m(e){\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2009\"\u001b[39m\u001b[33m||\u001b[39me\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2012\"\u001b[39m}\u001b[36mfunction\u001b[39m ru(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"Union\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"Union\"\u001b[39m\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39me\u001b[33m.\u001b[39merrors\u001b[33m.\u001b[39mmap(ru)}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e\u001b[33m.\u001b[39mselectionPath)){\u001b[36mlet\u001b[39m[\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr]\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mselectionPath\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[33m...\u001b[39me\u001b[33m,\u001b[39mselectionPath\u001b[33m:\u001b[39mr}}\u001b[36mreturn\u001b[39m e}\u001b[36mvar\u001b[39m tu\u001b[33m=\u001b[39m\u001b[33mSl\u001b[39m\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m au\u001b[33m=\u001b[39mk(\u001b[33mQi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mD\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mError\u001b[39m{constructor(r){\u001b[36msuper\u001b[39m(r\u001b[33m+\u001b[39m\u001b[32m`\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 125 |\u001b[39m \u001b[32mRead more at https://pris.ly/d/client-constructor`\u001b[39m)\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mname\u001b[33m=\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}}\u001b[33m;\u001b[39mx(\u001b[33mD\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m nu\u001b[33m=\u001b[39m[\u001b[32m\"datasources\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"datasourceUrl\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"errorFormat\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"adapter\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"log\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"transactionOptions\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"omit\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"__internal\"\u001b[39m]\u001b[33m,\u001b[39miu\u001b[33m=\u001b[39m[\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"colorless\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"minimal\"\u001b[39m]\u001b[33m,\u001b[39mou\u001b[33m=\u001b[39m[\u001b[32m\"info\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"warn\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"error\"\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mDf\u001b[39m\u001b[33m=\u001b[39m{datasources\u001b[33m:\u001b[39m(e\u001b[33m,\u001b[39m{datasourceNames\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m e\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for \"datasources\" provided to PrismaClient constructor`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[t\u001b[33m,\u001b[39mn]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(e)){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m.\u001b[39mincludes(t)){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mWr\u001b[39m(t\u001b[33m,\u001b[39mr)\u001b[33m||\u001b[39m\u001b[32m` Available datasources: ${r.join(\", \")}`\u001b[39m\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Unknown datasource ${t} provided to PrismaClient constructor.${i}`\u001b[39m)}\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m n\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(n))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 126 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m\u001b[36mtypeof\u001b[39m n\u001b[33m==\u001b[39m\u001b[32m\"object\"\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[i\u001b[33m,\u001b[39mo]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(n)){\u001b[36mif\u001b[39m(i\u001b[33m!==\u001b[39m\u001b[32m\"url\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 127 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m o\u001b[33m!=\u001b[39m\u001b[32m\"string\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(o)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:7649)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError [as handleAndLogRequestError] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6784)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleAndLogRequestError [as request] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6491)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat l (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:133:9778)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/sso-auth-flow.test.ts\u001b[39m\u001b[0m\u001b[2m:41:5)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mSSO Authentication Flow Testing - Phase 2.3 › Token Management › should handle token expiration validation\u001b[39m\u001b[22m\n\n    PrismaClientUnknownRequestError: \n    Invalid `prisma.apiConnection.deleteMany()` invocation in\n    /Users/connorbowen/apiq-mvp/tests/integration/api/sso-auth-flow.test.ts:41:32\n\n      38     }\n      39   }\n      40 });\n    → 41 await prisma.apiConnection.deleteMany(\n    Error occurred during query execution:\n    ConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28323 waits for ShareLock on transaction 54223; blocked by process 28465.\\nProcess 28465 waits for ShareLock on transaction 54226; blocked by process 28469.\\nProcess 28469 waits for AccessExclusiveLock on tuple (0,19) of relation 33235 of database 21992; blocked by process 28323.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 122 |\u001b[39m \u001b[32m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 123 |\u001b[39m \u001b[32mMore Information: https://pris.ly/d/execute-raw\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 124 |\u001b[39m \u001b[32m`\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mCo\u001b[39m\u001b[33m=\u001b[39m({clientMethod\u001b[33m:\u001b[39me\u001b[33m,\u001b[39mactiveProvider\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39mt\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[32m\"\"\u001b[39m\u001b[33m,\u001b[39mi\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mFn\u001b[39m(t))n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(t)){\u001b[36mlet\u001b[39m[o\u001b[33m,\u001b[39m\u001b[33m...\u001b[39ms]\u001b[33m=\u001b[39mt\u001b[33m;\u001b[39mn\u001b[33m=\u001b[39mo\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(s\u001b[33m||\u001b[39m[])\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}}\u001b[36melse\u001b[39m \u001b[36mswitch\u001b[39m(r){\u001b[36mcase\u001b[39m\u001b[32m\"sqlite\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"mysql\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"cockroachdb\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgresql\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgres\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mtext\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"sqlserver\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mjl(t)\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`The ${r} provider does not support ${e}`\u001b[39m)}\u001b[36mreturn\u001b[39m i\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mvalues\u001b[33m?\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n}, ${i.values})`\u001b[39m)\u001b[33m:\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n})`\u001b[39m)\u001b[33m,\u001b[39m{query\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mparameters\u001b[33m:\u001b[39mi}}\u001b[33m,\u001b[39m\u001b[33mWl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e\u001b[33m.\u001b[39mstrings\u001b[33m,\u001b[39m\u001b[33m...\u001b[39me\u001b[33m.\u001b[39mvalues]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mlet\u001b[39m[r\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mt]\u001b[33m=\u001b[39me\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m oe(r\u001b[33m,\u001b[39mt)}}\u001b[33m,\u001b[39m\u001b[33mJl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mreturn\u001b[39m e[\u001b[35m0\u001b[39m]}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mAo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mfunction\u001b[39m(t\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m(s\u001b[33m=\u001b[39me)\u001b[33m=>\u001b[39m{\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m s\u001b[33m===\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m||\u001b[39ms\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33m=\u001b[39m\u001b[33mHl\u001b[39m(t(s))\u001b[33m:\u001b[39m\u001b[33mHl\u001b[39m(t(s))}\u001b[36mcatch\u001b[39m(a){\u001b[36mreturn\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mreject(a)}}\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[36mget\u001b[39m spec(){\u001b[36mreturn\u001b[39m n}\u001b[33m,\u001b[39mthen(s\u001b[33m,\u001b[39ma){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39mthen(s\u001b[33m,\u001b[39ma)}\u001b[33m,\u001b[39m\u001b[36mcatch\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(s)}\u001b[33m,\u001b[39m\u001b[36mfinally\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mfinally\u001b[39m(s)}\u001b[33m,\u001b[39mrequestTransaction(s){\u001b[36mlet\u001b[39m a\u001b[33m=\u001b[39mo(s)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m a\u001b[33m.\u001b[39mrequestTransaction\u001b[33m?\u001b[39ma\u001b[33m.\u001b[39mrequestTransaction(s)\u001b[33m:\u001b[39ma}\u001b[33m,\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag]\u001b[33m:\u001b[39m\u001b[32m\"PrismaPromise\"\u001b[39m}}}\u001b[36mfunction\u001b[39m \u001b[33mHl\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mthen\u001b[33m==\u001b[39m\u001b[32m\"function\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39m\u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mresolve(e)}\u001b[36mvar\u001b[39m \u001b[33mTf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mEi\u001b[39m\u001b[33m.\u001b[39msplit(\u001b[32m\".\"\u001b[39m)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mSf\u001b[39m\u001b[33m=\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m}\u001b[33m,\u001b[39mgetTraceParent(){\u001b[36mreturn\u001b[39m\u001b[32m\"00-10-10-00\"\u001b[39m}\u001b[33m,\u001b[39mdispatchEngineSpans(){}\u001b[33m,\u001b[39mgetActiveContext(){}\u001b[33m,\u001b[39mrunInChildSpan(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m r()}}\u001b[33m,\u001b[39m\u001b[33mIo\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39misEnabled()}getTraceParent(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetTraceParent(r)}dispatchEngineSpans(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mdispatchEngineSpans(r)}getActiveContext(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetActiveContext()}runInChildSpan(r\u001b[33m,\u001b[39mt){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mrunInChildSpan(r\u001b[33m,\u001b[39mt)}getGlobalTracingHelper(){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39mglobalThis[\u001b[32m`V${Tf}_PRISMA_INSTRUMENTATION`\u001b[39m]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39mglobalThis\u001b[33m.\u001b[39m\u001b[33mPRISMA_INSTRUMENTATION\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33mSf\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKl\u001b[39m(){\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mIo\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mYl\u001b[39m(e\u001b[33m,\u001b[39mr\u001b[33m=\u001b[39m()\u001b[33m=>\u001b[39m{}){\u001b[36mlet\u001b[39m t\u001b[33m,\u001b[39mn\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m(i\u001b[33m=>\u001b[39mt\u001b[33m=\u001b[39mi)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{then(i){\u001b[36mreturn\u001b[39m\u001b[33m--\u001b[39me\u001b[33m===\u001b[39m\u001b[35m0\u001b[39m\u001b[33m&&\u001b[39mt(r())\u001b[33m,\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m.\u001b[39m(n)}}}\u001b[36mfunction\u001b[39m zl(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mreduce((r\u001b[33m,\u001b[39mt)\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[36mtypeof\u001b[39m t\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mlevel\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m===\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m?\u001b[39mr\u001b[33m:\u001b[39mr\u001b[33m&&\u001b[39m(t\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m||\u001b[39mr\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m)\u001b[33m?\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m:\u001b[39mn}\u001b[33m,\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mHn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{_middlewares\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39muse(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mpush(r)}\u001b[36mget\u001b[39m(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}has(r){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[33m!\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}length(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mlength}}\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mXl\u001b[39m\u001b[33m=\u001b[39mk(\u001b[33mOi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKn\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m==\u001b[39m\u001b[32m\"number\"\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mZl\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUnique\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUniqueOrThrow\"\u001b[39m)\u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mmodelName\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(e\u001b[33m.\u001b[39mmodelName)\u001b[33m,\u001b[39me\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39mselection))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mjoin(\u001b[32m\"\"\u001b[39m)}\u001b[36mfunction\u001b[39m ko(e){\u001b[36mreturn\u001b[39m\u001b[32m`(${Object.keys(e).sort().map(t=>{let n=e[t];return typeof n==\"object\"&&n!==null?`(${t} ${ko(n)})`:t}).join(\" \")})`\u001b[39m}\u001b[36mvar\u001b[39m \u001b[33mRf\u001b[39m\u001b[33m=\u001b[39m{aggregate\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39maggregateRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mcreateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mexecuteRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mfindFirst\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindFirstOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUnique\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUniqueOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mgroupBy\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mqueryRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mrunCommandRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupsertOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mOo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[33mRf\u001b[39m[e]}\u001b[36mvar\u001b[39m \u001b[33mYn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{constructor(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches\u001b[33m=\u001b[39m{}}batches\u001b[33m;\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m;\u001b[39mrequest(r){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchBy(r)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m t\u001b[33m?\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mprocess\u001b[33m.\u001b[39mnextTick(()\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdispatchBatches()\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m})))\u001b[33m,\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m.\u001b[39mpush({request\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mresolve\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mreject\u001b[33m:\u001b[39mi})}))\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(r)}dispatchBatches(){\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m r \u001b[36min\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m;\u001b[39m\u001b[36mdelete\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m,\u001b[39mt\u001b[33m.\u001b[39mlength\u001b[33m===\u001b[39m\u001b[35m1\u001b[39m\u001b[33m?\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mrequest)\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)\u001b[33m:\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mresolve(n)})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)})\u001b[33m:\u001b[39m(t\u001b[33m.\u001b[39msort((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchOrder(n\u001b[33m.\u001b[39mrequest\u001b[33m,\u001b[39mi\u001b[33m.\u001b[39mrequest))\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchLoader(t\u001b[33m.\u001b[39mmap(n\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mrequest))\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m o\u001b[33m=\u001b[39mn[i]\u001b[33m;\u001b[39mo \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[i]\u001b[33m.\u001b[39mreject(o)\u001b[33m:\u001b[39mt[i]\u001b[33m.\u001b[39mresolve(o)}})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)}))}}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"DataLoader\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m mr(e\u001b[33m,\u001b[39mr){\u001b[36mif\u001b[39m(r\u001b[33m===\u001b[39m\u001b[36mnull\u001b[39m)\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mswitch\u001b[39m(e){\u001b[36mcase\u001b[39m\u001b[32m\"bigint\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[33mBigInt\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes\"\u001b[39m\u001b[33m:\u001b[39m{\u001b[36mlet\u001b[39m{buffer\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mbyteOffset\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mbyteLength\u001b[33m:\u001b[39mi}\u001b[33m=\u001b[39m\u001b[33mBuffer\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m(r\u001b[33m,\u001b[39m\u001b[32m\"base64\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mUint8Array\u001b[39m(t\u001b[33m,\u001b[39mn\u001b[33m,\u001b[39mi)}\u001b[36mcase\u001b[39m\u001b[32m\"decimal\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mPe\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(\u001b[32m`1970-01-01T${r}Z`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bigint-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bigint\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bytes\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"decimal-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"decimal\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"datetime\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"date\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"time\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r}}\u001b[36mfunction\u001b[39m zn(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39m\u001b[33mCf\u001b[39m(e)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mn\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mrows\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mn\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mrows[n]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m{\u001b[33m...\u001b[39mt}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m s\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39ms\u001b[33m<\u001b[39m\u001b[33mi\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39ms\u001b[33m++\u001b[39m)o[e\u001b[33m.\u001b[39mcolumns[s]]\u001b[33m=\u001b[39mmr(e\u001b[33m.\u001b[39mtypes[s]\u001b[33m,\u001b[39mi[s])\u001b[33m;\u001b[39mr\u001b[33m.\u001b[39mpush(o)}\u001b[36mreturn\u001b[39m r}\u001b[36mfunction\u001b[39m \u001b[33mCf\u001b[39m(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m{}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mt\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mcolumns\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mt\u001b[33m++\u001b[39m)r[e\u001b[33m.\u001b[39mcolumns[t]]\u001b[33m=\u001b[39m\u001b[36mnull\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r}\u001b[36mvar\u001b[39m \u001b[33mAf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mN\u001b[39m(\u001b[32m\"prisma:client:request_handler\"\u001b[39m)\u001b[33m,\u001b[39m\u001b[33mZn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{client\u001b[33m;\u001b[39mdataloader\u001b[33m;\u001b[39mlogEmitter\u001b[33m;\u001b[39mconstructor(r\u001b[33m,\u001b[39mt){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m=\u001b[39mt\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m=\u001b[39mr\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mYn\u001b[39m({batchLoader\u001b[33m:\u001b[39mol(\u001b[36masync\u001b[39m({requests\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi})\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m{transaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39motelParentCtx\u001b[33m:\u001b[39ms}\u001b[33m=\u001b[39mn[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mmap(p\u001b[33m=>\u001b[39mp\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent(s)\u001b[33m,\u001b[39mu\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39msome(p\u001b[33m=>\u001b[39m\u001b[33mOo\u001b[39m(p\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction))\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m(\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequestBatch(a\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39ml\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39m\u001b[33mIf\u001b[39m(o)\u001b[33m,\u001b[39mcontainsWrite\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi}))\u001b[33m.\u001b[39mmap((p\u001b[33m,\u001b[39md)\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(p \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mreturn\u001b[39m p\u001b[33m;\u001b[39m\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n[d]\u001b[33m,\u001b[39mp)}\u001b[36mcatch\u001b[39m(f){\u001b[36mreturn\u001b[39m f}})})\u001b[33m,\u001b[39msingleLoader\u001b[33m:\u001b[39m\u001b[36masync\u001b[39m n\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39meu(n\u001b[33m.\u001b[39mtransaction)\u001b[33m:\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequest(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent()\u001b[33m,\u001b[39minteractiveTransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39misWrite\u001b[33m:\u001b[39m\u001b[33mOo\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction)\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mn\u001b[33m.\u001b[39mcustomDataProxyFetch})\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n\u001b[33m,\u001b[39mo)}\u001b[33m,\u001b[39mbatchBy\u001b[33m:\u001b[39mn\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mid\u001b[33m?\u001b[39m\u001b[32m`transaction-${n.transaction.id}`\u001b[39m\u001b[33m:\u001b[39m\u001b[33mZl\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39mbatchOrder(n\u001b[33m,\u001b[39mi){\u001b[36mreturn\u001b[39m n\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m?\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m-\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m:\u001b[39m\u001b[35m0\u001b[39m}})}\u001b[36masync\u001b[39m request(r){\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m.\u001b[39mrequest(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mlet\u001b[39m{clientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma}\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleAndLogRequestError({error\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mglobalOmit})}}mapQueryEngineResult({dataPath\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39munpacker\u001b[33m:\u001b[39mt}\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mdata\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39munpack(i\u001b[33m,\u001b[39mr\u001b[33m,\u001b[39mt)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mPRISMA_CLIENT_GET_TIME\u001b[39m\u001b[33m?\u001b[39m{data\u001b[33m:\u001b[39mo}\u001b[33m:\u001b[39mo}handleAndLogRequestError(r){\u001b[36mtry\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleRequestError(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mthrow\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m.\u001b[39memit(\u001b[32m\"error\"\u001b[39m\u001b[33m,\u001b[39m{message\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mmessage\u001b[33m,\u001b[39mtarget\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mclientMethod\u001b[33m,\u001b[39mtimestamp\u001b[33m:\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m})\u001b[33m,\u001b[39mt}}handleRequestError({error\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma}){\u001b[36mif\u001b[39m(\u001b[33mAf\u001b[39m(r)\u001b[33m,\u001b[39mkf(r\u001b[33m,\u001b[39mi))\u001b[36mthrow\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m z\u001b[33m&&\u001b[39m\u001b[33mOf\u001b[39m(r)){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39mru(r\u001b[33m.\u001b[39mmeta)\u001b[33m;\u001b[39mkn({args\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39m[u]\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39merrorFormat\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma})}\u001b[36mlet\u001b[39m l\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mmessage\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m(l\u001b[33m=\u001b[39mwn({callsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39misPanic\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39misPanic\u001b[33m,\u001b[39mshowColors\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m===\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39mmessage\u001b[33m:\u001b[39ml}))\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39msanitizeMessage(l)\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mcode){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39ms\u001b[33m?\u001b[39m{modelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr\u001b[33m.\u001b[39mmeta}\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mmeta\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m z(l\u001b[33m,\u001b[39m{code\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mcode\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mmeta\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})}\u001b[36melse\u001b[39m{\u001b[36mif\u001b[39m(r\u001b[33m.\u001b[39misPanic)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m j)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m j(l\u001b[33m,\u001b[39m{clientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m \u001b[33mT\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mT\u001b[39m(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m le)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)}\u001b[36mthrow\u001b[39m r\u001b[33m.\u001b[39mclientVersion\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mr}sanitizeMessage(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m!==\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m?\u001b[39m(\u001b[35m0\u001b[39m\u001b[33m,\u001b[39m\u001b[33mXl\u001b[39m\u001b[33m.\u001b[39m\u001b[36mdefault\u001b[39m)(r)\u001b[33m:\u001b[39mr}unpack(r\u001b[33m,\u001b[39mt\u001b[33m,\u001b[39mn){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m||\u001b[39m(r\u001b[33m.\u001b[39mdata\u001b[33m&&\u001b[39m(r\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mdata)\u001b[33m,\u001b[39m\u001b[33m!\u001b[39mr))\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mvalues(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ms\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mfilter(u\u001b[33m=>\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"select\"\u001b[39m\u001b[33m&&\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"include\"\u001b[39m)\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mio(o\u001b[33m,\u001b[39ms)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39mi\u001b[33m===\u001b[39m\u001b[32m\"queryRaw\"\u001b[39m\u001b[33m?\u001b[39mzn(a)\u001b[33m:\u001b[39m\u001b[33mTr\u001b[39m(a)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m?\u001b[39mn(l)\u001b[33m:\u001b[39ml}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"RequestHandler\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mIf\u001b[39m(e){\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39m{isolationLevel\u001b[33m:\u001b[39me\u001b[33m.\u001b[39misolationLevel}}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39meu(e)}\u001b[33m;\u001b[39m_e(e\u001b[33m,\u001b[39m\u001b[32m\"Unknown transaction kind\"\u001b[39m)}}\u001b[36mfunction\u001b[39m eu(e){\u001b[36mreturn\u001b[39m{id\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39mpayload\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mpayload}}\u001b[36mfunction\u001b[39m kf(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m \u001b[33mKn\u001b[39m(e)\u001b[33m&&\u001b[39mr\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m!==\u001b[39mr\u001b[33m.\u001b[39mindex}\u001b[36mfunction\u001b[39m \u001b[33mOf\u001b[39m(e){\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2009\"\u001b[39m\u001b[33m||\u001b[39me\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2012\"\u001b[39m}\u001b[36mfunction\u001b[39m ru(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"Union\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"Union\"\u001b[39m\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39me\u001b[33m.\u001b[39merrors\u001b[33m.\u001b[39mmap(ru)}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e\u001b[33m.\u001b[39mselectionPath)){\u001b[36mlet\u001b[39m[\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr]\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mselectionPath\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[33m...\u001b[39me\u001b[33m,\u001b[39mselectionPath\u001b[33m:\u001b[39mr}}\u001b[36mreturn\u001b[39m e}\u001b[36mvar\u001b[39m tu\u001b[33m=\u001b[39m\u001b[33mSl\u001b[39m\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m au\u001b[33m=\u001b[39mk(\u001b[33mQi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mD\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mError\u001b[39m{constructor(r){\u001b[36msuper\u001b[39m(r\u001b[33m+\u001b[39m\u001b[32m`\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 125 |\u001b[39m \u001b[32mRead more at https://pris.ly/d/client-constructor`\u001b[39m)\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mname\u001b[33m=\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}}\u001b[33m;\u001b[39mx(\u001b[33mD\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m nu\u001b[33m=\u001b[39m[\u001b[32m\"datasources\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"datasourceUrl\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"errorFormat\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"adapter\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"log\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"transactionOptions\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"omit\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"__internal\"\u001b[39m]\u001b[33m,\u001b[39miu\u001b[33m=\u001b[39m[\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"colorless\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"minimal\"\u001b[39m]\u001b[33m,\u001b[39mou\u001b[33m=\u001b[39m[\u001b[32m\"info\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"warn\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"error\"\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mDf\u001b[39m\u001b[33m=\u001b[39m{datasources\u001b[33m:\u001b[39m(e\u001b[33m,\u001b[39m{datasourceNames\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m e\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for \"datasources\" provided to PrismaClient constructor`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[t\u001b[33m,\u001b[39mn]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(e)){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m.\u001b[39mincludes(t)){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mWr\u001b[39m(t\u001b[33m,\u001b[39mr)\u001b[33m||\u001b[39m\u001b[32m` Available datasources: ${r.join(\", \")}`\u001b[39m\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Unknown datasource ${t} provided to PrismaClient constructor.${i}`\u001b[39m)}\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m n\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(n))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 126 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m\u001b[36mtypeof\u001b[39m n\u001b[33m==\u001b[39m\u001b[32m\"object\"\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[i\u001b[33m,\u001b[39mo]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(n)){\u001b[36mif\u001b[39m(i\u001b[33m!==\u001b[39m\u001b[32m\"url\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 127 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m o\u001b[33m!=\u001b[39m\u001b[32m\"string\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(o)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:7649)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError [as handleAndLogRequestError] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6784)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleAndLogRequestError [as request] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6491)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat l (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:133:9778)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/sso-auth-flow.test.ts\u001b[39m\u001b[0m\u001b[2m:41:5)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mSSO Authentication Flow Testing - Phase 2.3 › Token Management › should handle token refresh flow\u001b[39m\u001b[22m\n\n    PrismaClientUnknownRequestError: \n    Invalid `prisma.apiConnection.deleteMany()` invocation in\n    /Users/connorbowen/apiq-mvp/tests/integration/api/sso-auth-flow.test.ts:41:32\n\n      38     }\n      39   }\n      40 });\n    → 41 await prisma.apiConnection.deleteMany(\n    Error occurred during query execution:\n    ConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28323 waits for ShareLock on transaction 54230; blocked by process 28469.\\nProcess 28469 waits for ShareLock on transaction 54228; blocked by process 28323.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 122 |\u001b[39m \u001b[32m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 123 |\u001b[39m \u001b[32mMore Information: https://pris.ly/d/execute-raw\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 124 |\u001b[39m \u001b[32m`\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mCo\u001b[39m\u001b[33m=\u001b[39m({clientMethod\u001b[33m:\u001b[39me\u001b[33m,\u001b[39mactiveProvider\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39mt\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[32m\"\"\u001b[39m\u001b[33m,\u001b[39mi\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mFn\u001b[39m(t))n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(t)){\u001b[36mlet\u001b[39m[o\u001b[33m,\u001b[39m\u001b[33m...\u001b[39ms]\u001b[33m=\u001b[39mt\u001b[33m;\u001b[39mn\u001b[33m=\u001b[39mo\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(s\u001b[33m||\u001b[39m[])\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}}\u001b[36melse\u001b[39m \u001b[36mswitch\u001b[39m(r){\u001b[36mcase\u001b[39m\u001b[32m\"sqlite\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"mysql\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"cockroachdb\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgresql\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgres\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mtext\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"sqlserver\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mjl(t)\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`The ${r} provider does not support ${e}`\u001b[39m)}\u001b[36mreturn\u001b[39m i\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mvalues\u001b[33m?\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n}, ${i.values})`\u001b[39m)\u001b[33m:\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n})`\u001b[39m)\u001b[33m,\u001b[39m{query\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mparameters\u001b[33m:\u001b[39mi}}\u001b[33m,\u001b[39m\u001b[33mWl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e\u001b[33m.\u001b[39mstrings\u001b[33m,\u001b[39m\u001b[33m...\u001b[39me\u001b[33m.\u001b[39mvalues]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mlet\u001b[39m[r\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mt]\u001b[33m=\u001b[39me\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m oe(r\u001b[33m,\u001b[39mt)}}\u001b[33m,\u001b[39m\u001b[33mJl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mreturn\u001b[39m e[\u001b[35m0\u001b[39m]}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mAo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mfunction\u001b[39m(t\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m(s\u001b[33m=\u001b[39me)\u001b[33m=>\u001b[39m{\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m s\u001b[33m===\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m||\u001b[39ms\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33m=\u001b[39m\u001b[33mHl\u001b[39m(t(s))\u001b[33m:\u001b[39m\u001b[33mHl\u001b[39m(t(s))}\u001b[36mcatch\u001b[39m(a){\u001b[36mreturn\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mreject(a)}}\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[36mget\u001b[39m spec(){\u001b[36mreturn\u001b[39m n}\u001b[33m,\u001b[39mthen(s\u001b[33m,\u001b[39ma){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39mthen(s\u001b[33m,\u001b[39ma)}\u001b[33m,\u001b[39m\u001b[36mcatch\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(s)}\u001b[33m,\u001b[39m\u001b[36mfinally\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mfinally\u001b[39m(s)}\u001b[33m,\u001b[39mrequestTransaction(s){\u001b[36mlet\u001b[39m a\u001b[33m=\u001b[39mo(s)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m a\u001b[33m.\u001b[39mrequestTransaction\u001b[33m?\u001b[39ma\u001b[33m.\u001b[39mrequestTransaction(s)\u001b[33m:\u001b[39ma}\u001b[33m,\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag]\u001b[33m:\u001b[39m\u001b[32m\"PrismaPromise\"\u001b[39m}}}\u001b[36mfunction\u001b[39m \u001b[33mHl\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mthen\u001b[33m==\u001b[39m\u001b[32m\"function\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39m\u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mresolve(e)}\u001b[36mvar\u001b[39m \u001b[33mTf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mEi\u001b[39m\u001b[33m.\u001b[39msplit(\u001b[32m\".\"\u001b[39m)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mSf\u001b[39m\u001b[33m=\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m}\u001b[33m,\u001b[39mgetTraceParent(){\u001b[36mreturn\u001b[39m\u001b[32m\"00-10-10-00\"\u001b[39m}\u001b[33m,\u001b[39mdispatchEngineSpans(){}\u001b[33m,\u001b[39mgetActiveContext(){}\u001b[33m,\u001b[39mrunInChildSpan(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m r()}}\u001b[33m,\u001b[39m\u001b[33mIo\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39misEnabled()}getTraceParent(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetTraceParent(r)}dispatchEngineSpans(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mdispatchEngineSpans(r)}getActiveContext(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetActiveContext()}runInChildSpan(r\u001b[33m,\u001b[39mt){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mrunInChildSpan(r\u001b[33m,\u001b[39mt)}getGlobalTracingHelper(){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39mglobalThis[\u001b[32m`V${Tf}_PRISMA_INSTRUMENTATION`\u001b[39m]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39mglobalThis\u001b[33m.\u001b[39m\u001b[33mPRISMA_INSTRUMENTATION\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33mSf\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKl\u001b[39m(){\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mIo\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mYl\u001b[39m(e\u001b[33m,\u001b[39mr\u001b[33m=\u001b[39m()\u001b[33m=>\u001b[39m{}){\u001b[36mlet\u001b[39m t\u001b[33m,\u001b[39mn\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m(i\u001b[33m=>\u001b[39mt\u001b[33m=\u001b[39mi)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{then(i){\u001b[36mreturn\u001b[39m\u001b[33m--\u001b[39me\u001b[33m===\u001b[39m\u001b[35m0\u001b[39m\u001b[33m&&\u001b[39mt(r())\u001b[33m,\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m.\u001b[39m(n)}}}\u001b[36mfunction\u001b[39m zl(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mreduce((r\u001b[33m,\u001b[39mt)\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[36mtypeof\u001b[39m t\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mlevel\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m===\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m?\u001b[39mr\u001b[33m:\u001b[39mr\u001b[33m&&\u001b[39m(t\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m||\u001b[39mr\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m)\u001b[33m?\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m:\u001b[39mn}\u001b[33m,\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mHn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{_middlewares\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39muse(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mpush(r)}\u001b[36mget\u001b[39m(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}has(r){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[33m!\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}length(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mlength}}\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mXl\u001b[39m\u001b[33m=\u001b[39mk(\u001b[33mOi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKn\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m==\u001b[39m\u001b[32m\"number\"\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mZl\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUnique\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUniqueOrThrow\"\u001b[39m)\u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mmodelName\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(e\u001b[33m.\u001b[39mmodelName)\u001b[33m,\u001b[39me\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39mselection))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mjoin(\u001b[32m\"\"\u001b[39m)}\u001b[36mfunction\u001b[39m ko(e){\u001b[36mreturn\u001b[39m\u001b[32m`(${Object.keys(e).sort().map(t=>{let n=e[t];return typeof n==\"object\"&&n!==null?`(${t} ${ko(n)})`:t}).join(\" \")})`\u001b[39m}\u001b[36mvar\u001b[39m \u001b[33mRf\u001b[39m\u001b[33m=\u001b[39m{aggregate\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39maggregateRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mcreateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mexecuteRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mfindFirst\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindFirstOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUnique\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUniqueOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mgroupBy\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mqueryRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mrunCommandRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupsertOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mOo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[33mRf\u001b[39m[e]}\u001b[36mvar\u001b[39m \u001b[33mYn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{constructor(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches\u001b[33m=\u001b[39m{}}batches\u001b[33m;\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m;\u001b[39mrequest(r){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchBy(r)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m t\u001b[33m?\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mprocess\u001b[33m.\u001b[39mnextTick(()\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdispatchBatches()\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m})))\u001b[33m,\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m.\u001b[39mpush({request\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mresolve\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mreject\u001b[33m:\u001b[39mi})}))\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(r)}dispatchBatches(){\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m r \u001b[36min\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m;\u001b[39m\u001b[36mdelete\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m,\u001b[39mt\u001b[33m.\u001b[39mlength\u001b[33m===\u001b[39m\u001b[35m1\u001b[39m\u001b[33m?\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mrequest)\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)\u001b[33m:\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mresolve(n)})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)})\u001b[33m:\u001b[39m(t\u001b[33m.\u001b[39msort((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchOrder(n\u001b[33m.\u001b[39mrequest\u001b[33m,\u001b[39mi\u001b[33m.\u001b[39mrequest))\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchLoader(t\u001b[33m.\u001b[39mmap(n\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mrequest))\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m o\u001b[33m=\u001b[39mn[i]\u001b[33m;\u001b[39mo \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[i]\u001b[33m.\u001b[39mreject(o)\u001b[33m:\u001b[39mt[i]\u001b[33m.\u001b[39mresolve(o)}})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)}))}}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"DataLoader\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m mr(e\u001b[33m,\u001b[39mr){\u001b[36mif\u001b[39m(r\u001b[33m===\u001b[39m\u001b[36mnull\u001b[39m)\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mswitch\u001b[39m(e){\u001b[36mcase\u001b[39m\u001b[32m\"bigint\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[33mBigInt\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes\"\u001b[39m\u001b[33m:\u001b[39m{\u001b[36mlet\u001b[39m{buffer\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mbyteOffset\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mbyteLength\u001b[33m:\u001b[39mi}\u001b[33m=\u001b[39m\u001b[33mBuffer\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m(r\u001b[33m,\u001b[39m\u001b[32m\"base64\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mUint8Array\u001b[39m(t\u001b[33m,\u001b[39mn\u001b[33m,\u001b[39mi)}\u001b[36mcase\u001b[39m\u001b[32m\"decimal\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mPe\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(\u001b[32m`1970-01-01T${r}Z`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bigint-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bigint\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bytes\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"decimal-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"decimal\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"datetime\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"date\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"time\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r}}\u001b[36mfunction\u001b[39m zn(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39m\u001b[33mCf\u001b[39m(e)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mn\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mrows\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mn\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mrows[n]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m{\u001b[33m...\u001b[39mt}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m s\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39ms\u001b[33m<\u001b[39m\u001b[33mi\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39ms\u001b[33m++\u001b[39m)o[e\u001b[33m.\u001b[39mcolumns[s]]\u001b[33m=\u001b[39mmr(e\u001b[33m.\u001b[39mtypes[s]\u001b[33m,\u001b[39mi[s])\u001b[33m;\u001b[39mr\u001b[33m.\u001b[39mpush(o)}\u001b[36mreturn\u001b[39m r}\u001b[36mfunction\u001b[39m \u001b[33mCf\u001b[39m(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m{}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mt\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mcolumns\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mt\u001b[33m++\u001b[39m)r[e\u001b[33m.\u001b[39mcolumns[t]]\u001b[33m=\u001b[39m\u001b[36mnull\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r}\u001b[36mvar\u001b[39m \u001b[33mAf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mN\u001b[39m(\u001b[32m\"prisma:client:request_handler\"\u001b[39m)\u001b[33m,\u001b[39m\u001b[33mZn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{client\u001b[33m;\u001b[39mdataloader\u001b[33m;\u001b[39mlogEmitter\u001b[33m;\u001b[39mconstructor(r\u001b[33m,\u001b[39mt){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m=\u001b[39mt\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m=\u001b[39mr\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mYn\u001b[39m({batchLoader\u001b[33m:\u001b[39mol(\u001b[36masync\u001b[39m({requests\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi})\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m{transaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39motelParentCtx\u001b[33m:\u001b[39ms}\u001b[33m=\u001b[39mn[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mmap(p\u001b[33m=>\u001b[39mp\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent(s)\u001b[33m,\u001b[39mu\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39msome(p\u001b[33m=>\u001b[39m\u001b[33mOo\u001b[39m(p\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction))\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m(\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequestBatch(a\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39ml\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39m\u001b[33mIf\u001b[39m(o)\u001b[33m,\u001b[39mcontainsWrite\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi}))\u001b[33m.\u001b[39mmap((p\u001b[33m,\u001b[39md)\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(p \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mreturn\u001b[39m p\u001b[33m;\u001b[39m\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n[d]\u001b[33m,\u001b[39mp)}\u001b[36mcatch\u001b[39m(f){\u001b[36mreturn\u001b[39m f}})})\u001b[33m,\u001b[39msingleLoader\u001b[33m:\u001b[39m\u001b[36masync\u001b[39m n\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39meu(n\u001b[33m.\u001b[39mtransaction)\u001b[33m:\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequest(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent()\u001b[33m,\u001b[39minteractiveTransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39misWrite\u001b[33m:\u001b[39m\u001b[33mOo\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction)\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mn\u001b[33m.\u001b[39mcustomDataProxyFetch})\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n\u001b[33m,\u001b[39mo)}\u001b[33m,\u001b[39mbatchBy\u001b[33m:\u001b[39mn\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mid\u001b[33m?\u001b[39m\u001b[32m`transaction-${n.transaction.id}`\u001b[39m\u001b[33m:\u001b[39m\u001b[33mZl\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39mbatchOrder(n\u001b[33m,\u001b[39mi){\u001b[36mreturn\u001b[39m n\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m?\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m-\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m:\u001b[39m\u001b[35m0\u001b[39m}})}\u001b[36masync\u001b[39m request(r){\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m.\u001b[39mrequest(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mlet\u001b[39m{clientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma}\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleAndLogRequestError({error\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mglobalOmit})}}mapQueryEngineResult({dataPath\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39munpacker\u001b[33m:\u001b[39mt}\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mdata\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39munpack(i\u001b[33m,\u001b[39mr\u001b[33m,\u001b[39mt)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mPRISMA_CLIENT_GET_TIME\u001b[39m\u001b[33m?\u001b[39m{data\u001b[33m:\u001b[39mo}\u001b[33m:\u001b[39mo}handleAndLogRequestError(r){\u001b[36mtry\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleRequestError(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mthrow\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m.\u001b[39memit(\u001b[32m\"error\"\u001b[39m\u001b[33m,\u001b[39m{message\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mmessage\u001b[33m,\u001b[39mtarget\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mclientMethod\u001b[33m,\u001b[39mtimestamp\u001b[33m:\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m})\u001b[33m,\u001b[39mt}}handleRequestError({error\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma}){\u001b[36mif\u001b[39m(\u001b[33mAf\u001b[39m(r)\u001b[33m,\u001b[39mkf(r\u001b[33m,\u001b[39mi))\u001b[36mthrow\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m z\u001b[33m&&\u001b[39m\u001b[33mOf\u001b[39m(r)){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39mru(r\u001b[33m.\u001b[39mmeta)\u001b[33m;\u001b[39mkn({args\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39m[u]\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39merrorFormat\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma})}\u001b[36mlet\u001b[39m l\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mmessage\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m(l\u001b[33m=\u001b[39mwn({callsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39misPanic\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39misPanic\u001b[33m,\u001b[39mshowColors\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m===\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39mmessage\u001b[33m:\u001b[39ml}))\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39msanitizeMessage(l)\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mcode){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39ms\u001b[33m?\u001b[39m{modelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr\u001b[33m.\u001b[39mmeta}\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mmeta\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m z(l\u001b[33m,\u001b[39m{code\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mcode\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mmeta\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})}\u001b[36melse\u001b[39m{\u001b[36mif\u001b[39m(r\u001b[33m.\u001b[39misPanic)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m j)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m j(l\u001b[33m,\u001b[39m{clientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m \u001b[33mT\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mT\u001b[39m(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m le)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)}\u001b[36mthrow\u001b[39m r\u001b[33m.\u001b[39mclientVersion\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mr}sanitizeMessage(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m!==\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m?\u001b[39m(\u001b[35m0\u001b[39m\u001b[33m,\u001b[39m\u001b[33mXl\u001b[39m\u001b[33m.\u001b[39m\u001b[36mdefault\u001b[39m)(r)\u001b[33m:\u001b[39mr}unpack(r\u001b[33m,\u001b[39mt\u001b[33m,\u001b[39mn){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m||\u001b[39m(r\u001b[33m.\u001b[39mdata\u001b[33m&&\u001b[39m(r\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mdata)\u001b[33m,\u001b[39m\u001b[33m!\u001b[39mr))\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mvalues(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ms\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mfilter(u\u001b[33m=>\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"select\"\u001b[39m\u001b[33m&&\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"include\"\u001b[39m)\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mio(o\u001b[33m,\u001b[39ms)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39mi\u001b[33m===\u001b[39m\u001b[32m\"queryRaw\"\u001b[39m\u001b[33m?\u001b[39mzn(a)\u001b[33m:\u001b[39m\u001b[33mTr\u001b[39m(a)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m?\u001b[39mn(l)\u001b[33m:\u001b[39ml}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"RequestHandler\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mIf\u001b[39m(e){\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39m{isolationLevel\u001b[33m:\u001b[39me\u001b[33m.\u001b[39misolationLevel}}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39meu(e)}\u001b[33m;\u001b[39m_e(e\u001b[33m,\u001b[39m\u001b[32m\"Unknown transaction kind\"\u001b[39m)}}\u001b[36mfunction\u001b[39m eu(e){\u001b[36mreturn\u001b[39m{id\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39mpayload\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mpayload}}\u001b[36mfunction\u001b[39m kf(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m \u001b[33mKn\u001b[39m(e)\u001b[33m&&\u001b[39mr\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m!==\u001b[39mr\u001b[33m.\u001b[39mindex}\u001b[36mfunction\u001b[39m \u001b[33mOf\u001b[39m(e){\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2009\"\u001b[39m\u001b[33m||\u001b[39me\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2012\"\u001b[39m}\u001b[36mfunction\u001b[39m ru(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"Union\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"Union\"\u001b[39m\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39me\u001b[33m.\u001b[39merrors\u001b[33m.\u001b[39mmap(ru)}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e\u001b[33m.\u001b[39mselectionPath)){\u001b[36mlet\u001b[39m[\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr]\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mselectionPath\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[33m...\u001b[39me\u001b[33m,\u001b[39mselectionPath\u001b[33m:\u001b[39mr}}\u001b[36mreturn\u001b[39m e}\u001b[36mvar\u001b[39m tu\u001b[33m=\u001b[39m\u001b[33mSl\u001b[39m\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m au\u001b[33m=\u001b[39mk(\u001b[33mQi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mD\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mError\u001b[39m{constructor(r){\u001b[36msuper\u001b[39m(r\u001b[33m+\u001b[39m\u001b[32m`\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 125 |\u001b[39m \u001b[32mRead more at https://pris.ly/d/client-constructor`\u001b[39m)\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mname\u001b[33m=\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}}\u001b[33m;\u001b[39mx(\u001b[33mD\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m nu\u001b[33m=\u001b[39m[\u001b[32m\"datasources\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"datasourceUrl\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"errorFormat\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"adapter\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"log\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"transactionOptions\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"omit\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"__internal\"\u001b[39m]\u001b[33m,\u001b[39miu\u001b[33m=\u001b[39m[\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"colorless\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"minimal\"\u001b[39m]\u001b[33m,\u001b[39mou\u001b[33m=\u001b[39m[\u001b[32m\"info\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"warn\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"error\"\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mDf\u001b[39m\u001b[33m=\u001b[39m{datasources\u001b[33m:\u001b[39m(e\u001b[33m,\u001b[39m{datasourceNames\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m e\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for \"datasources\" provided to PrismaClient constructor`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[t\u001b[33m,\u001b[39mn]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(e)){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m.\u001b[39mincludes(t)){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mWr\u001b[39m(t\u001b[33m,\u001b[39mr)\u001b[33m||\u001b[39m\u001b[32m` Available datasources: ${r.join(\", \")}`\u001b[39m\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Unknown datasource ${t} provided to PrismaClient constructor.${i}`\u001b[39m)}\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m n\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(n))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 126 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m\u001b[36mtypeof\u001b[39m n\u001b[33m==\u001b[39m\u001b[32m\"object\"\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[i\u001b[33m,\u001b[39mo]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(n)){\u001b[36mif\u001b[39m(i\u001b[33m!==\u001b[39m\u001b[32m\"url\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 127 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m o\u001b[33m!=\u001b[39m\u001b[32m\"string\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(o)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:7649)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError [as handleAndLogRequestError] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6784)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleAndLogRequestError [as request] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6491)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat l (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:133:9778)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/sso-auth-flow.test.ts\u001b[39m\u001b[0m\u001b[2m:41:5)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mSSO Authentication Flow Testing - Phase 2.3 › Token Management › should handle token refresh failure\u001b[39m\u001b[22m\n\n    PrismaClientUnknownRequestError: \n    Invalid `prisma.apiConnection.deleteMany()` invocation in\n    /Users/connorbowen/apiq-mvp/tests/integration/api/sso-auth-flow.test.ts:41:32\n\n      38     }\n      39   }\n      40 });\n    → 41 await prisma.apiConnection.deleteMany(\n    Error occurred during query execution:\n    ConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28323 waits for ShareLock on transaction 54234; blocked by process 28469.\\nProcess 28469 waits for AccessExclusiveLock on tuple (0,19) of relation 33235 of database 21992; blocked by process 28465.\\nProcess 28465 waits for ShareLock on transaction 54232; blocked by process 28323.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 122 |\u001b[39m \u001b[32m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 123 |\u001b[39m \u001b[32mMore Information: https://pris.ly/d/execute-raw\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 124 |\u001b[39m \u001b[32m`\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mCo\u001b[39m\u001b[33m=\u001b[39m({clientMethod\u001b[33m:\u001b[39me\u001b[33m,\u001b[39mactiveProvider\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39mt\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[32m\"\"\u001b[39m\u001b[33m,\u001b[39mi\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mFn\u001b[39m(t))n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(t)){\u001b[36mlet\u001b[39m[o\u001b[33m,\u001b[39m\u001b[33m...\u001b[39ms]\u001b[33m=\u001b[39mt\u001b[33m;\u001b[39mn\u001b[33m=\u001b[39mo\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(s\u001b[33m||\u001b[39m[])\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}}\u001b[36melse\u001b[39m \u001b[36mswitch\u001b[39m(r){\u001b[36mcase\u001b[39m\u001b[32m\"sqlite\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"mysql\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"cockroachdb\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgresql\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgres\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mtext\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"sqlserver\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mjl(t)\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`The ${r} provider does not support ${e}`\u001b[39m)}\u001b[36mreturn\u001b[39m i\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mvalues\u001b[33m?\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n}, ${i.values})`\u001b[39m)\u001b[33m:\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n})`\u001b[39m)\u001b[33m,\u001b[39m{query\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mparameters\u001b[33m:\u001b[39mi}}\u001b[33m,\u001b[39m\u001b[33mWl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e\u001b[33m.\u001b[39mstrings\u001b[33m,\u001b[39m\u001b[33m...\u001b[39me\u001b[33m.\u001b[39mvalues]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mlet\u001b[39m[r\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mt]\u001b[33m=\u001b[39me\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m oe(r\u001b[33m,\u001b[39mt)}}\u001b[33m,\u001b[39m\u001b[33mJl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mreturn\u001b[39m e[\u001b[35m0\u001b[39m]}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mAo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mfunction\u001b[39m(t\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m(s\u001b[33m=\u001b[39me)\u001b[33m=>\u001b[39m{\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m s\u001b[33m===\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m||\u001b[39ms\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33m=\u001b[39m\u001b[33mHl\u001b[39m(t(s))\u001b[33m:\u001b[39m\u001b[33mHl\u001b[39m(t(s))}\u001b[36mcatch\u001b[39m(a){\u001b[36mreturn\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mreject(a)}}\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[36mget\u001b[39m spec(){\u001b[36mreturn\u001b[39m n}\u001b[33m,\u001b[39mthen(s\u001b[33m,\u001b[39ma){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39mthen(s\u001b[33m,\u001b[39ma)}\u001b[33m,\u001b[39m\u001b[36mcatch\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(s)}\u001b[33m,\u001b[39m\u001b[36mfinally\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mfinally\u001b[39m(s)}\u001b[33m,\u001b[39mrequestTransaction(s){\u001b[36mlet\u001b[39m a\u001b[33m=\u001b[39mo(s)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m a\u001b[33m.\u001b[39mrequestTransaction\u001b[33m?\u001b[39ma\u001b[33m.\u001b[39mrequestTransaction(s)\u001b[33m:\u001b[39ma}\u001b[33m,\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag]\u001b[33m:\u001b[39m\u001b[32m\"PrismaPromise\"\u001b[39m}}}\u001b[36mfunction\u001b[39m \u001b[33mHl\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mthen\u001b[33m==\u001b[39m\u001b[32m\"function\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39m\u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mresolve(e)}\u001b[36mvar\u001b[39m \u001b[33mTf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mEi\u001b[39m\u001b[33m.\u001b[39msplit(\u001b[32m\".\"\u001b[39m)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mSf\u001b[39m\u001b[33m=\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m}\u001b[33m,\u001b[39mgetTraceParent(){\u001b[36mreturn\u001b[39m\u001b[32m\"00-10-10-00\"\u001b[39m}\u001b[33m,\u001b[39mdispatchEngineSpans(){}\u001b[33m,\u001b[39mgetActiveContext(){}\u001b[33m,\u001b[39mrunInChildSpan(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m r()}}\u001b[33m,\u001b[39m\u001b[33mIo\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39misEnabled()}getTraceParent(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetTraceParent(r)}dispatchEngineSpans(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mdispatchEngineSpans(r)}getActiveContext(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetActiveContext()}runInChildSpan(r\u001b[33m,\u001b[39mt){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mrunInChildSpan(r\u001b[33m,\u001b[39mt)}getGlobalTracingHelper(){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39mglobalThis[\u001b[32m`V${Tf}_PRISMA_INSTRUMENTATION`\u001b[39m]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39mglobalThis\u001b[33m.\u001b[39m\u001b[33mPRISMA_INSTRUMENTATION\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33mSf\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKl\u001b[39m(){\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mIo\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mYl\u001b[39m(e\u001b[33m,\u001b[39mr\u001b[33m=\u001b[39m()\u001b[33m=>\u001b[39m{}){\u001b[36mlet\u001b[39m t\u001b[33m,\u001b[39mn\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m(i\u001b[33m=>\u001b[39mt\u001b[33m=\u001b[39mi)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{then(i){\u001b[36mreturn\u001b[39m\u001b[33m--\u001b[39me\u001b[33m===\u001b[39m\u001b[35m0\u001b[39m\u001b[33m&&\u001b[39mt(r())\u001b[33m,\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m.\u001b[39m(n)}}}\u001b[36mfunction\u001b[39m zl(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mreduce((r\u001b[33m,\u001b[39mt)\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[36mtypeof\u001b[39m t\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mlevel\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m===\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m?\u001b[39mr\u001b[33m:\u001b[39mr\u001b[33m&&\u001b[39m(t\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m||\u001b[39mr\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m)\u001b[33m?\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m:\u001b[39mn}\u001b[33m,\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mHn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{_middlewares\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39muse(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mpush(r)}\u001b[36mget\u001b[39m(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}has(r){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[33m!\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}length(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mlength}}\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mXl\u001b[39m\u001b[33m=\u001b[39mk(\u001b[33mOi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKn\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m==\u001b[39m\u001b[32m\"number\"\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mZl\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUnique\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUniqueOrThrow\"\u001b[39m)\u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mmodelName\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(e\u001b[33m.\u001b[39mmodelName)\u001b[33m,\u001b[39me\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39mselection))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mjoin(\u001b[32m\"\"\u001b[39m)}\u001b[36mfunction\u001b[39m ko(e){\u001b[36mreturn\u001b[39m\u001b[32m`(${Object.keys(e).sort().map(t=>{let n=e[t];return typeof n==\"object\"&&n!==null?`(${t} ${ko(n)})`:t}).join(\" \")})`\u001b[39m}\u001b[36mvar\u001b[39m \u001b[33mRf\u001b[39m\u001b[33m=\u001b[39m{aggregate\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39maggregateRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mcreateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mexecuteRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mfindFirst\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindFirstOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUnique\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUniqueOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mgroupBy\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mqueryRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mrunCommandRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupsertOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mOo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[33mRf\u001b[39m[e]}\u001b[36mvar\u001b[39m \u001b[33mYn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{constructor(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches\u001b[33m=\u001b[39m{}}batches\u001b[33m;\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m;\u001b[39mrequest(r){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchBy(r)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m t\u001b[33m?\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mprocess\u001b[33m.\u001b[39mnextTick(()\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdispatchBatches()\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m})))\u001b[33m,\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m.\u001b[39mpush({request\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mresolve\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mreject\u001b[33m:\u001b[39mi})}))\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(r)}dispatchBatches(){\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m r \u001b[36min\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m;\u001b[39m\u001b[36mdelete\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m,\u001b[39mt\u001b[33m.\u001b[39mlength\u001b[33m===\u001b[39m\u001b[35m1\u001b[39m\u001b[33m?\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mrequest)\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)\u001b[33m:\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mresolve(n)})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)})\u001b[33m:\u001b[39m(t\u001b[33m.\u001b[39msort((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchOrder(n\u001b[33m.\u001b[39mrequest\u001b[33m,\u001b[39mi\u001b[33m.\u001b[39mrequest))\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchLoader(t\u001b[33m.\u001b[39mmap(n\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mrequest))\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m o\u001b[33m=\u001b[39mn[i]\u001b[33m;\u001b[39mo \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[i]\u001b[33m.\u001b[39mreject(o)\u001b[33m:\u001b[39mt[i]\u001b[33m.\u001b[39mresolve(o)}})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)}))}}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"DataLoader\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m mr(e\u001b[33m,\u001b[39mr){\u001b[36mif\u001b[39m(r\u001b[33m===\u001b[39m\u001b[36mnull\u001b[39m)\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mswitch\u001b[39m(e){\u001b[36mcase\u001b[39m\u001b[32m\"bigint\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[33mBigInt\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes\"\u001b[39m\u001b[33m:\u001b[39m{\u001b[36mlet\u001b[39m{buffer\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mbyteOffset\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mbyteLength\u001b[33m:\u001b[39mi}\u001b[33m=\u001b[39m\u001b[33mBuffer\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m(r\u001b[33m,\u001b[39m\u001b[32m\"base64\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mUint8Array\u001b[39m(t\u001b[33m,\u001b[39mn\u001b[33m,\u001b[39mi)}\u001b[36mcase\u001b[39m\u001b[32m\"decimal\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mPe\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(\u001b[32m`1970-01-01T${r}Z`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bigint-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bigint\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bytes\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"decimal-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"decimal\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"datetime\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"date\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"time\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r}}\u001b[36mfunction\u001b[39m zn(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39m\u001b[33mCf\u001b[39m(e)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mn\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mrows\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mn\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mrows[n]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m{\u001b[33m...\u001b[39mt}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m s\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39ms\u001b[33m<\u001b[39m\u001b[33mi\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39ms\u001b[33m++\u001b[39m)o[e\u001b[33m.\u001b[39mcolumns[s]]\u001b[33m=\u001b[39mmr(e\u001b[33m.\u001b[39mtypes[s]\u001b[33m,\u001b[39mi[s])\u001b[33m;\u001b[39mr\u001b[33m.\u001b[39mpush(o)}\u001b[36mreturn\u001b[39m r}\u001b[36mfunction\u001b[39m \u001b[33mCf\u001b[39m(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m{}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mt\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mcolumns\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mt\u001b[33m++\u001b[39m)r[e\u001b[33m.\u001b[39mcolumns[t]]\u001b[33m=\u001b[39m\u001b[36mnull\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r}\u001b[36mvar\u001b[39m \u001b[33mAf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mN\u001b[39m(\u001b[32m\"prisma:client:request_handler\"\u001b[39m)\u001b[33m,\u001b[39m\u001b[33mZn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{client\u001b[33m;\u001b[39mdataloader\u001b[33m;\u001b[39mlogEmitter\u001b[33m;\u001b[39mconstructor(r\u001b[33m,\u001b[39mt){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m=\u001b[39mt\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m=\u001b[39mr\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mYn\u001b[39m({batchLoader\u001b[33m:\u001b[39mol(\u001b[36masync\u001b[39m({requests\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi})\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m{transaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39motelParentCtx\u001b[33m:\u001b[39ms}\u001b[33m=\u001b[39mn[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mmap(p\u001b[33m=>\u001b[39mp\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent(s)\u001b[33m,\u001b[39mu\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39msome(p\u001b[33m=>\u001b[39m\u001b[33mOo\u001b[39m(p\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction))\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m(\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequestBatch(a\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39ml\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39m\u001b[33mIf\u001b[39m(o)\u001b[33m,\u001b[39mcontainsWrite\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi}))\u001b[33m.\u001b[39mmap((p\u001b[33m,\u001b[39md)\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(p \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mreturn\u001b[39m p\u001b[33m;\u001b[39m\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n[d]\u001b[33m,\u001b[39mp)}\u001b[36mcatch\u001b[39m(f){\u001b[36mreturn\u001b[39m f}})})\u001b[33m,\u001b[39msingleLoader\u001b[33m:\u001b[39m\u001b[36masync\u001b[39m n\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39meu(n\u001b[33m.\u001b[39mtransaction)\u001b[33m:\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequest(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent()\u001b[33m,\u001b[39minteractiveTransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39misWrite\u001b[33m:\u001b[39m\u001b[33mOo\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction)\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mn\u001b[33m.\u001b[39mcustomDataProxyFetch})\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n\u001b[33m,\u001b[39mo)}\u001b[33m,\u001b[39mbatchBy\u001b[33m:\u001b[39mn\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mid\u001b[33m?\u001b[39m\u001b[32m`transaction-${n.transaction.id}`\u001b[39m\u001b[33m:\u001b[39m\u001b[33mZl\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39mbatchOrder(n\u001b[33m,\u001b[39mi){\u001b[36mreturn\u001b[39m n\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m?\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m-\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m:\u001b[39m\u001b[35m0\u001b[39m}})}\u001b[36masync\u001b[39m request(r){\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m.\u001b[39mrequest(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mlet\u001b[39m{clientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma}\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleAndLogRequestError({error\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mglobalOmit})}}mapQueryEngineResult({dataPath\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39munpacker\u001b[33m:\u001b[39mt}\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mdata\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39munpack(i\u001b[33m,\u001b[39mr\u001b[33m,\u001b[39mt)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mPRISMA_CLIENT_GET_TIME\u001b[39m\u001b[33m?\u001b[39m{data\u001b[33m:\u001b[39mo}\u001b[33m:\u001b[39mo}handleAndLogRequestError(r){\u001b[36mtry\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleRequestError(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mthrow\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m.\u001b[39memit(\u001b[32m\"error\"\u001b[39m\u001b[33m,\u001b[39m{message\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mmessage\u001b[33m,\u001b[39mtarget\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mclientMethod\u001b[33m,\u001b[39mtimestamp\u001b[33m:\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m})\u001b[33m,\u001b[39mt}}handleRequestError({error\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma}){\u001b[36mif\u001b[39m(\u001b[33mAf\u001b[39m(r)\u001b[33m,\u001b[39mkf(r\u001b[33m,\u001b[39mi))\u001b[36mthrow\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m z\u001b[33m&&\u001b[39m\u001b[33mOf\u001b[39m(r)){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39mru(r\u001b[33m.\u001b[39mmeta)\u001b[33m;\u001b[39mkn({args\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39m[u]\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39merrorFormat\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma})}\u001b[36mlet\u001b[39m l\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mmessage\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m(l\u001b[33m=\u001b[39mwn({callsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39misPanic\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39misPanic\u001b[33m,\u001b[39mshowColors\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m===\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39mmessage\u001b[33m:\u001b[39ml}))\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39msanitizeMessage(l)\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mcode){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39ms\u001b[33m?\u001b[39m{modelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr\u001b[33m.\u001b[39mmeta}\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mmeta\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m z(l\u001b[33m,\u001b[39m{code\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mcode\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mmeta\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})}\u001b[36melse\u001b[39m{\u001b[36mif\u001b[39m(r\u001b[33m.\u001b[39misPanic)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m j)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m j(l\u001b[33m,\u001b[39m{clientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m \u001b[33mT\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mT\u001b[39m(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m le)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)}\u001b[36mthrow\u001b[39m r\u001b[33m.\u001b[39mclientVersion\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mr}sanitizeMessage(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m!==\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m?\u001b[39m(\u001b[35m0\u001b[39m\u001b[33m,\u001b[39m\u001b[33mXl\u001b[39m\u001b[33m.\u001b[39m\u001b[36mdefault\u001b[39m)(r)\u001b[33m:\u001b[39mr}unpack(r\u001b[33m,\u001b[39mt\u001b[33m,\u001b[39mn){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m||\u001b[39m(r\u001b[33m.\u001b[39mdata\u001b[33m&&\u001b[39m(r\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mdata)\u001b[33m,\u001b[39m\u001b[33m!\u001b[39mr))\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mvalues(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ms\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mfilter(u\u001b[33m=>\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"select\"\u001b[39m\u001b[33m&&\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"include\"\u001b[39m)\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mio(o\u001b[33m,\u001b[39ms)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39mi\u001b[33m===\u001b[39m\u001b[32m\"queryRaw\"\u001b[39m\u001b[33m?\u001b[39mzn(a)\u001b[33m:\u001b[39m\u001b[33mTr\u001b[39m(a)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m?\u001b[39mn(l)\u001b[33m:\u001b[39ml}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"RequestHandler\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mIf\u001b[39m(e){\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39m{isolationLevel\u001b[33m:\u001b[39me\u001b[33m.\u001b[39misolationLevel}}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39meu(e)}\u001b[33m;\u001b[39m_e(e\u001b[33m,\u001b[39m\u001b[32m\"Unknown transaction kind\"\u001b[39m)}}\u001b[36mfunction\u001b[39m eu(e){\u001b[36mreturn\u001b[39m{id\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39mpayload\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mpayload}}\u001b[36mfunction\u001b[39m kf(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m \u001b[33mKn\u001b[39m(e)\u001b[33m&&\u001b[39mr\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m!==\u001b[39mr\u001b[33m.\u001b[39mindex}\u001b[36mfunction\u001b[39m \u001b[33mOf\u001b[39m(e){\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2009\"\u001b[39m\u001b[33m||\u001b[39me\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2012\"\u001b[39m}\u001b[36mfunction\u001b[39m ru(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"Union\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"Union\"\u001b[39m\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39me\u001b[33m.\u001b[39merrors\u001b[33m.\u001b[39mmap(ru)}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e\u001b[33m.\u001b[39mselectionPath)){\u001b[36mlet\u001b[39m[\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr]\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mselectionPath\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[33m...\u001b[39me\u001b[33m,\u001b[39mselectionPath\u001b[33m:\u001b[39mr}}\u001b[36mreturn\u001b[39m e}\u001b[36mvar\u001b[39m tu\u001b[33m=\u001b[39m\u001b[33mSl\u001b[39m\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m au\u001b[33m=\u001b[39mk(\u001b[33mQi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mD\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mError\u001b[39m{constructor(r){\u001b[36msuper\u001b[39m(r\u001b[33m+\u001b[39m\u001b[32m`\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 125 |\u001b[39m \u001b[32mRead more at https://pris.ly/d/client-constructor`\u001b[39m)\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mname\u001b[33m=\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}}\u001b[33m;\u001b[39mx(\u001b[33mD\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m nu\u001b[33m=\u001b[39m[\u001b[32m\"datasources\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"datasourceUrl\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"errorFormat\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"adapter\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"log\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"transactionOptions\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"omit\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"__internal\"\u001b[39m]\u001b[33m,\u001b[39miu\u001b[33m=\u001b[39m[\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"colorless\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"minimal\"\u001b[39m]\u001b[33m,\u001b[39mou\u001b[33m=\u001b[39m[\u001b[32m\"info\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"warn\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"error\"\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mDf\u001b[39m\u001b[33m=\u001b[39m{datasources\u001b[33m:\u001b[39m(e\u001b[33m,\u001b[39m{datasourceNames\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m e\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for \"datasources\" provided to PrismaClient constructor`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[t\u001b[33m,\u001b[39mn]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(e)){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m.\u001b[39mincludes(t)){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mWr\u001b[39m(t\u001b[33m,\u001b[39mr)\u001b[33m||\u001b[39m\u001b[32m` Available datasources: ${r.join(\", \")}`\u001b[39m\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Unknown datasource ${t} provided to PrismaClient constructor.${i}`\u001b[39m)}\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m n\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(n))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 126 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m\u001b[36mtypeof\u001b[39m n\u001b[33m==\u001b[39m\u001b[32m\"object\"\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[i\u001b[33m,\u001b[39mo]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(n)){\u001b[36mif\u001b[39m(i\u001b[33m!==\u001b[39m\u001b[32m\"url\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 127 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m o\u001b[33m!=\u001b[39m\u001b[32m\"string\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(o)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:7649)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError [as handleAndLogRequestError] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6784)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleAndLogRequestError [as request] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6491)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat l (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:133:9778)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/sso-auth-flow.test.ts\u001b[39m\u001b[0m\u001b[2m:41:5)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mSSO Authentication Flow Testing - Phase 2.3 › Security Validation › should not expose sensitive tokens in responses\u001b[39m\u001b[22m\n\n    PrismaClientUnknownRequestError: \n    Invalid `prisma.user.deleteMany()` invocation in\n    /Users/connorbowen/apiq-mvp/tests/integration/api/sso-auth-flow.test.ts:51:23\n\n      48     }\n      49   }\n      50 });\n    → 51 await prisma.user.deleteMany(\n    Error occurred during query execution:\n    ConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28323 waits for ShareLock on transaction 54239; blocked by process 28469.\\nProcess 28469 waits for ShareLock on transaction 54236; blocked by process 28323.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 122 |\u001b[39m \u001b[32m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 123 |\u001b[39m \u001b[32mMore Information: https://pris.ly/d/execute-raw\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 124 |\u001b[39m \u001b[32m`\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mCo\u001b[39m\u001b[33m=\u001b[39m({clientMethod\u001b[33m:\u001b[39me\u001b[33m,\u001b[39mactiveProvider\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39mt\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[32m\"\"\u001b[39m\u001b[33m,\u001b[39mi\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mFn\u001b[39m(t))n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(t)){\u001b[36mlet\u001b[39m[o\u001b[33m,\u001b[39m\u001b[33m...\u001b[39ms]\u001b[33m=\u001b[39mt\u001b[33m;\u001b[39mn\u001b[33m=\u001b[39mo\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(s\u001b[33m||\u001b[39m[])\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}}\u001b[36melse\u001b[39m \u001b[36mswitch\u001b[39m(r){\u001b[36mcase\u001b[39m\u001b[32m\"sqlite\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"mysql\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"cockroachdb\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgresql\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgres\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mtext\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"sqlserver\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mjl(t)\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`The ${r} provider does not support ${e}`\u001b[39m)}\u001b[36mreturn\u001b[39m i\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mvalues\u001b[33m?\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n}, ${i.values})`\u001b[39m)\u001b[33m:\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n})`\u001b[39m)\u001b[33m,\u001b[39m{query\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mparameters\u001b[33m:\u001b[39mi}}\u001b[33m,\u001b[39m\u001b[33mWl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e\u001b[33m.\u001b[39mstrings\u001b[33m,\u001b[39m\u001b[33m...\u001b[39me\u001b[33m.\u001b[39mvalues]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mlet\u001b[39m[r\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mt]\u001b[33m=\u001b[39me\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m oe(r\u001b[33m,\u001b[39mt)}}\u001b[33m,\u001b[39m\u001b[33mJl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mreturn\u001b[39m e[\u001b[35m0\u001b[39m]}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mAo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mfunction\u001b[39m(t\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m(s\u001b[33m=\u001b[39me)\u001b[33m=>\u001b[39m{\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m s\u001b[33m===\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m||\u001b[39ms\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33m=\u001b[39m\u001b[33mHl\u001b[39m(t(s))\u001b[33m:\u001b[39m\u001b[33mHl\u001b[39m(t(s))}\u001b[36mcatch\u001b[39m(a){\u001b[36mreturn\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mreject(a)}}\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[36mget\u001b[39m spec(){\u001b[36mreturn\u001b[39m n}\u001b[33m,\u001b[39mthen(s\u001b[33m,\u001b[39ma){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39mthen(s\u001b[33m,\u001b[39ma)}\u001b[33m,\u001b[39m\u001b[36mcatch\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(s)}\u001b[33m,\u001b[39m\u001b[36mfinally\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mfinally\u001b[39m(s)}\u001b[33m,\u001b[39mrequestTransaction(s){\u001b[36mlet\u001b[39m a\u001b[33m=\u001b[39mo(s)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m a\u001b[33m.\u001b[39mrequestTransaction\u001b[33m?\u001b[39ma\u001b[33m.\u001b[39mrequestTransaction(s)\u001b[33m:\u001b[39ma}\u001b[33m,\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag]\u001b[33m:\u001b[39m\u001b[32m\"PrismaPromise\"\u001b[39m}}}\u001b[36mfunction\u001b[39m \u001b[33mHl\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mthen\u001b[33m==\u001b[39m\u001b[32m\"function\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39m\u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mresolve(e)}\u001b[36mvar\u001b[39m \u001b[33mTf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mEi\u001b[39m\u001b[33m.\u001b[39msplit(\u001b[32m\".\"\u001b[39m)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mSf\u001b[39m\u001b[33m=\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m}\u001b[33m,\u001b[39mgetTraceParent(){\u001b[36mreturn\u001b[39m\u001b[32m\"00-10-10-00\"\u001b[39m}\u001b[33m,\u001b[39mdispatchEngineSpans(){}\u001b[33m,\u001b[39mgetActiveContext(){}\u001b[33m,\u001b[39mrunInChildSpan(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m r()}}\u001b[33m,\u001b[39m\u001b[33mIo\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39misEnabled()}getTraceParent(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetTraceParent(r)}dispatchEngineSpans(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mdispatchEngineSpans(r)}getActiveContext(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetActiveContext()}runInChildSpan(r\u001b[33m,\u001b[39mt){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mrunInChildSpan(r\u001b[33m,\u001b[39mt)}getGlobalTracingHelper(){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39mglobalThis[\u001b[32m`V${Tf}_PRISMA_INSTRUMENTATION`\u001b[39m]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39mglobalThis\u001b[33m.\u001b[39m\u001b[33mPRISMA_INSTRUMENTATION\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33mSf\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKl\u001b[39m(){\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mIo\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mYl\u001b[39m(e\u001b[33m,\u001b[39mr\u001b[33m=\u001b[39m()\u001b[33m=>\u001b[39m{}){\u001b[36mlet\u001b[39m t\u001b[33m,\u001b[39mn\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m(i\u001b[33m=>\u001b[39mt\u001b[33m=\u001b[39mi)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{then(i){\u001b[36mreturn\u001b[39m\u001b[33m--\u001b[39me\u001b[33m===\u001b[39m\u001b[35m0\u001b[39m\u001b[33m&&\u001b[39mt(r())\u001b[33m,\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m.\u001b[39m(n)}}}\u001b[36mfunction\u001b[39m zl(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mreduce((r\u001b[33m,\u001b[39mt)\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[36mtypeof\u001b[39m t\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mlevel\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m===\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m?\u001b[39mr\u001b[33m:\u001b[39mr\u001b[33m&&\u001b[39m(t\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m||\u001b[39mr\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m)\u001b[33m?\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m:\u001b[39mn}\u001b[33m,\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mHn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{_middlewares\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39muse(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mpush(r)}\u001b[36mget\u001b[39m(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}has(r){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[33m!\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}length(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mlength}}\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mXl\u001b[39m\u001b[33m=\u001b[39mk(\u001b[33mOi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKn\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m==\u001b[39m\u001b[32m\"number\"\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mZl\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUnique\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUniqueOrThrow\"\u001b[39m)\u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mmodelName\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(e\u001b[33m.\u001b[39mmodelName)\u001b[33m,\u001b[39me\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39mselection))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mjoin(\u001b[32m\"\"\u001b[39m)}\u001b[36mfunction\u001b[39m ko(e){\u001b[36mreturn\u001b[39m\u001b[32m`(${Object.keys(e).sort().map(t=>{let n=e[t];return typeof n==\"object\"&&n!==null?`(${t} ${ko(n)})`:t}).join(\" \")})`\u001b[39m}\u001b[36mvar\u001b[39m \u001b[33mRf\u001b[39m\u001b[33m=\u001b[39m{aggregate\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39maggregateRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mcreateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mexecuteRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mfindFirst\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindFirstOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUnique\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUniqueOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mgroupBy\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mqueryRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mrunCommandRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupsertOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mOo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[33mRf\u001b[39m[e]}\u001b[36mvar\u001b[39m \u001b[33mYn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{constructor(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches\u001b[33m=\u001b[39m{}}batches\u001b[33m;\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m;\u001b[39mrequest(r){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchBy(r)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m t\u001b[33m?\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mprocess\u001b[33m.\u001b[39mnextTick(()\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdispatchBatches()\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m})))\u001b[33m,\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m.\u001b[39mpush({request\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mresolve\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mreject\u001b[33m:\u001b[39mi})}))\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(r)}dispatchBatches(){\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m r \u001b[36min\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m;\u001b[39m\u001b[36mdelete\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m,\u001b[39mt\u001b[33m.\u001b[39mlength\u001b[33m===\u001b[39m\u001b[35m1\u001b[39m\u001b[33m?\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mrequest)\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)\u001b[33m:\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mresolve(n)})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)})\u001b[33m:\u001b[39m(t\u001b[33m.\u001b[39msort((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchOrder(n\u001b[33m.\u001b[39mrequest\u001b[33m,\u001b[39mi\u001b[33m.\u001b[39mrequest))\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchLoader(t\u001b[33m.\u001b[39mmap(n\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mrequest))\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m o\u001b[33m=\u001b[39mn[i]\u001b[33m;\u001b[39mo \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[i]\u001b[33m.\u001b[39mreject(o)\u001b[33m:\u001b[39mt[i]\u001b[33m.\u001b[39mresolve(o)}})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)}))}}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"DataLoader\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m mr(e\u001b[33m,\u001b[39mr){\u001b[36mif\u001b[39m(r\u001b[33m===\u001b[39m\u001b[36mnull\u001b[39m)\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mswitch\u001b[39m(e){\u001b[36mcase\u001b[39m\u001b[32m\"bigint\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[33mBigInt\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes\"\u001b[39m\u001b[33m:\u001b[39m{\u001b[36mlet\u001b[39m{buffer\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mbyteOffset\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mbyteLength\u001b[33m:\u001b[39mi}\u001b[33m=\u001b[39m\u001b[33mBuffer\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m(r\u001b[33m,\u001b[39m\u001b[32m\"base64\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mUint8Array\u001b[39m(t\u001b[33m,\u001b[39mn\u001b[33m,\u001b[39mi)}\u001b[36mcase\u001b[39m\u001b[32m\"decimal\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mPe\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(\u001b[32m`1970-01-01T${r}Z`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bigint-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bigint\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bytes\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"decimal-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"decimal\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"datetime\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"date\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"time\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r}}\u001b[36mfunction\u001b[39m zn(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39m\u001b[33mCf\u001b[39m(e)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mn\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mrows\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mn\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mrows[n]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m{\u001b[33m...\u001b[39mt}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m s\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39ms\u001b[33m<\u001b[39m\u001b[33mi\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39ms\u001b[33m++\u001b[39m)o[e\u001b[33m.\u001b[39mcolumns[s]]\u001b[33m=\u001b[39mmr(e\u001b[33m.\u001b[39mtypes[s]\u001b[33m,\u001b[39mi[s])\u001b[33m;\u001b[39mr\u001b[33m.\u001b[39mpush(o)}\u001b[36mreturn\u001b[39m r}\u001b[36mfunction\u001b[39m \u001b[33mCf\u001b[39m(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m{}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mt\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mcolumns\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mt\u001b[33m++\u001b[39m)r[e\u001b[33m.\u001b[39mcolumns[t]]\u001b[33m=\u001b[39m\u001b[36mnull\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r}\u001b[36mvar\u001b[39m \u001b[33mAf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mN\u001b[39m(\u001b[32m\"prisma:client:request_handler\"\u001b[39m)\u001b[33m,\u001b[39m\u001b[33mZn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{client\u001b[33m;\u001b[39mdataloader\u001b[33m;\u001b[39mlogEmitter\u001b[33m;\u001b[39mconstructor(r\u001b[33m,\u001b[39mt){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m=\u001b[39mt\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m=\u001b[39mr\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mYn\u001b[39m({batchLoader\u001b[33m:\u001b[39mol(\u001b[36masync\u001b[39m({requests\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi})\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m{transaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39motelParentCtx\u001b[33m:\u001b[39ms}\u001b[33m=\u001b[39mn[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mmap(p\u001b[33m=>\u001b[39mp\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent(s)\u001b[33m,\u001b[39mu\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39msome(p\u001b[33m=>\u001b[39m\u001b[33mOo\u001b[39m(p\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction))\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m(\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequestBatch(a\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39ml\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39m\u001b[33mIf\u001b[39m(o)\u001b[33m,\u001b[39mcontainsWrite\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi}))\u001b[33m.\u001b[39mmap((p\u001b[33m,\u001b[39md)\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(p \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mreturn\u001b[39m p\u001b[33m;\u001b[39m\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n[d]\u001b[33m,\u001b[39mp)}\u001b[36mcatch\u001b[39m(f){\u001b[36mreturn\u001b[39m f}})})\u001b[33m,\u001b[39msingleLoader\u001b[33m:\u001b[39m\u001b[36masync\u001b[39m n\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39meu(n\u001b[33m.\u001b[39mtransaction)\u001b[33m:\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequest(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent()\u001b[33m,\u001b[39minteractiveTransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39misWrite\u001b[33m:\u001b[39m\u001b[33mOo\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction)\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mn\u001b[33m.\u001b[39mcustomDataProxyFetch})\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n\u001b[33m,\u001b[39mo)}\u001b[33m,\u001b[39mbatchBy\u001b[33m:\u001b[39mn\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mid\u001b[33m?\u001b[39m\u001b[32m`transaction-${n.transaction.id}`\u001b[39m\u001b[33m:\u001b[39m\u001b[33mZl\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39mbatchOrder(n\u001b[33m,\u001b[39mi){\u001b[36mreturn\u001b[39m n\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m?\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m-\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m:\u001b[39m\u001b[35m0\u001b[39m}})}\u001b[36masync\u001b[39m request(r){\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m.\u001b[39mrequest(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mlet\u001b[39m{clientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma}\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleAndLogRequestError({error\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mglobalOmit})}}mapQueryEngineResult({dataPath\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39munpacker\u001b[33m:\u001b[39mt}\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mdata\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39munpack(i\u001b[33m,\u001b[39mr\u001b[33m,\u001b[39mt)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mPRISMA_CLIENT_GET_TIME\u001b[39m\u001b[33m?\u001b[39m{data\u001b[33m:\u001b[39mo}\u001b[33m:\u001b[39mo}handleAndLogRequestError(r){\u001b[36mtry\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleRequestError(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mthrow\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m.\u001b[39memit(\u001b[32m\"error\"\u001b[39m\u001b[33m,\u001b[39m{message\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mmessage\u001b[33m,\u001b[39mtarget\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mclientMethod\u001b[33m,\u001b[39mtimestamp\u001b[33m:\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m})\u001b[33m,\u001b[39mt}}handleRequestError({error\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma}){\u001b[36mif\u001b[39m(\u001b[33mAf\u001b[39m(r)\u001b[33m,\u001b[39mkf(r\u001b[33m,\u001b[39mi))\u001b[36mthrow\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m z\u001b[33m&&\u001b[39m\u001b[33mOf\u001b[39m(r)){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39mru(r\u001b[33m.\u001b[39mmeta)\u001b[33m;\u001b[39mkn({args\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39m[u]\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39merrorFormat\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma})}\u001b[36mlet\u001b[39m l\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mmessage\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m(l\u001b[33m=\u001b[39mwn({callsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39misPanic\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39misPanic\u001b[33m,\u001b[39mshowColors\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m===\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39mmessage\u001b[33m:\u001b[39ml}))\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39msanitizeMessage(l)\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mcode){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39ms\u001b[33m?\u001b[39m{modelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr\u001b[33m.\u001b[39mmeta}\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mmeta\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m z(l\u001b[33m,\u001b[39m{code\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mcode\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mmeta\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})}\u001b[36melse\u001b[39m{\u001b[36mif\u001b[39m(r\u001b[33m.\u001b[39misPanic)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m j)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m j(l\u001b[33m,\u001b[39m{clientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m \u001b[33mT\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mT\u001b[39m(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m le)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)}\u001b[36mthrow\u001b[39m r\u001b[33m.\u001b[39mclientVersion\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mr}sanitizeMessage(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m!==\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m?\u001b[39m(\u001b[35m0\u001b[39m\u001b[33m,\u001b[39m\u001b[33mXl\u001b[39m\u001b[33m.\u001b[39m\u001b[36mdefault\u001b[39m)(r)\u001b[33m:\u001b[39mr}unpack(r\u001b[33m,\u001b[39mt\u001b[33m,\u001b[39mn){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m||\u001b[39m(r\u001b[33m.\u001b[39mdata\u001b[33m&&\u001b[39m(r\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mdata)\u001b[33m,\u001b[39m\u001b[33m!\u001b[39mr))\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mvalues(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ms\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mfilter(u\u001b[33m=>\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"select\"\u001b[39m\u001b[33m&&\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"include\"\u001b[39m)\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mio(o\u001b[33m,\u001b[39ms)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39mi\u001b[33m===\u001b[39m\u001b[32m\"queryRaw\"\u001b[39m\u001b[33m?\u001b[39mzn(a)\u001b[33m:\u001b[39m\u001b[33mTr\u001b[39m(a)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m?\u001b[39mn(l)\u001b[33m:\u001b[39ml}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"RequestHandler\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mIf\u001b[39m(e){\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39m{isolationLevel\u001b[33m:\u001b[39me\u001b[33m.\u001b[39misolationLevel}}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39meu(e)}\u001b[33m;\u001b[39m_e(e\u001b[33m,\u001b[39m\u001b[32m\"Unknown transaction kind\"\u001b[39m)}}\u001b[36mfunction\u001b[39m eu(e){\u001b[36mreturn\u001b[39m{id\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39mpayload\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mpayload}}\u001b[36mfunction\u001b[39m kf(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m \u001b[33mKn\u001b[39m(e)\u001b[33m&&\u001b[39mr\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m!==\u001b[39mr\u001b[33m.\u001b[39mindex}\u001b[36mfunction\u001b[39m \u001b[33mOf\u001b[39m(e){\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2009\"\u001b[39m\u001b[33m||\u001b[39me\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2012\"\u001b[39m}\u001b[36mfunction\u001b[39m ru(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"Union\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"Union\"\u001b[39m\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39me\u001b[33m.\u001b[39merrors\u001b[33m.\u001b[39mmap(ru)}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e\u001b[33m.\u001b[39mselectionPath)){\u001b[36mlet\u001b[39m[\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr]\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mselectionPath\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[33m...\u001b[39me\u001b[33m,\u001b[39mselectionPath\u001b[33m:\u001b[39mr}}\u001b[36mreturn\u001b[39m e}\u001b[36mvar\u001b[39m tu\u001b[33m=\u001b[39m\u001b[33mSl\u001b[39m\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m au\u001b[33m=\u001b[39mk(\u001b[33mQi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mD\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mError\u001b[39m{constructor(r){\u001b[36msuper\u001b[39m(r\u001b[33m+\u001b[39m\u001b[32m`\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 125 |\u001b[39m \u001b[32mRead more at https://pris.ly/d/client-constructor`\u001b[39m)\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mname\u001b[33m=\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}}\u001b[33m;\u001b[39mx(\u001b[33mD\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m nu\u001b[33m=\u001b[39m[\u001b[32m\"datasources\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"datasourceUrl\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"errorFormat\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"adapter\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"log\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"transactionOptions\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"omit\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"__internal\"\u001b[39m]\u001b[33m,\u001b[39miu\u001b[33m=\u001b[39m[\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"colorless\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"minimal\"\u001b[39m]\u001b[33m,\u001b[39mou\u001b[33m=\u001b[39m[\u001b[32m\"info\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"warn\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"error\"\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mDf\u001b[39m\u001b[33m=\u001b[39m{datasources\u001b[33m:\u001b[39m(e\u001b[33m,\u001b[39m{datasourceNames\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m e\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for \"datasources\" provided to PrismaClient constructor`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[t\u001b[33m,\u001b[39mn]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(e)){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m.\u001b[39mincludes(t)){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mWr\u001b[39m(t\u001b[33m,\u001b[39mr)\u001b[33m||\u001b[39m\u001b[32m` Available datasources: ${r.join(\", \")}`\u001b[39m\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Unknown datasource ${t} provided to PrismaClient constructor.${i}`\u001b[39m)}\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m n\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(n))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 126 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m\u001b[36mtypeof\u001b[39m n\u001b[33m==\u001b[39m\u001b[32m\"object\"\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[i\u001b[33m,\u001b[39mo]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(n)){\u001b[36mif\u001b[39m(i\u001b[33m!==\u001b[39m\u001b[32m\"url\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 127 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m o\u001b[33m!=\u001b[39m\u001b[32m\"string\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(o)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:7649)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError [as handleAndLogRequestError] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6784)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleAndLogRequestError [as request] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6491)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat l (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:133:9778)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/sso-auth-flow.test.ts\u001b[39m\u001b[0m\u001b[2m:51:5)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mSSO Authentication Flow Testing - Phase 2.3 › Security Validation › should validate token encryption at rest\u001b[39m\u001b[22m\n\n    PrismaClientUnknownRequestError: \n    Invalid `prisma.apiConnection.deleteMany()` invocation in\n    /Users/connorbowen/apiq-mvp/tests/integration/api/sso-auth-flow.test.ts:41:32\n\n      38     }\n      39   }\n      40 });\n    → 41 await prisma.apiConnection.deleteMany(\n    Error occurred during query execution:\n    ConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28323 waits for ShareLock on transaction 54242; blocked by process 28465.\\nProcess 28465 waits for ShareLock on transaction 54235; blocked by process 28463.\\nProcess 28463 waits for AccessExclusiveLock on tuple (0,31) of relation 33235 of database 21992; blocked by process 28323.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 122 |\u001b[39m \u001b[32m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 123 |\u001b[39m \u001b[32mMore Information: https://pris.ly/d/execute-raw\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 124 |\u001b[39m \u001b[32m`\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mCo\u001b[39m\u001b[33m=\u001b[39m({clientMethod\u001b[33m:\u001b[39me\u001b[33m,\u001b[39mactiveProvider\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39mt\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[32m\"\"\u001b[39m\u001b[33m,\u001b[39mi\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mFn\u001b[39m(t))n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(t)){\u001b[36mlet\u001b[39m[o\u001b[33m,\u001b[39m\u001b[33m...\u001b[39ms]\u001b[33m=\u001b[39mt\u001b[33m;\u001b[39mn\u001b[33m=\u001b[39mo\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(s\u001b[33m||\u001b[39m[])\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}}\u001b[36melse\u001b[39m \u001b[36mswitch\u001b[39m(r){\u001b[36mcase\u001b[39m\u001b[32m\"sqlite\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"mysql\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"cockroachdb\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgresql\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgres\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mtext\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"sqlserver\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mjl(t)\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`The ${r} provider does not support ${e}`\u001b[39m)}\u001b[36mreturn\u001b[39m i\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mvalues\u001b[33m?\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n}, ${i.values})`\u001b[39m)\u001b[33m:\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n})`\u001b[39m)\u001b[33m,\u001b[39m{query\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mparameters\u001b[33m:\u001b[39mi}}\u001b[33m,\u001b[39m\u001b[33mWl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e\u001b[33m.\u001b[39mstrings\u001b[33m,\u001b[39m\u001b[33m...\u001b[39me\u001b[33m.\u001b[39mvalues]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mlet\u001b[39m[r\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mt]\u001b[33m=\u001b[39me\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m oe(r\u001b[33m,\u001b[39mt)}}\u001b[33m,\u001b[39m\u001b[33mJl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mreturn\u001b[39m e[\u001b[35m0\u001b[39m]}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mAo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mfunction\u001b[39m(t\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m(s\u001b[33m=\u001b[39me)\u001b[33m=>\u001b[39m{\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m s\u001b[33m===\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m||\u001b[39ms\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33m=\u001b[39m\u001b[33mHl\u001b[39m(t(s))\u001b[33m:\u001b[39m\u001b[33mHl\u001b[39m(t(s))}\u001b[36mcatch\u001b[39m(a){\u001b[36mreturn\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mreject(a)}}\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[36mget\u001b[39m spec(){\u001b[36mreturn\u001b[39m n}\u001b[33m,\u001b[39mthen(s\u001b[33m,\u001b[39ma){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39mthen(s\u001b[33m,\u001b[39ma)}\u001b[33m,\u001b[39m\u001b[36mcatch\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(s)}\u001b[33m,\u001b[39m\u001b[36mfinally\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mfinally\u001b[39m(s)}\u001b[33m,\u001b[39mrequestTransaction(s){\u001b[36mlet\u001b[39m a\u001b[33m=\u001b[39mo(s)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m a\u001b[33m.\u001b[39mrequestTransaction\u001b[33m?\u001b[39ma\u001b[33m.\u001b[39mrequestTransaction(s)\u001b[33m:\u001b[39ma}\u001b[33m,\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag]\u001b[33m:\u001b[39m\u001b[32m\"PrismaPromise\"\u001b[39m}}}\u001b[36mfunction\u001b[39m \u001b[33mHl\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mthen\u001b[33m==\u001b[39m\u001b[32m\"function\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39m\u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mresolve(e)}\u001b[36mvar\u001b[39m \u001b[33mTf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mEi\u001b[39m\u001b[33m.\u001b[39msplit(\u001b[32m\".\"\u001b[39m)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mSf\u001b[39m\u001b[33m=\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m}\u001b[33m,\u001b[39mgetTraceParent(){\u001b[36mreturn\u001b[39m\u001b[32m\"00-10-10-00\"\u001b[39m}\u001b[33m,\u001b[39mdispatchEngineSpans(){}\u001b[33m,\u001b[39mgetActiveContext(){}\u001b[33m,\u001b[39mrunInChildSpan(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m r()}}\u001b[33m,\u001b[39m\u001b[33mIo\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39misEnabled()}getTraceParent(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetTraceParent(r)}dispatchEngineSpans(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mdispatchEngineSpans(r)}getActiveContext(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetActiveContext()}runInChildSpan(r\u001b[33m,\u001b[39mt){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mrunInChildSpan(r\u001b[33m,\u001b[39mt)}getGlobalTracingHelper(){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39mglobalThis[\u001b[32m`V${Tf}_PRISMA_INSTRUMENTATION`\u001b[39m]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39mglobalThis\u001b[33m.\u001b[39m\u001b[33mPRISMA_INSTRUMENTATION\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33mSf\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKl\u001b[39m(){\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mIo\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mYl\u001b[39m(e\u001b[33m,\u001b[39mr\u001b[33m=\u001b[39m()\u001b[33m=>\u001b[39m{}){\u001b[36mlet\u001b[39m t\u001b[33m,\u001b[39mn\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m(i\u001b[33m=>\u001b[39mt\u001b[33m=\u001b[39mi)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{then(i){\u001b[36mreturn\u001b[39m\u001b[33m--\u001b[39me\u001b[33m===\u001b[39m\u001b[35m0\u001b[39m\u001b[33m&&\u001b[39mt(r())\u001b[33m,\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m.\u001b[39m(n)}}}\u001b[36mfunction\u001b[39m zl(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mreduce((r\u001b[33m,\u001b[39mt)\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[36mtypeof\u001b[39m t\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mlevel\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m===\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m?\u001b[39mr\u001b[33m:\u001b[39mr\u001b[33m&&\u001b[39m(t\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m||\u001b[39mr\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m)\u001b[33m?\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m:\u001b[39mn}\u001b[33m,\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mHn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{_middlewares\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39muse(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mpush(r)}\u001b[36mget\u001b[39m(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}has(r){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[33m!\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}length(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mlength}}\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mXl\u001b[39m\u001b[33m=\u001b[39mk(\u001b[33mOi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKn\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m==\u001b[39m\u001b[32m\"number\"\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mZl\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUnique\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUniqueOrThrow\"\u001b[39m)\u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mmodelName\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(e\u001b[33m.\u001b[39mmodelName)\u001b[33m,\u001b[39me\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39mselection))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mjoin(\u001b[32m\"\"\u001b[39m)}\u001b[36mfunction\u001b[39m ko(e){\u001b[36mreturn\u001b[39m\u001b[32m`(${Object.keys(e).sort().map(t=>{let n=e[t];return typeof n==\"object\"&&n!==null?`(${t} ${ko(n)})`:t}).join(\" \")})`\u001b[39m}\u001b[36mvar\u001b[39m \u001b[33mRf\u001b[39m\u001b[33m=\u001b[39m{aggregate\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39maggregateRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mcreateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mexecuteRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mfindFirst\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindFirstOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUnique\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUniqueOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mgroupBy\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mqueryRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mrunCommandRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupsertOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mOo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[33mRf\u001b[39m[e]}\u001b[36mvar\u001b[39m \u001b[33mYn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{constructor(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches\u001b[33m=\u001b[39m{}}batches\u001b[33m;\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m;\u001b[39mrequest(r){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchBy(r)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m t\u001b[33m?\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mprocess\u001b[33m.\u001b[39mnextTick(()\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdispatchBatches()\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m})))\u001b[33m,\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m.\u001b[39mpush({request\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mresolve\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mreject\u001b[33m:\u001b[39mi})}))\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(r)}dispatchBatches(){\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m r \u001b[36min\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m;\u001b[39m\u001b[36mdelete\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m,\u001b[39mt\u001b[33m.\u001b[39mlength\u001b[33m===\u001b[39m\u001b[35m1\u001b[39m\u001b[33m?\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mrequest)\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)\u001b[33m:\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mresolve(n)})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)})\u001b[33m:\u001b[39m(t\u001b[33m.\u001b[39msort((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchOrder(n\u001b[33m.\u001b[39mrequest\u001b[33m,\u001b[39mi\u001b[33m.\u001b[39mrequest))\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchLoader(t\u001b[33m.\u001b[39mmap(n\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mrequest))\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m o\u001b[33m=\u001b[39mn[i]\u001b[33m;\u001b[39mo \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[i]\u001b[33m.\u001b[39mreject(o)\u001b[33m:\u001b[39mt[i]\u001b[33m.\u001b[39mresolve(o)}})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)}))}}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"DataLoader\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m mr(e\u001b[33m,\u001b[39mr){\u001b[36mif\u001b[39m(r\u001b[33m===\u001b[39m\u001b[36mnull\u001b[39m)\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mswitch\u001b[39m(e){\u001b[36mcase\u001b[39m\u001b[32m\"bigint\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[33mBigInt\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes\"\u001b[39m\u001b[33m:\u001b[39m{\u001b[36mlet\u001b[39m{buffer\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mbyteOffset\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mbyteLength\u001b[33m:\u001b[39mi}\u001b[33m=\u001b[39m\u001b[33mBuffer\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m(r\u001b[33m,\u001b[39m\u001b[32m\"base64\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mUint8Array\u001b[39m(t\u001b[33m,\u001b[39mn\u001b[33m,\u001b[39mi)}\u001b[36mcase\u001b[39m\u001b[32m\"decimal\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mPe\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(\u001b[32m`1970-01-01T${r}Z`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bigint-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bigint\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bytes\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"decimal-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"decimal\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"datetime\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"date\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"time\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r}}\u001b[36mfunction\u001b[39m zn(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39m\u001b[33mCf\u001b[39m(e)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mn\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mrows\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mn\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mrows[n]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m{\u001b[33m...\u001b[39mt}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m s\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39ms\u001b[33m<\u001b[39m\u001b[33mi\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39ms\u001b[33m++\u001b[39m)o[e\u001b[33m.\u001b[39mcolumns[s]]\u001b[33m=\u001b[39mmr(e\u001b[33m.\u001b[39mtypes[s]\u001b[33m,\u001b[39mi[s])\u001b[33m;\u001b[39mr\u001b[33m.\u001b[39mpush(o)}\u001b[36mreturn\u001b[39m r}\u001b[36mfunction\u001b[39m \u001b[33mCf\u001b[39m(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m{}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mt\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mcolumns\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mt\u001b[33m++\u001b[39m)r[e\u001b[33m.\u001b[39mcolumns[t]]\u001b[33m=\u001b[39m\u001b[36mnull\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r}\u001b[36mvar\u001b[39m \u001b[33mAf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mN\u001b[39m(\u001b[32m\"prisma:client:request_handler\"\u001b[39m)\u001b[33m,\u001b[39m\u001b[33mZn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{client\u001b[33m;\u001b[39mdataloader\u001b[33m;\u001b[39mlogEmitter\u001b[33m;\u001b[39mconstructor(r\u001b[33m,\u001b[39mt){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m=\u001b[39mt\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m=\u001b[39mr\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mYn\u001b[39m({batchLoader\u001b[33m:\u001b[39mol(\u001b[36masync\u001b[39m({requests\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi})\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m{transaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39motelParentCtx\u001b[33m:\u001b[39ms}\u001b[33m=\u001b[39mn[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mmap(p\u001b[33m=>\u001b[39mp\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent(s)\u001b[33m,\u001b[39mu\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39msome(p\u001b[33m=>\u001b[39m\u001b[33mOo\u001b[39m(p\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction))\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m(\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequestBatch(a\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39ml\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39m\u001b[33mIf\u001b[39m(o)\u001b[33m,\u001b[39mcontainsWrite\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi}))\u001b[33m.\u001b[39mmap((p\u001b[33m,\u001b[39md)\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(p \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mreturn\u001b[39m p\u001b[33m;\u001b[39m\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n[d]\u001b[33m,\u001b[39mp)}\u001b[36mcatch\u001b[39m(f){\u001b[36mreturn\u001b[39m f}})})\u001b[33m,\u001b[39msingleLoader\u001b[33m:\u001b[39m\u001b[36masync\u001b[39m n\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39meu(n\u001b[33m.\u001b[39mtransaction)\u001b[33m:\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequest(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent()\u001b[33m,\u001b[39minteractiveTransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39misWrite\u001b[33m:\u001b[39m\u001b[33mOo\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction)\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mn\u001b[33m.\u001b[39mcustomDataProxyFetch})\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n\u001b[33m,\u001b[39mo)}\u001b[33m,\u001b[39mbatchBy\u001b[33m:\u001b[39mn\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mid\u001b[33m?\u001b[39m\u001b[32m`transaction-${n.transaction.id}`\u001b[39m\u001b[33m:\u001b[39m\u001b[33mZl\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39mbatchOrder(n\u001b[33m,\u001b[39mi){\u001b[36mreturn\u001b[39m n\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m?\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m-\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m:\u001b[39m\u001b[35m0\u001b[39m}})}\u001b[36masync\u001b[39m request(r){\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m.\u001b[39mrequest(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mlet\u001b[39m{clientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma}\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleAndLogRequestError({error\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mglobalOmit})}}mapQueryEngineResult({dataPath\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39munpacker\u001b[33m:\u001b[39mt}\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mdata\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39munpack(i\u001b[33m,\u001b[39mr\u001b[33m,\u001b[39mt)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mPRISMA_CLIENT_GET_TIME\u001b[39m\u001b[33m?\u001b[39m{data\u001b[33m:\u001b[39mo}\u001b[33m:\u001b[39mo}handleAndLogRequestError(r){\u001b[36mtry\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleRequestError(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mthrow\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m.\u001b[39memit(\u001b[32m\"error\"\u001b[39m\u001b[33m,\u001b[39m{message\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mmessage\u001b[33m,\u001b[39mtarget\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mclientMethod\u001b[33m,\u001b[39mtimestamp\u001b[33m:\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m})\u001b[33m,\u001b[39mt}}handleRequestError({error\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma}){\u001b[36mif\u001b[39m(\u001b[33mAf\u001b[39m(r)\u001b[33m,\u001b[39mkf(r\u001b[33m,\u001b[39mi))\u001b[36mthrow\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m z\u001b[33m&&\u001b[39m\u001b[33mOf\u001b[39m(r)){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39mru(r\u001b[33m.\u001b[39mmeta)\u001b[33m;\u001b[39mkn({args\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39m[u]\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39merrorFormat\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma})}\u001b[36mlet\u001b[39m l\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mmessage\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m(l\u001b[33m=\u001b[39mwn({callsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39misPanic\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39misPanic\u001b[33m,\u001b[39mshowColors\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m===\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39mmessage\u001b[33m:\u001b[39ml}))\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39msanitizeMessage(l)\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mcode){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39ms\u001b[33m?\u001b[39m{modelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr\u001b[33m.\u001b[39mmeta}\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mmeta\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m z(l\u001b[33m,\u001b[39m{code\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mcode\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mmeta\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})}\u001b[36melse\u001b[39m{\u001b[36mif\u001b[39m(r\u001b[33m.\u001b[39misPanic)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m j)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m j(l\u001b[33m,\u001b[39m{clientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m \u001b[33mT\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mT\u001b[39m(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m le)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)}\u001b[36mthrow\u001b[39m r\u001b[33m.\u001b[39mclientVersion\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mr}sanitizeMessage(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m!==\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m?\u001b[39m(\u001b[35m0\u001b[39m\u001b[33m,\u001b[39m\u001b[33mXl\u001b[39m\u001b[33m.\u001b[39m\u001b[36mdefault\u001b[39m)(r)\u001b[33m:\u001b[39mr}unpack(r\u001b[33m,\u001b[39mt\u001b[33m,\u001b[39mn){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m||\u001b[39m(r\u001b[33m.\u001b[39mdata\u001b[33m&&\u001b[39m(r\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mdata)\u001b[33m,\u001b[39m\u001b[33m!\u001b[39mr))\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mvalues(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ms\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mfilter(u\u001b[33m=>\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"select\"\u001b[39m\u001b[33m&&\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"include\"\u001b[39m)\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mio(o\u001b[33m,\u001b[39ms)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39mi\u001b[33m===\u001b[39m\u001b[32m\"queryRaw\"\u001b[39m\u001b[33m?\u001b[39mzn(a)\u001b[33m:\u001b[39m\u001b[33mTr\u001b[39m(a)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m?\u001b[39mn(l)\u001b[33m:\u001b[39ml}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"RequestHandler\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mIf\u001b[39m(e){\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39m{isolationLevel\u001b[33m:\u001b[39me\u001b[33m.\u001b[39misolationLevel}}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39meu(e)}\u001b[33m;\u001b[39m_e(e\u001b[33m,\u001b[39m\u001b[32m\"Unknown transaction kind\"\u001b[39m)}}\u001b[36mfunction\u001b[39m eu(e){\u001b[36mreturn\u001b[39m{id\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39mpayload\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mpayload}}\u001b[36mfunction\u001b[39m kf(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m \u001b[33mKn\u001b[39m(e)\u001b[33m&&\u001b[39mr\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m!==\u001b[39mr\u001b[33m.\u001b[39mindex}\u001b[36mfunction\u001b[39m \u001b[33mOf\u001b[39m(e){\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2009\"\u001b[39m\u001b[33m||\u001b[39me\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2012\"\u001b[39m}\u001b[36mfunction\u001b[39m ru(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"Union\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"Union\"\u001b[39m\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39me\u001b[33m.\u001b[39merrors\u001b[33m.\u001b[39mmap(ru)}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e\u001b[33m.\u001b[39mselectionPath)){\u001b[36mlet\u001b[39m[\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr]\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mselectionPath\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[33m...\u001b[39me\u001b[33m,\u001b[39mselectionPath\u001b[33m:\u001b[39mr}}\u001b[36mreturn\u001b[39m e}\u001b[36mvar\u001b[39m tu\u001b[33m=\u001b[39m\u001b[33mSl\u001b[39m\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m au\u001b[33m=\u001b[39mk(\u001b[33mQi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mD\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mError\u001b[39m{constructor(r){\u001b[36msuper\u001b[39m(r\u001b[33m+\u001b[39m\u001b[32m`\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 125 |\u001b[39m \u001b[32mRead more at https://pris.ly/d/client-constructor`\u001b[39m)\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mname\u001b[33m=\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}}\u001b[33m;\u001b[39mx(\u001b[33mD\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m nu\u001b[33m=\u001b[39m[\u001b[32m\"datasources\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"datasourceUrl\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"errorFormat\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"adapter\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"log\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"transactionOptions\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"omit\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"__internal\"\u001b[39m]\u001b[33m,\u001b[39miu\u001b[33m=\u001b[39m[\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"colorless\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"minimal\"\u001b[39m]\u001b[33m,\u001b[39mou\u001b[33m=\u001b[39m[\u001b[32m\"info\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"warn\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"error\"\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mDf\u001b[39m\u001b[33m=\u001b[39m{datasources\u001b[33m:\u001b[39m(e\u001b[33m,\u001b[39m{datasourceNames\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m e\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for \"datasources\" provided to PrismaClient constructor`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[t\u001b[33m,\u001b[39mn]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(e)){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m.\u001b[39mincludes(t)){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mWr\u001b[39m(t\u001b[33m,\u001b[39mr)\u001b[33m||\u001b[39m\u001b[32m` Available datasources: ${r.join(\", \")}`\u001b[39m\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Unknown datasource ${t} provided to PrismaClient constructor.${i}`\u001b[39m)}\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m n\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(n))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 126 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m\u001b[36mtypeof\u001b[39m n\u001b[33m==\u001b[39m\u001b[32m\"object\"\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[i\u001b[33m,\u001b[39mo]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(n)){\u001b[36mif\u001b[39m(i\u001b[33m!==\u001b[39m\u001b[32m\"url\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 127 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m o\u001b[33m!=\u001b[39m\u001b[32m\"string\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(o)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:7649)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError [as handleAndLogRequestError] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6784)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleAndLogRequestError [as request] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6491)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat l (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:133:9778)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/sso-auth-flow.test.ts\u001b[39m\u001b[0m\u001b[2m:41:5)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mSSO Authentication Flow Testing - Phase 2.3 › User Experience Flow › should provide clear provider selection UI\u001b[39m\u001b[22m\n\n    PrismaClientUnknownRequestError: \n    Invalid `prisma.user.deleteMany()` invocation in\n    /Users/connorbowen/apiq-mvp/tests/integration/api/sso-auth-flow.test.ts:51:23\n\n      48     }\n      49   }\n      50 });\n    → 51 await prisma.user.deleteMany(\n    Error occurred during query execution:\n    ConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28323 waits for AccessExclusiveLock on tuple (4,7) of relation 33225 of database 21992; blocked by process 28465.\\nProcess 28465 waits for ShareLock on transaction 54244; blocked by process 28469.\\nProcess 28469 waits for ShareLock on transaction 54248; blocked by process 28323.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 122 |\u001b[39m \u001b[32m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 123 |\u001b[39m \u001b[32mMore Information: https://pris.ly/d/execute-raw\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 124 |\u001b[39m \u001b[32m`\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mCo\u001b[39m\u001b[33m=\u001b[39m({clientMethod\u001b[33m:\u001b[39me\u001b[33m,\u001b[39mactiveProvider\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39mt\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[32m\"\"\u001b[39m\u001b[33m,\u001b[39mi\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mFn\u001b[39m(t))n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(t)){\u001b[36mlet\u001b[39m[o\u001b[33m,\u001b[39m\u001b[33m...\u001b[39ms]\u001b[33m=\u001b[39mt\u001b[33m;\u001b[39mn\u001b[33m=\u001b[39mo\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(s\u001b[33m||\u001b[39m[])\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}}\u001b[36melse\u001b[39m \u001b[36mswitch\u001b[39m(r){\u001b[36mcase\u001b[39m\u001b[32m\"sqlite\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"mysql\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"cockroachdb\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgresql\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgres\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mtext\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"sqlserver\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mjl(t)\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`The ${r} provider does not support ${e}`\u001b[39m)}\u001b[36mreturn\u001b[39m i\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mvalues\u001b[33m?\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n}, ${i.values})`\u001b[39m)\u001b[33m:\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n})`\u001b[39m)\u001b[33m,\u001b[39m{query\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mparameters\u001b[33m:\u001b[39mi}}\u001b[33m,\u001b[39m\u001b[33mWl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e\u001b[33m.\u001b[39mstrings\u001b[33m,\u001b[39m\u001b[33m...\u001b[39me\u001b[33m.\u001b[39mvalues]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mlet\u001b[39m[r\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mt]\u001b[33m=\u001b[39me\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m oe(r\u001b[33m,\u001b[39mt)}}\u001b[33m,\u001b[39m\u001b[33mJl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mreturn\u001b[39m e[\u001b[35m0\u001b[39m]}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mAo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mfunction\u001b[39m(t\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m(s\u001b[33m=\u001b[39me)\u001b[33m=>\u001b[39m{\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m s\u001b[33m===\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m||\u001b[39ms\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33m=\u001b[39m\u001b[33mHl\u001b[39m(t(s))\u001b[33m:\u001b[39m\u001b[33mHl\u001b[39m(t(s))}\u001b[36mcatch\u001b[39m(a){\u001b[36mreturn\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mreject(a)}}\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[36mget\u001b[39m spec(){\u001b[36mreturn\u001b[39m n}\u001b[33m,\u001b[39mthen(s\u001b[33m,\u001b[39ma){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39mthen(s\u001b[33m,\u001b[39ma)}\u001b[33m,\u001b[39m\u001b[36mcatch\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(s)}\u001b[33m,\u001b[39m\u001b[36mfinally\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mfinally\u001b[39m(s)}\u001b[33m,\u001b[39mrequestTransaction(s){\u001b[36mlet\u001b[39m a\u001b[33m=\u001b[39mo(s)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m a\u001b[33m.\u001b[39mrequestTransaction\u001b[33m?\u001b[39ma\u001b[33m.\u001b[39mrequestTransaction(s)\u001b[33m:\u001b[39ma}\u001b[33m,\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag]\u001b[33m:\u001b[39m\u001b[32m\"PrismaPromise\"\u001b[39m}}}\u001b[36mfunction\u001b[39m \u001b[33mHl\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mthen\u001b[33m==\u001b[39m\u001b[32m\"function\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39m\u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mresolve(e)}\u001b[36mvar\u001b[39m \u001b[33mTf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mEi\u001b[39m\u001b[33m.\u001b[39msplit(\u001b[32m\".\"\u001b[39m)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mSf\u001b[39m\u001b[33m=\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m}\u001b[33m,\u001b[39mgetTraceParent(){\u001b[36mreturn\u001b[39m\u001b[32m\"00-10-10-00\"\u001b[39m}\u001b[33m,\u001b[39mdispatchEngineSpans(){}\u001b[33m,\u001b[39mgetActiveContext(){}\u001b[33m,\u001b[39mrunInChildSpan(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m r()}}\u001b[33m,\u001b[39m\u001b[33mIo\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39misEnabled()}getTraceParent(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetTraceParent(r)}dispatchEngineSpans(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mdispatchEngineSpans(r)}getActiveContext(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetActiveContext()}runInChildSpan(r\u001b[33m,\u001b[39mt){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mrunInChildSpan(r\u001b[33m,\u001b[39mt)}getGlobalTracingHelper(){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39mglobalThis[\u001b[32m`V${Tf}_PRISMA_INSTRUMENTATION`\u001b[39m]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39mglobalThis\u001b[33m.\u001b[39m\u001b[33mPRISMA_INSTRUMENTATION\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33mSf\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKl\u001b[39m(){\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mIo\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mYl\u001b[39m(e\u001b[33m,\u001b[39mr\u001b[33m=\u001b[39m()\u001b[33m=>\u001b[39m{}){\u001b[36mlet\u001b[39m t\u001b[33m,\u001b[39mn\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m(i\u001b[33m=>\u001b[39mt\u001b[33m=\u001b[39mi)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{then(i){\u001b[36mreturn\u001b[39m\u001b[33m--\u001b[39me\u001b[33m===\u001b[39m\u001b[35m0\u001b[39m\u001b[33m&&\u001b[39mt(r())\u001b[33m,\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m.\u001b[39m(n)}}}\u001b[36mfunction\u001b[39m zl(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mreduce((r\u001b[33m,\u001b[39mt)\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[36mtypeof\u001b[39m t\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mlevel\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m===\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m?\u001b[39mr\u001b[33m:\u001b[39mr\u001b[33m&&\u001b[39m(t\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m||\u001b[39mr\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m)\u001b[33m?\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m:\u001b[39mn}\u001b[33m,\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mHn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{_middlewares\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39muse(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mpush(r)}\u001b[36mget\u001b[39m(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}has(r){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[33m!\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}length(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mlength}}\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mXl\u001b[39m\u001b[33m=\u001b[39mk(\u001b[33mOi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKn\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m==\u001b[39m\u001b[32m\"number\"\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mZl\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUnique\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUniqueOrThrow\"\u001b[39m)\u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mmodelName\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(e\u001b[33m.\u001b[39mmodelName)\u001b[33m,\u001b[39me\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39mselection))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mjoin(\u001b[32m\"\"\u001b[39m)}\u001b[36mfunction\u001b[39m ko(e){\u001b[36mreturn\u001b[39m\u001b[32m`(${Object.keys(e).sort().map(t=>{let n=e[t];return typeof n==\"object\"&&n!==null?`(${t} ${ko(n)})`:t}).join(\" \")})`\u001b[39m}\u001b[36mvar\u001b[39m \u001b[33mRf\u001b[39m\u001b[33m=\u001b[39m{aggregate\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39maggregateRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mcreateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mexecuteRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mfindFirst\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindFirstOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUnique\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUniqueOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mgroupBy\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mqueryRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mrunCommandRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupsertOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mOo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[33mRf\u001b[39m[e]}\u001b[36mvar\u001b[39m \u001b[33mYn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{constructor(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches\u001b[33m=\u001b[39m{}}batches\u001b[33m;\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m;\u001b[39mrequest(r){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchBy(r)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m t\u001b[33m?\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mprocess\u001b[33m.\u001b[39mnextTick(()\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdispatchBatches()\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m})))\u001b[33m,\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m.\u001b[39mpush({request\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mresolve\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mreject\u001b[33m:\u001b[39mi})}))\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(r)}dispatchBatches(){\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m r \u001b[36min\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m;\u001b[39m\u001b[36mdelete\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m,\u001b[39mt\u001b[33m.\u001b[39mlength\u001b[33m===\u001b[39m\u001b[35m1\u001b[39m\u001b[33m?\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mrequest)\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)\u001b[33m:\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mresolve(n)})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)})\u001b[33m:\u001b[39m(t\u001b[33m.\u001b[39msort((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchOrder(n\u001b[33m.\u001b[39mrequest\u001b[33m,\u001b[39mi\u001b[33m.\u001b[39mrequest))\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchLoader(t\u001b[33m.\u001b[39mmap(n\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mrequest))\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m o\u001b[33m=\u001b[39mn[i]\u001b[33m;\u001b[39mo \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[i]\u001b[33m.\u001b[39mreject(o)\u001b[33m:\u001b[39mt[i]\u001b[33m.\u001b[39mresolve(o)}})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)}))}}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"DataLoader\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m mr(e\u001b[33m,\u001b[39mr){\u001b[36mif\u001b[39m(r\u001b[33m===\u001b[39m\u001b[36mnull\u001b[39m)\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mswitch\u001b[39m(e){\u001b[36mcase\u001b[39m\u001b[32m\"bigint\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[33mBigInt\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes\"\u001b[39m\u001b[33m:\u001b[39m{\u001b[36mlet\u001b[39m{buffer\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mbyteOffset\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mbyteLength\u001b[33m:\u001b[39mi}\u001b[33m=\u001b[39m\u001b[33mBuffer\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m(r\u001b[33m,\u001b[39m\u001b[32m\"base64\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mUint8Array\u001b[39m(t\u001b[33m,\u001b[39mn\u001b[33m,\u001b[39mi)}\u001b[36mcase\u001b[39m\u001b[32m\"decimal\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mPe\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(\u001b[32m`1970-01-01T${r}Z`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bigint-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bigint\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bytes\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"decimal-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"decimal\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"datetime\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"date\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"time\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r}}\u001b[36mfunction\u001b[39m zn(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39m\u001b[33mCf\u001b[39m(e)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mn\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mrows\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mn\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mrows[n]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m{\u001b[33m...\u001b[39mt}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m s\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39ms\u001b[33m<\u001b[39m\u001b[33mi\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39ms\u001b[33m++\u001b[39m)o[e\u001b[33m.\u001b[39mcolumns[s]]\u001b[33m=\u001b[39mmr(e\u001b[33m.\u001b[39mtypes[s]\u001b[33m,\u001b[39mi[s])\u001b[33m;\u001b[39mr\u001b[33m.\u001b[39mpush(o)}\u001b[36mreturn\u001b[39m r}\u001b[36mfunction\u001b[39m \u001b[33mCf\u001b[39m(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m{}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mt\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mcolumns\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mt\u001b[33m++\u001b[39m)r[e\u001b[33m.\u001b[39mcolumns[t]]\u001b[33m=\u001b[39m\u001b[36mnull\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r}\u001b[36mvar\u001b[39m \u001b[33mAf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mN\u001b[39m(\u001b[32m\"prisma:client:request_handler\"\u001b[39m)\u001b[33m,\u001b[39m\u001b[33mZn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{client\u001b[33m;\u001b[39mdataloader\u001b[33m;\u001b[39mlogEmitter\u001b[33m;\u001b[39mconstructor(r\u001b[33m,\u001b[39mt){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m=\u001b[39mt\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m=\u001b[39mr\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mYn\u001b[39m({batchLoader\u001b[33m:\u001b[39mol(\u001b[36masync\u001b[39m({requests\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi})\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m{transaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39motelParentCtx\u001b[33m:\u001b[39ms}\u001b[33m=\u001b[39mn[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mmap(p\u001b[33m=>\u001b[39mp\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent(s)\u001b[33m,\u001b[39mu\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39msome(p\u001b[33m=>\u001b[39m\u001b[33mOo\u001b[39m(p\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction))\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m(\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequestBatch(a\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39ml\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39m\u001b[33mIf\u001b[39m(o)\u001b[33m,\u001b[39mcontainsWrite\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi}))\u001b[33m.\u001b[39mmap((p\u001b[33m,\u001b[39md)\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(p \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mreturn\u001b[39m p\u001b[33m;\u001b[39m\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n[d]\u001b[33m,\u001b[39mp)}\u001b[36mcatch\u001b[39m(f){\u001b[36mreturn\u001b[39m f}})})\u001b[33m,\u001b[39msingleLoader\u001b[33m:\u001b[39m\u001b[36masync\u001b[39m n\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39meu(n\u001b[33m.\u001b[39mtransaction)\u001b[33m:\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequest(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent()\u001b[33m,\u001b[39minteractiveTransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39misWrite\u001b[33m:\u001b[39m\u001b[33mOo\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction)\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mn\u001b[33m.\u001b[39mcustomDataProxyFetch})\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n\u001b[33m,\u001b[39mo)}\u001b[33m,\u001b[39mbatchBy\u001b[33m:\u001b[39mn\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mid\u001b[33m?\u001b[39m\u001b[32m`transaction-${n.transaction.id}`\u001b[39m\u001b[33m:\u001b[39m\u001b[33mZl\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39mbatchOrder(n\u001b[33m,\u001b[39mi){\u001b[36mreturn\u001b[39m n\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m?\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m-\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m:\u001b[39m\u001b[35m0\u001b[39m}})}\u001b[36masync\u001b[39m request(r){\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m.\u001b[39mrequest(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mlet\u001b[39m{clientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma}\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleAndLogRequestError({error\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mglobalOmit})}}mapQueryEngineResult({dataPath\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39munpacker\u001b[33m:\u001b[39mt}\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mdata\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39munpack(i\u001b[33m,\u001b[39mr\u001b[33m,\u001b[39mt)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mPRISMA_CLIENT_GET_TIME\u001b[39m\u001b[33m?\u001b[39m{data\u001b[33m:\u001b[39mo}\u001b[33m:\u001b[39mo}handleAndLogRequestError(r){\u001b[36mtry\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleRequestError(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mthrow\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m.\u001b[39memit(\u001b[32m\"error\"\u001b[39m\u001b[33m,\u001b[39m{message\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mmessage\u001b[33m,\u001b[39mtarget\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mclientMethod\u001b[33m,\u001b[39mtimestamp\u001b[33m:\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m})\u001b[33m,\u001b[39mt}}handleRequestError({error\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma}){\u001b[36mif\u001b[39m(\u001b[33mAf\u001b[39m(r)\u001b[33m,\u001b[39mkf(r\u001b[33m,\u001b[39mi))\u001b[36mthrow\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m z\u001b[33m&&\u001b[39m\u001b[33mOf\u001b[39m(r)){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39mru(r\u001b[33m.\u001b[39mmeta)\u001b[33m;\u001b[39mkn({args\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39m[u]\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39merrorFormat\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma})}\u001b[36mlet\u001b[39m l\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mmessage\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m(l\u001b[33m=\u001b[39mwn({callsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39misPanic\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39misPanic\u001b[33m,\u001b[39mshowColors\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m===\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39mmessage\u001b[33m:\u001b[39ml}))\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39msanitizeMessage(l)\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mcode){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39ms\u001b[33m?\u001b[39m{modelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr\u001b[33m.\u001b[39mmeta}\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mmeta\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m z(l\u001b[33m,\u001b[39m{code\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mcode\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mmeta\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})}\u001b[36melse\u001b[39m{\u001b[36mif\u001b[39m(r\u001b[33m.\u001b[39misPanic)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m j)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m j(l\u001b[33m,\u001b[39m{clientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m \u001b[33mT\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mT\u001b[39m(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m le)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)}\u001b[36mthrow\u001b[39m r\u001b[33m.\u001b[39mclientVersion\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mr}sanitizeMessage(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m!==\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m?\u001b[39m(\u001b[35m0\u001b[39m\u001b[33m,\u001b[39m\u001b[33mXl\u001b[39m\u001b[33m.\u001b[39m\u001b[36mdefault\u001b[39m)(r)\u001b[33m:\u001b[39mr}unpack(r\u001b[33m,\u001b[39mt\u001b[33m,\u001b[39mn){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m||\u001b[39m(r\u001b[33m.\u001b[39mdata\u001b[33m&&\u001b[39m(r\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mdata)\u001b[33m,\u001b[39m\u001b[33m!\u001b[39mr))\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mvalues(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ms\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mfilter(u\u001b[33m=>\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"select\"\u001b[39m\u001b[33m&&\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"include\"\u001b[39m)\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mio(o\u001b[33m,\u001b[39ms)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39mi\u001b[33m===\u001b[39m\u001b[32m\"queryRaw\"\u001b[39m\u001b[33m?\u001b[39mzn(a)\u001b[33m:\u001b[39m\u001b[33mTr\u001b[39m(a)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m?\u001b[39mn(l)\u001b[33m:\u001b[39ml}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"RequestHandler\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mIf\u001b[39m(e){\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39m{isolationLevel\u001b[33m:\u001b[39me\u001b[33m.\u001b[39misolationLevel}}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39meu(e)}\u001b[33m;\u001b[39m_e(e\u001b[33m,\u001b[39m\u001b[32m\"Unknown transaction kind\"\u001b[39m)}}\u001b[36mfunction\u001b[39m eu(e){\u001b[36mreturn\u001b[39m{id\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39mpayload\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mpayload}}\u001b[36mfunction\u001b[39m kf(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m \u001b[33mKn\u001b[39m(e)\u001b[33m&&\u001b[39mr\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m!==\u001b[39mr\u001b[33m.\u001b[39mindex}\u001b[36mfunction\u001b[39m \u001b[33mOf\u001b[39m(e){\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2009\"\u001b[39m\u001b[33m||\u001b[39me\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2012\"\u001b[39m}\u001b[36mfunction\u001b[39m ru(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"Union\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"Union\"\u001b[39m\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39me\u001b[33m.\u001b[39merrors\u001b[33m.\u001b[39mmap(ru)}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e\u001b[33m.\u001b[39mselectionPath)){\u001b[36mlet\u001b[39m[\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr]\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mselectionPath\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[33m...\u001b[39me\u001b[33m,\u001b[39mselectionPath\u001b[33m:\u001b[39mr}}\u001b[36mreturn\u001b[39m e}\u001b[36mvar\u001b[39m tu\u001b[33m=\u001b[39m\u001b[33mSl\u001b[39m\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m au\u001b[33m=\u001b[39mk(\u001b[33mQi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mD\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mError\u001b[39m{constructor(r){\u001b[36msuper\u001b[39m(r\u001b[33m+\u001b[39m\u001b[32m`\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 125 |\u001b[39m \u001b[32mRead more at https://pris.ly/d/client-constructor`\u001b[39m)\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mname\u001b[33m=\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}}\u001b[33m;\u001b[39mx(\u001b[33mD\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m nu\u001b[33m=\u001b[39m[\u001b[32m\"datasources\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"datasourceUrl\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"errorFormat\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"adapter\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"log\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"transactionOptions\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"omit\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"__internal\"\u001b[39m]\u001b[33m,\u001b[39miu\u001b[33m=\u001b[39m[\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"colorless\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"minimal\"\u001b[39m]\u001b[33m,\u001b[39mou\u001b[33m=\u001b[39m[\u001b[32m\"info\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"warn\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"error\"\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mDf\u001b[39m\u001b[33m=\u001b[39m{datasources\u001b[33m:\u001b[39m(e\u001b[33m,\u001b[39m{datasourceNames\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m e\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for \"datasources\" provided to PrismaClient constructor`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[t\u001b[33m,\u001b[39mn]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(e)){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m.\u001b[39mincludes(t)){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mWr\u001b[39m(t\u001b[33m,\u001b[39mr)\u001b[33m||\u001b[39m\u001b[32m` Available datasources: ${r.join(\", \")}`\u001b[39m\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Unknown datasource ${t} provided to PrismaClient constructor.${i}`\u001b[39m)}\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m n\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(n))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 126 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m\u001b[36mtypeof\u001b[39m n\u001b[33m==\u001b[39m\u001b[32m\"object\"\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[i\u001b[33m,\u001b[39mo]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(n)){\u001b[36mif\u001b[39m(i\u001b[33m!==\u001b[39m\u001b[32m\"url\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 127 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m o\u001b[33m!=\u001b[39m\u001b[32m\"string\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(o)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:7649)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError [as handleAndLogRequestError] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6784)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleAndLogRequestError [as request] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6491)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat l (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:133:9778)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/sso-auth-flow.test.ts\u001b[39m\u001b[0m\u001b[2m:51:5)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mSSO Authentication Flow Testing - Phase 2.3 › User Experience Flow › should handle provider connection status\u001b[39m\u001b[22m\n\n    PrismaClientUnknownRequestError: \n    Invalid `prisma.apiConnection.deleteMany()` invocation in\n    /Users/connorbowen/apiq-mvp/tests/integration/api/sso-auth-flow.test.ts:41:32\n\n      38     }\n      39   }\n      40 });\n    → 41 await prisma.apiConnection.deleteMany(\n    Error occurred during query execution:\n    ConnectorError(ConnectorError { user_facing_error: None, kind: QueryError(PostgresError { code: \"40P01\", message: \"deadlock detected\", severity: \"ERROR\", detail: Some(\"Process 28323 waits for ShareLock on transaction 54249; blocked by process 28463.\\nProcess 28463 waits for ShareLock on transaction 54247; blocked by process 28465.\\nProcess 28465 waits for AccessShareLock on tuple (0,18) of relation 33235 of database 21992; blocked by process 28323.\"), column: None, hint: Some(\"See server log for query details.\") }), transient: false })\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 122 |\u001b[39m \u001b[32m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 123 |\u001b[39m \u001b[32mMore Information: https://pris.ly/d/execute-raw\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 124 |\u001b[39m \u001b[32m`\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mCo\u001b[39m\u001b[33m=\u001b[39m({clientMethod\u001b[33m:\u001b[39me\u001b[33m,\u001b[39mactiveProvider\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39mt\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[32m\"\"\u001b[39m\u001b[33m,\u001b[39mi\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mFn\u001b[39m(t))n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(t)){\u001b[36mlet\u001b[39m[o\u001b[33m,\u001b[39m\u001b[33m...\u001b[39ms]\u001b[33m=\u001b[39mt\u001b[33m;\u001b[39mn\u001b[33m=\u001b[39mo\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(s\u001b[33m||\u001b[39m[])\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}}\u001b[36melse\u001b[39m \u001b[36mswitch\u001b[39m(r){\u001b[36mcase\u001b[39m\u001b[32m\"sqlite\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"mysql\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39msql\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"cockroachdb\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgresql\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"postgres\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mtext\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mcase\u001b[39m\u001b[32m\"sqlserver\"\u001b[39m\u001b[33m:\u001b[39m{n\u001b[33m=\u001b[39mjl(t)\u001b[33m,\u001b[39mi\u001b[33m=\u001b[39m{values\u001b[33m:\u001b[39m\u001b[33mQr\u001b[39m(t\u001b[33m.\u001b[39mvalues)\u001b[33m,\u001b[39m__prismaRawParameters__\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mbreak\u001b[39m}\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`The ${r} provider does not support ${e}`\u001b[39m)}\u001b[36mreturn\u001b[39m i\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mvalues\u001b[33m?\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n}, ${i.values})`\u001b[39m)\u001b[33m:\u001b[39m\u001b[33mQl\u001b[39m(\u001b[32m`prisma.${e}(${n})`\u001b[39m)\u001b[33m,\u001b[39m{query\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mparameters\u001b[33m:\u001b[39mi}}\u001b[33m,\u001b[39m\u001b[33mWl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e\u001b[33m.\u001b[39mstrings\u001b[33m,\u001b[39m\u001b[33m...\u001b[39me\u001b[33m.\u001b[39mvalues]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mlet\u001b[39m[r\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mt]\u001b[33m=\u001b[39me\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m oe(r\u001b[33m,\u001b[39mt)}}\u001b[33m,\u001b[39m\u001b[33mJl\u001b[39m\u001b[33m=\u001b[39m{requestArgsToMiddlewareArgs(e){\u001b[36mreturn\u001b[39m[e]}\u001b[33m,\u001b[39mmiddlewareArgsToRequestArgs(e){\u001b[36mreturn\u001b[39m e[\u001b[35m0\u001b[39m]}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mAo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mfunction\u001b[39m(t\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m(s\u001b[33m=\u001b[39me)\u001b[33m=>\u001b[39m{\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m s\u001b[33m===\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m||\u001b[39ms\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33m=\u001b[39m\u001b[33mHl\u001b[39m(t(s))\u001b[33m:\u001b[39m\u001b[33mHl\u001b[39m(t(s))}\u001b[36mcatch\u001b[39m(a){\u001b[36mreturn\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mreject(a)}}\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[36mget\u001b[39m spec(){\u001b[36mreturn\u001b[39m n}\u001b[33m,\u001b[39mthen(s\u001b[33m,\u001b[39ma){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39mthen(s\u001b[33m,\u001b[39ma)}\u001b[33m,\u001b[39m\u001b[36mcatch\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(s)}\u001b[33m,\u001b[39m\u001b[36mfinally\u001b[39m(s){\u001b[36mreturn\u001b[39m o()\u001b[33m.\u001b[39m\u001b[36mfinally\u001b[39m(s)}\u001b[33m,\u001b[39mrequestTransaction(s){\u001b[36mlet\u001b[39m a\u001b[33m=\u001b[39mo(s)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m a\u001b[33m.\u001b[39mrequestTransaction\u001b[33m?\u001b[39ma\u001b[33m.\u001b[39mrequestTransaction(s)\u001b[33m:\u001b[39ma}\u001b[33m,\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag]\u001b[33m:\u001b[39m\u001b[32m\"PrismaPromise\"\u001b[39m}}}\u001b[36mfunction\u001b[39m \u001b[33mHl\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mthen\u001b[33m==\u001b[39m\u001b[32m\"function\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39m\u001b[33mPromise\u001b[39m\u001b[33m.\u001b[39mresolve(e)}\u001b[36mvar\u001b[39m \u001b[33mTf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mEi\u001b[39m\u001b[33m.\u001b[39msplit(\u001b[32m\".\"\u001b[39m)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mSf\u001b[39m\u001b[33m=\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m}\u001b[33m,\u001b[39mgetTraceParent(){\u001b[36mreturn\u001b[39m\u001b[32m\"00-10-10-00\"\u001b[39m}\u001b[33m,\u001b[39mdispatchEngineSpans(){}\u001b[33m,\u001b[39mgetActiveContext(){}\u001b[33m,\u001b[39mrunInChildSpan(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m r()}}\u001b[33m,\u001b[39m\u001b[33mIo\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{isEnabled(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39misEnabled()}getTraceParent(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetTraceParent(r)}dispatchEngineSpans(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mdispatchEngineSpans(r)}getActiveContext(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mgetActiveContext()}runInChildSpan(r\u001b[33m,\u001b[39mt){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetGlobalTracingHelper()\u001b[33m.\u001b[39mrunInChildSpan(r\u001b[33m,\u001b[39mt)}getGlobalTracingHelper(){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39mglobalThis[\u001b[32m`V${Tf}_PRISMA_INSTRUMENTATION`\u001b[39m]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39mglobalThis\u001b[33m.\u001b[39m\u001b[33mPRISMA_INSTRUMENTATION\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mhelper\u001b[33m?\u001b[39m\u001b[33m?\u001b[39m\u001b[33mSf\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKl\u001b[39m(){\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mIo\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mYl\u001b[39m(e\u001b[33m,\u001b[39mr\u001b[33m=\u001b[39m()\u001b[33m=>\u001b[39m{}){\u001b[36mlet\u001b[39m t\u001b[33m,\u001b[39mn\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m(i\u001b[33m=>\u001b[39mt\u001b[33m=\u001b[39mi)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{then(i){\u001b[36mreturn\u001b[39m\u001b[33m--\u001b[39me\u001b[33m===\u001b[39m\u001b[35m0\u001b[39m\u001b[33m&&\u001b[39mt(r())\u001b[33m,\u001b[39mi\u001b[33m?\u001b[39m\u001b[33m.\u001b[39m(n)}}}\u001b[36mfunction\u001b[39m zl(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39me\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mreduce((r\u001b[33m,\u001b[39mt)\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[36mtypeof\u001b[39m t\u001b[33m==\u001b[39m\u001b[32m\"string\"\u001b[39m\u001b[33m?\u001b[39mt\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mlevel\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m===\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m?\u001b[39mr\u001b[33m:\u001b[39mr\u001b[33m&&\u001b[39m(t\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m||\u001b[39mr\u001b[33m===\u001b[39m\u001b[32m\"info\"\u001b[39m)\u001b[33m?\u001b[39m\u001b[32m\"info\"\u001b[39m\u001b[33m:\u001b[39mn}\u001b[33m,\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m)}\u001b[36mvar\u001b[39m \u001b[33mHn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{_middlewares\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39muse(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mpush(r)}\u001b[36mget\u001b[39m(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}has(r){\u001b[36mreturn\u001b[39m\u001b[33m!\u001b[39m\u001b[33m!\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares[r]}length(){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_middlewares\u001b[33m.\u001b[39mlength}}\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mXl\u001b[39m\u001b[33m=\u001b[39mk(\u001b[33mOi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mKn\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[36mtypeof\u001b[39m e\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m==\u001b[39m\u001b[32m\"number\"\u001b[39m}\u001b[36mfunction\u001b[39m \u001b[33mZl\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUnique\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39maction\u001b[33m!==\u001b[39m\u001b[32m\"findUniqueOrThrow\"\u001b[39m)\u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mmodelName\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(e\u001b[33m.\u001b[39mmodelName)\u001b[33m,\u001b[39me\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments\u001b[33m&&\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39marguments))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mpush(ko(e\u001b[33m.\u001b[39mquery\u001b[33m.\u001b[39mselection))\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mjoin(\u001b[32m\"\"\u001b[39m)}\u001b[36mfunction\u001b[39m ko(e){\u001b[36mreturn\u001b[39m\u001b[32m`(${Object.keys(e).sort().map(t=>{let n=e[t];return typeof n==\"object\"&&n!==null?`(${t} ${ko(n)})`:t}).join(\" \")})`\u001b[39m}\u001b[36mvar\u001b[39m \u001b[33mRf\u001b[39m\u001b[33m=\u001b[39m{aggregate\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39maggregateRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mcreateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mcreateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mdeleteOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mexecuteRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mfindFirst\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindFirstOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUnique\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mfindUniqueOrThrow\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mgroupBy\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mqueryRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m,\u001b[39mrunCommandRaw\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateMany\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateManyAndReturn\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupdateOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mupsertOne\u001b[33m:\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mOo\u001b[39m(e){\u001b[36mreturn\u001b[39m \u001b[33mRf\u001b[39m[e]}\u001b[36mvar\u001b[39m \u001b[33mYn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{constructor(r){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches\u001b[33m=\u001b[39m{}}batches\u001b[33m;\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m\u001b[33m;\u001b[39mrequest(r){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchBy(r)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m t\u001b[33m?\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m||\u001b[39m(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m0\u001b[39m\u001b[33m,\u001b[39mprocess\u001b[33m.\u001b[39mnextTick(()\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdispatchBatches()\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mtickActive\u001b[33m=\u001b[39m\u001b[33m!\u001b[39m\u001b[35m1\u001b[39m})))\u001b[33m,\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[t]\u001b[33m.\u001b[39mpush({request\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mresolve\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mreject\u001b[33m:\u001b[39mi})}))\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(r)}dispatchBatches(){\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m r \u001b[36min\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches){\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m;\u001b[39m\u001b[36mdelete\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mbatches[r]\u001b[33m,\u001b[39mt\u001b[33m.\u001b[39mlength\u001b[33m===\u001b[39m\u001b[35m1\u001b[39m\u001b[33m?\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39msingleLoader(t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mrequest)\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)\u001b[33m:\u001b[39mt[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mresolve(n)})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{t[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mreject(n)})\u001b[33m:\u001b[39m(t\u001b[33m.\u001b[39msort((n\u001b[33m,\u001b[39mi)\u001b[33m=>\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchOrder(n\u001b[33m.\u001b[39mrequest\u001b[33m,\u001b[39mi\u001b[33m.\u001b[39mrequest))\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mbatchLoader(t\u001b[33m.\u001b[39mmap(n\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mrequest))\u001b[33m.\u001b[39mthen(n\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(n \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)\u001b[33m;\u001b[39m\u001b[36melse\u001b[39m \u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m o\u001b[33m=\u001b[39mn[i]\u001b[33m;\u001b[39mo \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m\u001b[33m?\u001b[39mt[i]\u001b[33m.\u001b[39mreject(o)\u001b[33m:\u001b[39mt[i]\u001b[33m.\u001b[39mresolve(o)}})\u001b[33m.\u001b[39m\u001b[36mcatch\u001b[39m(n\u001b[33m=>\u001b[39m{\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mi\u001b[33m<\u001b[39m\u001b[33mt\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mi\u001b[33m++\u001b[39m)t[i]\u001b[33m.\u001b[39mreject(n)}))}}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"DataLoader\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m mr(e\u001b[33m,\u001b[39mr){\u001b[36mif\u001b[39m(r\u001b[33m===\u001b[39m\u001b[36mnull\u001b[39m)\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mswitch\u001b[39m(e){\u001b[36mcase\u001b[39m\u001b[32m\"bigint\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[33mBigInt\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes\"\u001b[39m\u001b[33m:\u001b[39m{\u001b[36mlet\u001b[39m{buffer\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mbyteOffset\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mbyteLength\u001b[33m:\u001b[39mi}\u001b[33m=\u001b[39m\u001b[33mBuffer\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m(r\u001b[33m,\u001b[39m\u001b[32m\"base64\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mUint8Array\u001b[39m(t\u001b[33m,\u001b[39mn\u001b[33m,\u001b[39mi)}\u001b[36mcase\u001b[39m\u001b[32m\"decimal\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mPe\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(r)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(\u001b[32m`1970-01-01T${r}Z`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bigint-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bigint\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"bytes-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"bytes\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"decimal-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"decimal\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"datetime-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"datetime\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"date-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"date\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mcase\u001b[39m\u001b[32m\"time-array\"\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r\u001b[33m.\u001b[39mmap(t\u001b[33m=>\u001b[39mmr(\u001b[32m\"time\"\u001b[39m\u001b[33m,\u001b[39mt))\u001b[33m;\u001b[39m\u001b[36mdefault\u001b[39m\u001b[33m:\u001b[39m\u001b[36mreturn\u001b[39m r}}\u001b[36mfunction\u001b[39m zn(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m[]\u001b[33m,\u001b[39mt\u001b[33m=\u001b[39m\u001b[33mCf\u001b[39m(e)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m n\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mn\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mrows\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mn\u001b[33m++\u001b[39m){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mrows[n]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m{\u001b[33m...\u001b[39mt}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m s\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39ms\u001b[33m<\u001b[39m\u001b[33mi\u001b[39m\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39ms\u001b[33m++\u001b[39m)o[e\u001b[33m.\u001b[39mcolumns[s]]\u001b[33m=\u001b[39mmr(e\u001b[33m.\u001b[39mtypes[s]\u001b[33m,\u001b[39mi[s])\u001b[33m;\u001b[39mr\u001b[33m.\u001b[39mpush(o)}\u001b[36mreturn\u001b[39m r}\u001b[36mfunction\u001b[39m \u001b[33mCf\u001b[39m(e){\u001b[36mlet\u001b[39m r\u001b[33m=\u001b[39m{}\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m t\u001b[33m=\u001b[39m\u001b[35m0\u001b[39m\u001b[33m;\u001b[39mt\u001b[33m<\u001b[39m\u001b[33me\u001b[39m\u001b[33m.\u001b[39mcolumns\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39mt\u001b[33m++\u001b[39m)r[e\u001b[33m.\u001b[39mcolumns[t]]\u001b[33m=\u001b[39m\u001b[36mnull\u001b[39m\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m r}\u001b[36mvar\u001b[39m \u001b[33mAf\u001b[39m\u001b[33m=\u001b[39m\u001b[33mN\u001b[39m(\u001b[32m\"prisma:client:request_handler\"\u001b[39m)\u001b[33m,\u001b[39m\u001b[33mZn\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m{client\u001b[33m;\u001b[39mdataloader\u001b[33m;\u001b[39mlogEmitter\u001b[33m;\u001b[39mconstructor(r\u001b[33m,\u001b[39mt){\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m=\u001b[39mt\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m=\u001b[39mr\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m=\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mYn\u001b[39m({batchLoader\u001b[33m:\u001b[39mol(\u001b[36masync\u001b[39m({requests\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi})\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m{transaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39motelParentCtx\u001b[33m:\u001b[39ms}\u001b[33m=\u001b[39mn[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mmap(p\u001b[33m=>\u001b[39mp\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent(s)\u001b[33m,\u001b[39mu\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39msome(p\u001b[33m=>\u001b[39m\u001b[33mOo\u001b[39m(p\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction))\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m(\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequestBatch(a\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39ml\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39m\u001b[33mIf\u001b[39m(o)\u001b[33m,\u001b[39mcontainsWrite\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mi}))\u001b[33m.\u001b[39mmap((p\u001b[33m,\u001b[39md)\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(p \u001b[36minstanceof\u001b[39m \u001b[33mError\u001b[39m)\u001b[36mreturn\u001b[39m p\u001b[33m;\u001b[39m\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n[d]\u001b[33m,\u001b[39mp)}\u001b[36mcatch\u001b[39m(f){\u001b[36mreturn\u001b[39m f}})})\u001b[33m,\u001b[39msingleLoader\u001b[33m:\u001b[39m\u001b[36masync\u001b[39m n\u001b[33m=>\u001b[39m{\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m?\u001b[39meu(n\u001b[33m.\u001b[39mtransaction)\u001b[33m:\u001b[39m\u001b[36mvoid\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_engine\u001b[33m.\u001b[39mrequest(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m,\u001b[39m{traceparent\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_tracingHelper\u001b[33m.\u001b[39mgetTraceParent()\u001b[33m,\u001b[39minteractiveTransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39misWrite\u001b[33m:\u001b[39m\u001b[33mOo\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery\u001b[33m.\u001b[39maction)\u001b[33m,\u001b[39mcustomDataProxyFetch\u001b[33m:\u001b[39mn\u001b[33m.\u001b[39mcustomDataProxyFetch})\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmapQueryEngineResult(n\u001b[33m,\u001b[39mo)}\u001b[33m,\u001b[39mbatchBy\u001b[33m:\u001b[39mn\u001b[33m=>\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mid\u001b[33m?\u001b[39m\u001b[32m`transaction-${n.transaction.id}`\u001b[39m\u001b[33m:\u001b[39m\u001b[33mZl\u001b[39m(n\u001b[33m.\u001b[39mprotocolQuery)\u001b[33m,\u001b[39mbatchOrder(n\u001b[33m,\u001b[39mi){\u001b[36mreturn\u001b[39m n\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m?\u001b[39mn\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m-\u001b[39mi\u001b[33m.\u001b[39mtransaction\u001b[33m.\u001b[39mindex\u001b[33m:\u001b[39m\u001b[35m0\u001b[39m}})}\u001b[36masync\u001b[39m request(r){\u001b[36mtry\u001b[39m{\u001b[36mreturn\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mdataloader\u001b[33m.\u001b[39mrequest(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mlet\u001b[39m{clientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma}\u001b[33m=\u001b[39mr\u001b[33m;\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleAndLogRequestError({error\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ma\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mglobalOmit})}}mapQueryEngineResult({dataPath\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39munpacker\u001b[33m:\u001b[39mt}\u001b[33m,\u001b[39mn){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39mn\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mdata\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39munpack(i\u001b[33m,\u001b[39mr\u001b[33m,\u001b[39mt)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mPRISMA_CLIENT_GET_TIME\u001b[39m\u001b[33m?\u001b[39m{data\u001b[33m:\u001b[39mo}\u001b[33m:\u001b[39mo}handleAndLogRequestError(r){\u001b[36mtry\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mhandleRequestError(r)}\u001b[36mcatch\u001b[39m(t){\u001b[36mthrow\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mlogEmitter\u001b[33m.\u001b[39memit(\u001b[32m\"error\"\u001b[39m\u001b[33m,\u001b[39m{message\u001b[33m:\u001b[39mt\u001b[33m.\u001b[39mmessage\u001b[33m,\u001b[39mtarget\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mclientMethod\u001b[33m,\u001b[39mtimestamp\u001b[33m:\u001b[39m\u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m})\u001b[33m,\u001b[39mt}}handleRequestError({error\u001b[33m:\u001b[39mr\u001b[33m,\u001b[39mclientMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39mtransaction\u001b[33m:\u001b[39mi\u001b[33m,\u001b[39margs\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39mmodelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma}){\u001b[36mif\u001b[39m(\u001b[33mAf\u001b[39m(r)\u001b[33m,\u001b[39mkf(r\u001b[33m,\u001b[39mi))\u001b[36mthrow\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m z\u001b[33m&&\u001b[39m\u001b[33mOf\u001b[39m(r)){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39mru(r\u001b[33m.\u001b[39mmeta)\u001b[33m;\u001b[39mkn({args\u001b[33m:\u001b[39mo\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39m[u]\u001b[33m,\u001b[39mcallsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39merrorFormat\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mglobalOmit\u001b[33m:\u001b[39ma})}\u001b[36mlet\u001b[39m l\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mmessage\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m(l\u001b[33m=\u001b[39mwn({callsite\u001b[33m:\u001b[39mn\u001b[33m,\u001b[39moriginalMethod\u001b[33m:\u001b[39mt\u001b[33m,\u001b[39misPanic\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39misPanic\u001b[33m,\u001b[39mshowColors\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m===\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39mmessage\u001b[33m:\u001b[39ml}))\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39msanitizeMessage(l)\u001b[33m,\u001b[39mr\u001b[33m.\u001b[39mcode){\u001b[36mlet\u001b[39m u\u001b[33m=\u001b[39ms\u001b[33m?\u001b[39m{modelName\u001b[33m:\u001b[39ms\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr\u001b[33m.\u001b[39mmeta}\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mmeta\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m z(l\u001b[33m,\u001b[39m{code\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mcode\u001b[33m,\u001b[39mclientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mmeta\u001b[33m:\u001b[39mu\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})}\u001b[36melse\u001b[39m{\u001b[36mif\u001b[39m(r\u001b[33m.\u001b[39misPanic)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m j)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m j(l\u001b[33m,\u001b[39m{clientVersion\u001b[33m:\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mbatchRequestIdx\u001b[33m:\u001b[39mr\u001b[33m.\u001b[39mbatchRequestIdx})\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m \u001b[33mT\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mT\u001b[39m(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(r \u001b[36minstanceof\u001b[39m le)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m le(l\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion)}\u001b[36mthrow\u001b[39m r\u001b[33m.\u001b[39mclientVersion\u001b[33m=\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_clientVersion\u001b[33m,\u001b[39mr}sanitizeMessage(r){\u001b[36mreturn\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m&&\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mclient\u001b[33m.\u001b[39m_errorFormat\u001b[33m!==\u001b[39m\u001b[32m\"pretty\"\u001b[39m\u001b[33m?\u001b[39m(\u001b[35m0\u001b[39m\u001b[33m,\u001b[39m\u001b[33mXl\u001b[39m\u001b[33m.\u001b[39m\u001b[36mdefault\u001b[39m)(r)\u001b[33m:\u001b[39mr}unpack(r\u001b[33m,\u001b[39mt\u001b[33m,\u001b[39mn){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m||\u001b[39m(r\u001b[33m.\u001b[39mdata\u001b[33m&&\u001b[39m(r\u001b[33m=\u001b[39mr\u001b[33m.\u001b[39mdata)\u001b[33m,\u001b[39m\u001b[33m!\u001b[39mr))\u001b[36mreturn\u001b[39m r\u001b[33m;\u001b[39m\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39mo\u001b[33m=\u001b[39m\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mvalues(r)[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39ms\u001b[33m=\u001b[39mt\u001b[33m.\u001b[39mfilter(u\u001b[33m=>\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"select\"\u001b[39m\u001b[33m&&\u001b[39mu\u001b[33m!==\u001b[39m\u001b[32m\"include\"\u001b[39m)\u001b[33m,\u001b[39ma\u001b[33m=\u001b[39mio(o\u001b[33m,\u001b[39ms)\u001b[33m,\u001b[39ml\u001b[33m=\u001b[39mi\u001b[33m===\u001b[39m\u001b[32m\"queryRaw\"\u001b[39m\u001b[33m?\u001b[39mzn(a)\u001b[33m:\u001b[39m\u001b[33mTr\u001b[39m(a)\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m n\u001b[33m?\u001b[39mn(l)\u001b[33m:\u001b[39ml}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"RequestHandler\"\u001b[39m}}\u001b[33m;\u001b[39m\u001b[36mfunction\u001b[39m \u001b[33mIf\u001b[39m(e){\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39m{isolationLevel\u001b[33m:\u001b[39me\u001b[33m.\u001b[39misolationLevel}}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"itx\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"itx\"\u001b[39m\u001b[33m,\u001b[39moptions\u001b[33m:\u001b[39meu(e)}\u001b[33m;\u001b[39m_e(e\u001b[33m,\u001b[39m\u001b[32m\"Unknown transaction kind\"\u001b[39m)}}\u001b[36mfunction\u001b[39m eu(e){\u001b[36mreturn\u001b[39m{id\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39mpayload\u001b[33m:\u001b[39me\u001b[33m.\u001b[39mpayload}}\u001b[36mfunction\u001b[39m kf(e\u001b[33m,\u001b[39mr){\u001b[36mreturn\u001b[39m \u001b[33mKn\u001b[39m(e)\u001b[33m&&\u001b[39mr\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"batch\"\u001b[39m\u001b[33m&&\u001b[39me\u001b[33m.\u001b[39mbatchRequestIdx\u001b[33m!==\u001b[39mr\u001b[33m.\u001b[39mindex}\u001b[36mfunction\u001b[39m \u001b[33mOf\u001b[39m(e){\u001b[36mreturn\u001b[39m e\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2009\"\u001b[39m\u001b[33m||\u001b[39me\u001b[33m.\u001b[39mcode\u001b[33m===\u001b[39m\u001b[32m\"P2012\"\u001b[39m}\u001b[36mfunction\u001b[39m ru(e){\u001b[36mif\u001b[39m(e\u001b[33m.\u001b[39mkind\u001b[33m===\u001b[39m\u001b[32m\"Union\"\u001b[39m)\u001b[36mreturn\u001b[39m{kind\u001b[33m:\u001b[39m\u001b[32m\"Union\"\u001b[39m\u001b[33m,\u001b[39merrors\u001b[33m:\u001b[39me\u001b[33m.\u001b[39merrors\u001b[33m.\u001b[39mmap(ru)}\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e\u001b[33m.\u001b[39mselectionPath)){\u001b[36mlet\u001b[39m[\u001b[33m,\u001b[39m\u001b[33m...\u001b[39mr]\u001b[33m=\u001b[39me\u001b[33m.\u001b[39mselectionPath\u001b[33m;\u001b[39m\u001b[36mreturn\u001b[39m{\u001b[33m...\u001b[39me\u001b[33m,\u001b[39mselectionPath\u001b[33m:\u001b[39mr}}\u001b[36mreturn\u001b[39m e}\u001b[36mvar\u001b[39m tu\u001b[33m=\u001b[39m\u001b[33mSl\u001b[39m\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m au\u001b[33m=\u001b[39mk(\u001b[33mQi\u001b[39m())\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m \u001b[33mD\u001b[39m\u001b[33m=\u001b[39m\u001b[36mclass\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mError\u001b[39m{constructor(r){\u001b[36msuper\u001b[39m(r\u001b[33m+\u001b[39m\u001b[32m`\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 125 |\u001b[39m \u001b[32mRead more at https://pris.ly/d/client-constructor`\u001b[39m)\u001b[33m,\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mname\u001b[33m=\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}\u001b[36mget\u001b[39m[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39mtoStringTag](){\u001b[36mreturn\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m}}\u001b[33m;\u001b[39mx(\u001b[33mD\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"PrismaClientConstructorValidationError\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mvar\u001b[39m nu\u001b[33m=\u001b[39m[\u001b[32m\"datasources\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"datasourceUrl\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"errorFormat\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"adapter\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"log\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"transactionOptions\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"omit\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"__internal\"\u001b[39m]\u001b[33m,\u001b[39miu\u001b[33m=\u001b[39m[\u001b[32m\"pretty\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"colorless\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"minimal\"\u001b[39m]\u001b[33m,\u001b[39mou\u001b[33m=\u001b[39m[\u001b[32m\"info\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"query\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"warn\"\u001b[39m\u001b[33m,\u001b[39m\u001b[32m\"error\"\u001b[39m]\u001b[33m,\u001b[39m\u001b[33mDf\u001b[39m\u001b[33m=\u001b[39m{datasources\u001b[33m:\u001b[39m(e\u001b[33m,\u001b[39m{datasourceNames\u001b[33m:\u001b[39mr})\u001b[33m=>\u001b[39m{\u001b[36mif\u001b[39m(e){\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m e\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(e))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for \"datasources\" provided to PrismaClient constructor`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[t\u001b[33m,\u001b[39mn]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(e)){\u001b[36mif\u001b[39m(\u001b[33m!\u001b[39mr\u001b[33m.\u001b[39mincludes(t)){\u001b[36mlet\u001b[39m i\u001b[33m=\u001b[39m\u001b[33mWr\u001b[39m(t\u001b[33m,\u001b[39mr)\u001b[33m||\u001b[39m\u001b[32m` Available datasources: ${r.join(\", \")}`\u001b[39m\u001b[33m;\u001b[39m\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Unknown datasource ${t} provided to PrismaClient constructor.${i}`\u001b[39m)}\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m n\u001b[33m!=\u001b[39m\u001b[32m\"object\"\u001b[39m\u001b[33m||\u001b[39m\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39misArray(n))\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 126 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(n\u001b[33m&&\u001b[39m\u001b[36mtypeof\u001b[39m n\u001b[33m==\u001b[39m\u001b[32m\"object\"\u001b[39m)\u001b[36mfor\u001b[39m(\u001b[36mlet\u001b[39m[i\u001b[33m,\u001b[39mo]\u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(n)){\u001b[36mif\u001b[39m(i\u001b[33m!==\u001b[39m\u001b[32m\"url\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(e)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 127 |\u001b[39m \u001b[32mIt should have this form: { url: \"CONNECTION_STRING\" }`\u001b[39m)\u001b[33m;\u001b[39m\u001b[36mif\u001b[39m(\u001b[36mtypeof\u001b[39m o\u001b[33m!=\u001b[39m\u001b[32m\"string\"\u001b[39m)\u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mD\u001b[39m(\u001b[32m`Invalid value ${JSON.stringify(o)} for datasource \"${t}\" provided to PrismaClient constructor.\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:7649)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleRequestError [as handleAndLogRequestError] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6784)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Zn.handleAndLogRequestError [as request] (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:124:6491)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat l (\u001b[22m\u001b[2msrc/generated/prisma/runtime/library.js\u001b[2m:133:9778)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/sso-auth-flow.test.ts\u001b[39m\u001b[0m\u001b[2m:41:5)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mSSO Authentication Flow Testing - Phase 2.3 › Error Handling › should handle invalid provider configuration\u001b[39m\u001b[22m\n\n    thrown: \"Exceeded timeout of 30000 ms for a hook.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 25 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 26 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 27 |\u001b[39m   beforeEach(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 28 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 29 |\u001b[39m     \u001b[36mawait\u001b[39m prisma\u001b[33m.\u001b[39mendpoint\u001b[33m.\u001b[39mdeleteMany({\u001b[22m\n\u001b[2m     \u001b[90m 30 |\u001b[39m       where\u001b[33m:\u001b[39m {\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat beforeEach (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/sso-auth-flow.test.ts\u001b[39m\u001b[0m\u001b[2m:27:3)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.describe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/sso-auth-flow.test.ts\u001b[39m\u001b[0m\u001b[2m:14:1)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mSSO Authentication Flow Testing - Phase 2.3 › Audit Logging › should log SSO sign-in events\u001b[39m\u001b[22m\n\n    thrown: \"Exceeded timeout of 30000 ms for a hook.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 25 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 26 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 27 |\u001b[39m   beforeEach(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 28 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 29 |\u001b[39m     \u001b[36mawait\u001b[39m prisma\u001b[33m.\u001b[39mendpoint\u001b[33m.\u001b[39mdeleteMany({\u001b[22m\n\u001b[2m     \u001b[90m 30 |\u001b[39m       where\u001b[33m:\u001b[39m {\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat beforeEach (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/sso-auth-flow.test.ts\u001b[39m\u001b[0m\u001b[2m:27:3)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.describe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/sso-auth-flow.test.ts\u001b[39m\u001b[0m\u001b[2m:14:1)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mSSO Authentication Flow Testing - Phase 2.3 › Audit Logging › should log token refresh events\u001b[39m\u001b[22m\n\n    thrown: \"Exceeded timeout of 30000 ms for a hook.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 25 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 26 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 27 |\u001b[39m   beforeEach(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 28 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 29 |\u001b[39m     \u001b[36mawait\u001b[39m prisma\u001b[33m.\u001b[39mendpoint\u001b[33m.\u001b[39mdeleteMany({\u001b[22m\n\u001b[2m     \u001b[90m 30 |\u001b[39m       where\u001b[33m:\u001b[39m {\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat beforeEach (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/sso-auth-flow.test.ts\u001b[39m\u001b[0m\u001b[2m:27:3)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.describe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/sso-auth-flow.test.ts\u001b[39m\u001b[0m\u001b[2m:14:1)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mSSO Authentication Flow Testing - Phase 2.3 › Audit Logging › should log provider disconnection events\u001b[39m\u001b[22m\n\n    thrown: \"Exceeded timeout of 30000 ms for a hook.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 25 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 26 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 27 |\u001b[39m   beforeEach(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 28 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 29 |\u001b[39m     \u001b[36mawait\u001b[39m prisma\u001b[33m.\u001b[39mendpoint\u001b[33m.\u001b[39mdeleteMany({\u001b[22m\n\u001b[2m     \u001b[90m 30 |\u001b[39m       where\u001b[33m:\u001b[39m {\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat beforeEach (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/sso-auth-flow.test.ts\u001b[39m\u001b[0m\u001b[2m:27:3)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.describe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/integration/api/sso-auth-flow.test.ts\u001b[39m\u001b[0m\u001b[2m:14:1)\u001b[22m\u001b[2m\u001b[22m\n\n\n  \u001b[1m● \u001b[22mTest suite failed to run\n\n    thrown: \"Exceeded timeout of 30000 ms for a hook.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m   afterAll(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m    |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m     \u001b[36mawait\u001b[39m testSuite\u001b[33m.\u001b[39mafterAll()\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\u001b[0m\n\n      \u001b[2mat afterAll (\u001b[22mtests/integration/api/sso-auth-flow.test.ts\u001b[2m:23:3)\u001b[22m\n      \u001b[2mat Object.describe (\u001b[22mtests/integration/api/sso-auth-flow.test.ts\u001b[2m:14:1)\u001b[22m\n","name":"/Users/connorbowen/apiq-mvp/tests/integration/api/sso-auth-flow.test.ts","startTime":1751471418399,"status":"failed","summary":""}],"wasInterrupted":false}
